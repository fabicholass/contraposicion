// Deobfuscation failed
var mx=Object.defineProperty;var gx=(n,e,t)=>e in n?mx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var yx=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Mt=(n,e,t)=>gx(n,typeof e!="symbol"?e+"":e,t);var EC=yx((AC,Sc)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var yo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function r_(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var Ep={exports:{}},uc={},Sp={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function vx(){if(M0)return ut;M0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),d=Symbol.iterator;function y(k){return k===null||typeof k!="object"?null:(k=d&&k[d]||k["@@iterator"],typeof k=="function"?k:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function A(k,G,X){this.props=k,this.context=G,this.refs=C,this.updater=X||_}A.prototype.isReactComponent={},A.prototype.setState=function(k,G){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,G,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function P(){}P.prototype=A.prototype;function N(k,G,X){this.props=k,this.context=G,this.refs=C,this.updater=X||_}var D=N.prototype=new P;D.constructor=N,T(D,A.prototype),D.isPureReactComponent=!0;var j=Array.isArray,O=Object.prototype.hasOwnProperty,q={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function J(k,G,X){var ee,ce={},me=null,le=null;if(G!=null)for(ee in G.ref!==void 0&&(le=G.ref),G.key!==void 0&&(me=""+G.key),G)O.call(G,ee)&&!U.hasOwnProperty(ee)&&(ce[ee]=G[ee]);var ge=arguments.length-2;if(ge===1)ce.children=X;else if(1<ge){for(var Ae=Array(ge),Ce=0;Ce<ge;Ce++)Ae[Ce]=arguments[Ce+2];ce.children=Ae}if(k&&k.defaultProps)for(ee in ge=k.defaultProps,ge)ce[ee]===void 0&&(ce[ee]=ge[ee]);return{$$typeof:n,type:k,key:me,ref:le,props:ce,_owner:q.current}}function se(k,G){return{$$typeof:n,type:k.type,key:G,ref:k.ref,props:k.props,_owner:k._owner}}function de(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function Se(k){var G={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(X){return G[X]})}var Q=/\/+/g;function Z(k,G){return typeof k=="object"&&k!==null&&k.key!=null?Se(""+k.key):G.toString(36)}function he(k,G,X,ee,ce){var me=typeof k;(me==="undefined"||me==="boolean")&&(k=null);var le=!1;if(k===null)le=!0;else switch(me){case"string":case"number":le=!0;break;case"object":switch(k.$$typeof){case n:case e:le=!0}}if(le)return le=k,ce=ce(le),k=ee===""?"."+Z(le,0):ee,j(ce)?(X="",k!=null&&(X=k.replace(Q,"$&/")+"/"),he(ce,G,X,"",function(Ce){return Ce})):ce!=null&&(de(ce)&&(ce=se(ce,X+(!ce.key||le&&le.key===ce.key?"":(""+ce.key).replace(Q,"$&/")+"/")+k)),G.push(ce)),1;if(le=0,ee=ee===""?".":ee+":",j(k))for(var ge=0;ge<k.length;ge++){me=k[ge];var Ae=ee+Z(me,ge);le+=he(me,G,X,Ae,ce)}else if(Ae=y(k),typeof Ae=="function")for(k=Ae.call(k),ge=0;!(me=k.next()).done;)me=me.value,Ae=ee+Z(me,ge++),le+=he(me,G,X,Ae,ce);else if(me==="object")throw G=String(k),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return le}function _e(k,G,X){if(k==null)return k;var ee=[],ce=0;return he(k,ee,"","",function(me){return G.call(X,me,ce++)}),ee}function B(k){if(k._status===-1){var G=k._result;G=G(),G.then(function(X){(k._status===0||k._status===-1)&&(k._status=1,k._result=X)},function(X){(k._status===0||k._status===-1)&&(k._status=2,k._result=X)}),k._status===-1&&(k._status=0,k._result=G)}if(k._status===1)return k._result.default;throw k._result}var H={current:null},R={transition:null},z={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:R,ReactCurrentOwner:q};function F(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:_e,forEach:function(k,G,X){_e(k,function(){G.apply(this,arguments)},X)},count:function(k){var G=0;return _e(k,function(){G++}),G},toArray:function(k){return _e(k,function(G){return G})||[]},only:function(k){if(!de(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},ut.Component=A,ut.Fragment=t,ut.Profiler=s,ut.PureComponent=N,ut.StrictMode=r,ut.Suspense=m,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,ut.act=F,ut.cloneElement=function(k,G,X){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var ee=T({},k.props),ce=k.key,me=k.ref,le=k._owner;if(G!=null){if(G.ref!==void 0&&(me=G.ref,le=q.current),G.key!==void 0&&(ce=""+G.key),k.type&&k.type.defaultProps)var ge=k.type.defaultProps;for(Ae in G)O.call(G,Ae)&&!U.hasOwnProperty(Ae)&&(ee[Ae]=G[Ae]===void 0&&ge!==void 0?ge[Ae]:G[Ae])}var Ae=arguments.length-2;if(Ae===1)ee.children=X;else if(1<Ae){ge=Array(Ae);for(var Ce=0;Ce<Ae;Ce++)ge[Ce]=arguments[Ce+2];ee.children=ge}return{$$typeof:n,type:k.type,key:ce,ref:me,props:ee,_owner:le}},ut.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:a,_context:k},k.Consumer=k},ut.createElement=J,ut.createFactory=function(k){var G=J.bind(null,k);return G.type=k,G},ut.createRef=function(){return{current:null}},ut.forwardRef=function(k){return{$$typeof:f,render:k}},ut.isValidElement=de,ut.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:B}},ut.memo=function(k,G){return{$$typeof:v,type:k,compare:G===void 0?null:G}},ut.startTransition=function(k){var G=R.transition;R.transition={};try{k()}finally{R.transition=G}},ut.unstable_act=F,ut.useCallback=function(k,G){return H.current.useCallback(k,G)},ut.useContext=function(k){return H.current.useContext(k)},ut.useDebugValue=function(){},ut.useDeferredValue=function(k){return H.current.useDeferredValue(k)},ut.useEffect=function(k,G){return H.current.useEffect(k,G)},ut.useId=function(){return H.current.useId()},ut.useImperativeHandle=function(k,G,X){return H.current.useImperativeHandle(k,G,X)},ut.useInsertionEffect=function(k,G){return H.current.useInsertionEffect(k,G)},ut.useLayoutEffect=function(k,G){return H.current.useLayoutEffect(k,G)},ut.useMemo=function(k,G){return H.current.useMemo(k,G)},ut.useReducer=function(k,G,X){return H.current.useReducer(k,G,X)},ut.useRef=function(k){return H.current.useRef(k)},ut.useState=function(k){return H.current.useState(k)},ut.useSyncExternalStore=function(k,G,X){return H.current.useSyncExternalStore(k,G,X)},ut.useTransition=function(){return H.current.useTransition()},ut.version="18.3.1",ut}var D0;function Lg(){return D0||(D0=1,Sp.exports=vx()),Sp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function _x(){if(N0)return uc;N0=1;var n=Lg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,m,v){var b,d={},y=null,_=null;v!==void 0&&(y=""+v),m.key!==void 0&&(y=""+m.key),m.ref!==void 0&&(_=m.ref);for(b in m)r.call(m,b)&&!a.hasOwnProperty(b)&&(d[b]=m[b]);if(f&&f.defaultProps)for(b in m=f.defaultProps,m)d[b]===void 0&&(d[b]=m[b]);return{$$typeof:e,type:f,key:y,ref:_,props:d,_owner:s.current}}return uc.Fragment=t,uc.jsx=c,uc.jsxs=c,uc}var F0;function xx(){return F0||(F0=1,Ep.exports=_x()),Ep.exports}var rt=xx(),jr=Lg();const xo=Tf(jr);var Td={},Tp={exports:{}},Fn={},Ap={exports:{}},Cp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function wx(){return O0||(O0=1,function(n){function e(R,z){var F=R.length;R.push(z);e:for(;0<F;){var k=F-1>>>1,G=R[k];if(0<s(G,z))R[k]=z,R[F]=G,F=k;else break e}}function t(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var z=R[0],F=R.pop();if(F!==z){R[0]=F;e:for(var k=0,G=R.length,X=G>>>1;k<X;){var ee=2*(k+1)-1,ce=R[ee],me=ee+1,le=R[me];if(0>s(ce,F))me<G&&0>s(le,ce)?(R[k]=le,R[me]=F,k=me):(R[k]=ce,R[ee]=F,k=ee);else if(me<G&&0>s(le,F))R[k]=le,R[me]=F,k=me;else break e}}return z}function s(R,z){var F=R.sortIndex-z.sortIndex;return F!==0?F:R.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],v=[],b=1,d=null,y=3,_=!1,T=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(R){for(var z=t(v);z!==null;){if(z.callback===null)r(v);else if(z.startTime<=R)r(v),z.sortIndex=z.expirationTime,e(m,z);else break;z=t(v)}}function j(R){if(C=!1,D(R),!T)if(t(m)!==null)T=!0,B(O);else{var z=t(v);z!==null&&H(j,z.startTime-R)}}function O(R,z){T=!1,C&&(C=!1,P(J),J=-1),_=!0;var F=y;try{for(D(z),d=t(m);d!==null&&(!(d.expirationTime>z)||R&&!Se());){var k=d.callback;if(typeof k=="function"){d.callback=null,y=d.priorityLevel;var G=k(d.expirationTime<=z);z=n.unstable_now(),typeof G=="function"?d.callback=G:d===t(m)&&r(m),D(z)}else r(m);d=t(m)}if(d!==null)var X=!0;else{var ee=t(v);ee!==null&&H(j,ee.startTime-z),X=!1}return X}finally{d=null,y=F,_=!1}}var q=!1,U=null,J=-1,se=5,de=-1;function Se(){return!(n.unstable_now()-de<se)}function Q(){if(U!==null){var R=n.unstable_now();de=R;var z=!0;try{z=U(!0,R)}finally{z?Z():(q=!1,U=null)}}else q=!1}var Z;if(typeof N=="function")Z=function(){N(Q)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,_e=he.port2;he.port1.onmessage=Q,Z=function(){_e.postMessage(null)}}else Z=function(){A(Q,0)};function B(R){U=R,q||(q=!0,Z())}function H(R,z){J=A(function(){R(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_continueExecution=function(){T||_||(T=!0,B(O))},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(R){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var F=y;y=z;try{return R()}finally{y=F}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(R,z){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=y;y=R;try{return z()}finally{y=F}},n.unstable_scheduleCallback=function(R,z,F){var k=n.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?k+F:k):F=k,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,R={id:b++,callback:z,priorityLevel:R,startTime:F,expirationTime:G,sortIndex:-1},F>k?(R.sortIndex=F,e(v,R),t(m)===null&&R===t(v)&&(C?(P(J),J=-1):C=!0,H(j,F-k))):(R.sortIndex=G,e(m,R),T||_||(T=!0,B(O))),R},n.unstable_shouldYield=Se,n.unstable_wrapCallback=function(R){var z=y;return function(){var F=y;y=z;try{return R.apply(this,arguments)}finally{y=F}}}}(Cp)),Cp}var B0;function bx(){return B0||(B0=1,Ap.exports=wx()),Ap.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function Ex(){if(L0)return Fn;L0=1;var n=Lg(),e=bx();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){c(i,o),c(i+"Capture",o)}function c(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},d={};function y(i){return m.call(d,i)?!0:m.call(b,i)?!1:v.test(i)?d[i]=!0:(b[i]=!0,!1)}function _(i,o,h,p){if(h!==null&&h.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function T(i,o,h,p){if(o===null||typeof o>"u"||_(i,o,h,p))return!0;if(p)return!1;if(h!==null)switch(h.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(i,o,h,p,x,S,M){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=x,this.mustUseProperty=h,this.propertyName=i,this.type=o,this.sanitizeURL=S,this.removeEmptyString=M}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];A[o]=new C(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function N(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(P,N);A[o]=new C(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(P,N);A[o]=new C(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(P,N);A[o]=new C(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function D(i,o,h,p){var x=A.hasOwnProperty(o)?A[o]:null;(x!==null?x.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(T(o,h,x,p)&&(h=null),p||x===null?y(o)&&(h===null?i.removeAttribute(o):i.setAttribute(o,""+h)):x.mustUseProperty?i[x.propertyName]=h===null?x.type===3?!1:"":h:(o=x.attributeName,p=x.attributeNamespace,h===null?i.removeAttribute(o):(x=x.type,h=x===3||x===4&&h===!0?"":""+h,p?i.setAttributeNS(p,o,h):i.setAttribute(o,h))))}var j=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),q=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),Se=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),R=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=R&&i[R]||i["@@iterator"],typeof i=="function"?i:null)}var F=Object.assign,k;function G(i){if(k===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);k=o&&o[1]||""}return`
`+k+i}var X=!1;function ee(i,o){if(!i||X)return"";X=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(ae){var p=ae}Reflect.construct(i,[],o)}else{try{o.call()}catch(ae){p=ae}i.call(o.prototype)}else{try{throw Error()}catch(ae){p=ae}i()}}catch(ae){if(ae&&p&&typeof ae.stack=="string"){for(var x=ae.stack.split(`
`),S=p.stack.split(`
`),M=x.length-1,V=S.length-1;1<=M&&0<=V&&x[M]!==S[V];)V--;for(;1<=M&&0<=V;M--,V--)if(x[M]!==S[V]){if(M!==1||V!==1)do if(M--,V--,0>V||x[M]!==S[V]){var W=`
`+x[M].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=M&&0<=V);break}}}finally{X=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?G(i):""}function ce(i){switch(i.tag){case 5:return G(i.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return i=ee(i.type,!1),i;case 11:return i=ee(i.type.render,!1),i;case 1:return i=ee(i.type,!0),i;default:return""}}function me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case q:return"Portal";case se:return"Profiler";case J:return"StrictMode";case Z:return"Suspense";case he:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Se:return(i.displayName||"Context")+".Consumer";case de:return(i._context.displayName||"Context")+".Provider";case Q:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case _e:return o=i.displayName||null,o!==null?o:me(i.type)||"Memo";case B:o=i._payload,i=i._init;try{return me(i(o))}catch{}}return null}function le(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(o);case 8:return o===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ge(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ae(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ce(i){var o=Ae(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,S=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return x.call(this)},set:function(M){p=""+M,S.call(this,M)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return p},setValue:function(M){p=""+M},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Be(i){i._valueTracker||(i._valueTracker=Ce(i))}function Ue(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var h=o.getValue(),p="";return i&&(p=Ae(i)?i.checked?"true":"false":i.value),i=p,i!==h?(o.setValue(i),!0):!1}function Je(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function _t(i,o){var h=o.checked;return F({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??i._wrapperState.initialChecked})}function qe(i,o){var h=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;h=ge(o.value!=null?o.value:h),i._wrapperState={initialChecked:p,initialValue:h,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Qe(i,o){o=o.checked,o!=null&&D(i,"checked",o,!1)}function or(i,o){Qe(i,o);var h=ge(o.value),p=o.type;if(h!=null)p==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?To(i,o.type,h):o.hasOwnProperty("defaultValue")&&To(i,o.type,ge(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Un(i,o,h){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,h||o===i.value||(i.value=o),i.defaultValue=o}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function To(i,o,h){(o!=="number"||Je(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var Gn=Array.isArray;function qi(i,o,h,p){if(i=i.options,o){o={};for(var x=0;x<h.length;x++)o["$"+h[x]]=!0;for(h=0;h<i.length;h++)x=o.hasOwnProperty("$"+i[h].value),i[h].selected!==x&&(i[h].selected=x),x&&p&&(i[h].defaultSelected=!0)}else{for(h=""+ge(h),o=null,x=0;x<i.length;x++){if(i[x].value===h){i[x].selected=!0,p&&(i[x].defaultSelected=!0);return}o!==null||i[x].disabled||(o=i[x])}o!==null&&(o.selected=!0)}}function Ia(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return F({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function $l(i,o){var h=o.value;if(h==null){if(h=o.children,o=o.defaultValue,h!=null){if(o!=null)throw Error(t(92));if(Gn(h)){if(1<h.length)throw Error(t(93));h=h[0]}o=h}o==null&&(o=""),h=o}i._wrapperState={initialValue:ge(h)}}function Qi(i,o){var h=ge(o.value),p=ge(o.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),o.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),p!=null&&(i.defaultValue=""+p)}function Xl(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Ra(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ka(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Ra(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ei,Ao=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,h,p,x){MSApp.execUnsafeLocalFunction(function(){return i(o,h,p,x)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(ei=ei||document.createElement("div"),ei.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ei.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Ki(i,o){if(o){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=o;return}}i.textContent=o}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hh=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(i){hh.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Os[o]=Os[i]})});function Co(i,o,h){return o==null||typeof o=="boolean"||o===""?"":h||typeof o!="number"||o===0||Os.hasOwnProperty(i)&&Os[i]?(""+o).trim():o+"px"}function Bs(i,o){i=i.style;for(var h in o)if(o.hasOwnProperty(h)){var p=h.indexOf("--")===0,x=Co(h,o[h],p);h==="float"&&(h="cssFloat"),p?i.setProperty(h,x):i[h]=x}}var ne=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oe(i,o){if(o){if(ne[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function lt(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function Et(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var nt=null,Or=null,Vr=null;function Tr(i){if(i=Zo(i)){if(typeof nt!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Jo(o),nt(i.stateNode,i.type,o))}}function mn(i){Or?Vr?Vr.push(i):Vr=[i]:Or=i}function Ls(){if(Or){var i=Or,o=Vr;if(Vr=Or=null,Tr(i),o)for(i=0;i<o.length;i++)Tr(o[i])}}function mi(i,o){return i(o)}function Ar(){}var Us=!1;function Po(i,o,h){if(Us)return i(o,h);Us=!0;try{return mi(i,o,h)}finally{Us=!1,(Or!==null||Vr!==null)&&(Ar(),Ls())}}function Zi(i,o){var h=i.stateNode;if(h===null)return null;var p=Jo(h);if(p===null)return null;h=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(t(231,o,typeof h));return h}var gi=!1;if(f)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){gi=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{gi=!1}function Gs(i,o,h,p,x,S,M,V,W){var ae=Array.prototype.slice.call(arguments,3);try{o.apply(h,ae)}catch(we){this.onError(we)}}var Hn=!1,Ji=null,Hs=!1,vi=null,Ma={onError:function(i){Hn=!0,Ji=i}};function Yl(i,o,h,p,x,S,M,V,W){Hn=!1,Ji=null,Gs.apply(Ma,arguments)}function Da(i,o,h,p,x,S,M,V,W){if(Yl.apply(this,arguments),Hn){if(Hn){var ae=Ji;Hn=!1,Ji=null}else throw Error(t(198));Hs||(Hs=!0,vi=ae)}}function ti(i){var o=i,h=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(h=o.return),i=o.return;while(i)}return o.tag===3?h:null}function ql(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Io(i){if(ti(i)!==i)throw Error(t(188))}function es(i){var o=i.alternate;if(!o){if(o=ti(i),o===null)throw Error(t(188));return o!==i?null:i}for(var h=i,p=o;;){var x=h.return;if(x===null)break;var S=x.alternate;if(S===null){if(p=x.return,p!==null){h=p;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===h)return Io(x),i;if(S===p)return Io(x),o;S=S.sibling}throw Error(t(188))}if(h.return!==p.return)h=x,p=S;else{for(var M=!1,V=x.child;V;){if(V===h){M=!0,h=x,p=S;break}if(V===p){M=!0,p=x,h=S;break}V=V.sibling}if(!M){for(V=S.child;V;){if(V===h){M=!0,h=S,p=x;break}if(V===p){M=!0,p=S,h=x;break}V=V.sibling}if(!M)throw Error(t(189))}}if(h.alternate!==p)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?i:o}function zs(i){return i=es(i),i!==null?Ql(i):null}function Ql(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Ql(i);if(o!==null)return o;i=i.sibling}return null}var Na=e.unstable_scheduleCallback,Lc=e.unstable_cancelCallback,Uf=e.unstable_shouldYield,Gf=e.unstable_requestPaint,Xt=e.unstable_now,Fa=e.unstable_getCurrentPriorityLevel,Oa=e.unstable_ImmediatePriority,Kl=e.unstable_UserBlockingPriority,Zl=e.unstable_NormalPriority,ch=e.unstable_LowPriority,js=e.unstable_IdlePriority,zn=null,ft=null;function Ct(i){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:Vs,Cr=Math.log,Wr=Math.LN2;function Vs(i){return i>>>=0,i===0?32:31-(Cr(i)/Wr|0)|0}var _i=64,Pr=4194304;function Ws(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ba(i,o){var h=i.pendingLanes;if(h===0)return 0;var p=0,x=i.suspendedLanes,S=i.pingedLanes,M=h&268435455;if(M!==0){var V=M&~x;V!==0?p=Ws(V):(S&=M,S!==0&&(p=Ws(S)))}else M=h&~x,M!==0?p=Ws(M):S!==0&&(p=Ws(S));if(p===0)return 0;if(o!==0&&o!==p&&!(o&x)&&(x=p&-p,S=o&-o,x>=S||x===16&&(S&4194240)!==0))return o;if(p&4&&(p|=h&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=p;0<o;)h=31-mr(o),x=1<<h,p|=i[h],o&=~x;return p}function Uc(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jl(i,o){for(var h=i.suspendedLanes,p=i.pingedLanes,x=i.expirationTimes,S=i.pendingLanes;0<S;){var M=31-mr(S),V=1<<M,W=x[M];W===-1?(!(V&h)||V&p)&&(x[M]=Uc(V,o)):W<=o&&(i.expiredLanes|=V),S&=~V}}function eu(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function gn(){var i=_i;return _i<<=1,!(_i&4194240)&&(_i=64),i}function dh(i){for(var o=[],h=0;31>h;h++)o.push(i);return o}function La(i,o,h){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-mr(o),i[o]=h}function fh(i,o){var h=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<h;){var x=31-mr(h),S=1<<x;o[x]=0,p[x]=-1,i[x]=-1,h&=~S}}function Ua(i,o){var h=i.entangledLanes|=o;for(i=i.entanglements;h;){var p=31-mr(h),x=1<<p;x&o|i[p]&o&&(i[p]|=o),h&=~x}}var pt=0;function Ga(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Gc,Ha,ph,tu,Ro,za=!1,ht=[],xi=null,ri=null,wi=null,ja=new Map,Va=new Map,Dt=[],mh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hc(i,o){switch(i){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":ja.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Va.delete(o.pointerId)}}function ko(i,o,h,p,x,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:h,eventSystemFlags:p,nativeEvent:S,targetContainers:[x]},o!==null&&(o=Zo(o),o!==null&&Ha(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),i)}function Hf(i,o,h,p,x){switch(o){case"focusin":return xi=ko(xi,i,o,h,p,x),!0;case"dragenter":return ri=ko(ri,i,o,h,p,x),!0;case"mouseover":return wi=ko(wi,i,o,h,p,x),!0;case"pointerover":var S=x.pointerId;return ja.set(S,ko(ja.get(S)||null,i,o,h,p,x)),!0;case"gotpointercapture":return S=x.pointerId,Va.set(S,ko(Va.get(S)||null,i,o,h,p,x)),!0}return!1}function Wa(i){var o=hs(i.target);if(o!==null){var h=ti(o);if(h!==null){if(o=h.tag,o===13){if(o=ql(h),o!==null){i.blockedOn=o,Ro(i.priority,function(){ph(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rn(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var h=$r(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var p=new h.constructor(h.type,h);xt=p,h.target.dispatchEvent(p),xt=null}else return o=Zo(h),o!==null&&Ha(o),i.blockedOn=h,!1;o.shift()}return!0}function yn(i,o,h){rn(i)&&h.delete(o)}function bi(){za=!1,xi!==null&&rn(xi)&&(xi=null),ri!==null&&rn(ri)&&(ri=null),wi!==null&&rn(wi)&&(wi=null),ja.forEach(yn),Va.forEach(yn)}function ts(i,o){i.blockedOn===o&&(i.blockedOn=null,za||(za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bi)))}function $s(i){function o(x){return ts(x,i)}if(0<ht.length){ts(ht[0],i);for(var h=1;h<ht.length;h++){var p=ht[h];p.blockedOn===i&&(p.blockedOn=null)}}for(xi!==null&&ts(xi,i),ri!==null&&ts(ri,i),wi!==null&&ts(wi,i),ja.forEach(o),Va.forEach(o),h=0;h<Dt.length;h++)p=Dt[h],p.blockedOn===i&&(p.blockedOn=null);for(;0<Dt.length&&(h=Dt[0],h.blockedOn===null);)Wa(h),h.blockedOn===null&&Dt.shift()}var Xs=j.ReactCurrentBatchConfig,nn=!0;function Mo(i,o,h,p){var x=pt,S=Xs.transition;Xs.transition=null;try{pt=1,No(i,o,h,p)}finally{pt=x,Xs.transition=S}}function Do(i,o,h,p){var x=pt,S=Xs.transition;Xs.transition=null;try{pt=4,No(i,o,h,p)}finally{pt=x,Xs.transition=S}}function No(i,o,h,p){if(nn){var x=$r(i,o,h,p);if(x===null)wu(i,o,p,Ys,h),Hc(i,p);else if(Hf(x,i,o,h,p))p.stopPropagation();else if(Hc(i,p),o&4&&-1<mh.indexOf(i)){for(;x!==null;){var S=Zo(x);if(S!==null&&Gc(S),S=$r(i,o,h,p),S===null&&wu(i,o,p,Ys,h),S===x)break;x=S}x!==null&&p.stopPropagation()}else wu(i,o,p,null,h)}}var Ys=null;function $r(i,o,h,p){if(Ys=null,i=Et(p),i=hs(i),i!==null)if(o=ti(i),o===null)i=null;else if(h=o.tag,h===13){if(i=ql(o),i!==null)return i;i=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Ys=i,null}function sn(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fa()){case Oa:return 1;case Kl:return 4;case Zl:case ch:return 16;case js:return 536870912;default:return 16}default:return 16}}var Xr=null,vn=null,_n=null;function rs(){if(_n)return _n;var i,o=vn,h=o.length,p,x="value"in Xr?Xr.value:Xr.textContent,S=x.length;for(i=0;i<h&&o[i]===x[i];i++);var M=h-i;for(p=1;p<=M&&o[h-p]===x[S-p];p++);return _n=x.slice(i,1<p?1-p:void 0)}function $a(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Fo(){return!0}function ru(){return!1}function Nt(i){function o(h,p,x,S,M){this._reactName=h,this._targetInst=x,this.type=p,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(h=i[V],this[V]=h?h(S):S[V]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Fo:ru,this.isPropagationStopped=ru,this}return F(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),o}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pt=Nt(vr),Ei=F({},vr,{view:0,detail:0}),jn=Nt(Ei),nu,iu,qs,Oo=F({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qs&&(qs&&i.type==="mousemove"?(nu=i.screenX-qs.screenX,iu=i.screenY-qs.screenY):iu=nu=0,qs=i),nu)},movementY:function(i){return"movementY"in i?i.movementY:iu}}),gh=Nt(Oo),su=F({},Oo,{dataTransfer:0}),zc=Nt(su),Bo=F({},Ei,{relatedTarget:0}),Xa=Nt(Bo),zf=F({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=Nt(zf),jf=F({},vr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Vn=Nt(jf),au=F({},vr,{data:0}),Ya=Nt(au),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=vh[i])?!!o[i]:!1}function qa(){return jc}var _h=F({},Ei,{key:function(i){if(i.key){var o=Lo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=$a(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?yh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(i){return i.type==="keypress"?$a(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$a(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Uo=Nt(_h),xn=F({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=Nt(xn),xh=F({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),Vc=Nt(xh),ni=F({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),is=Nt(ni),wh=F({},Oo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Wc=Nt(wh),Si=[9,13,27,32],ii=f&&"CompositionEvent"in window,ss=null;f&&"documentMode"in document&&(ss=document.documentMode);var $c=f&&"TextEvent"in window&&!ss,Qa=f&&(!ii||ss&&8<ss&&11>=ss),bh=" ",Eh=!1;function lu(i,o){switch(i){case"keyup":return Si.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Qs=!1;function Xc(i,o){switch(i){case"compositionend":return Ka(o);case"keypress":return o.which!==32?null:(Eh=!0,bh);case"textInput":return i=o.data,i===bh&&Eh?null:i;default:return null}}function Yc(i,o){if(Qs)return i==="compositionend"||!ii&&lu(i,o)?(i=rs(),_n=vn=Xr=null,Qs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Qa&&o.locale!=="ko"?null:o.data;default:return null}}var Sh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Go(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Sh[i.type]:o==="textarea"}function Za(i,o,h,p){mn(p),o=sl(o,"onChange"),0<o.length&&(h=new Pt("onChange","change",null,h,p),i.push({event:h,listeners:o}))}var Ho=null,zo=null;function jo(i){vu(i,0)}function Ja(i){var o=eo(i);if(Ue(o))return i}function el(i,o){if(i==="change")return o}var on=!1;if(f){var Ks;if(f){var os="oninput"in document;if(!os){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),os=typeof Wn.oninput=="function"}Ks=os}else Ks=!1;on=Ks&&(!document.documentMode||9<document.documentMode)}function uu(){Ho&&(Ho.detachEvent("onpropertychange",Zs),zo=Ho=null)}function Zs(i){if(i.propertyName==="value"&&Ja(zo)){var o=[];Za(o,zo,i,Et(i)),Po(jo,o)}}function qc(i,o,h){i==="focusin"?(uu(),Ho=o,zo=h,Ho.attachEvent("onpropertychange",Zs)):i==="focusout"&&uu()}function Th(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ja(zo)}function zt(i,o){if(i==="click")return Ja(o)}function hu(i,o){if(i==="input"||i==="change")return Ja(o)}function Ah(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var an=typeof Object.is=="function"?Object.is:Ah;function as(i,o){if(an(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var h=Object.keys(i),p=Object.keys(o);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var x=h[p];if(!m.call(o,x)||!an(i[x],o[x]))return!1}return!0}function cu(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ls(i,o){var h=cu(i);i=0;for(var p;h;){if(h.nodeType===3){if(p=i+h.textContent.length,i<=o&&p>=o)return{node:h,offset:o-i};i=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=cu(h)}}function Lt(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Lt(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function ar(){for(var i=window,o=Je();o instanceof i.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)i=o.contentWindow;else break;o=Je(i.document)}return o}function Zt(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function du(i){var o=ar(),h=i.focusedElem,p=i.selectionRange;if(o!==h&&h&&h.ownerDocument&&Lt(h.ownerDocument.documentElement,h)){if(p!==null&&Zt(h)){if(o=p.start,i=p.end,i===void 0&&(i=o),"selectionStart"in h)h.selectionStart=o,h.selectionEnd=Math.min(i,h.value.length);else if(i=(o=h.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var x=h.textContent.length,S=Math.min(p.start,x);p=p.end===void 0?S:Math.min(p.end,x),!i.extend&&S>p&&(x=p,p=S,S=x),x=ls(h,S);var M=ls(h,p);x&&M&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==M.node||i.focusOffset!==M.offset)&&(o=o.createRange(),o.setStart(x.node,x.offset),i.removeAllRanges(),S>p?(i.addRange(o),i.extend(M.node,M.offset)):(o.setEnd(M.node,M.offset),i.addRange(o)))}}for(o=[],i=h;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<o.length;h++)i=o[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var tl=f&&"documentMode"in document&&11>=document.documentMode,si=null,Ch=null,Jt=null,rl=!1;function fu(i,o,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;rl||si==null||si!==Je(p)||(p=si,"selectionStart"in p&&Zt(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Jt&&as(Jt,p)||(Jt=p,p=sl(Ch,"onSelect"),0<p.length&&(o=new Pt("onSelect","select",null,o,h),i.push({event:o,listeners:p}),o.target=si)))}function Vo(i,o){var h={};return h[i.toLowerCase()]=o.toLowerCase(),h["Webkit"+i]="webkit"+o,h["Moz"+i]="moz"+o,h}var Br={animationend:Vo("Animation","AnimationEnd"),animationiteration:Vo("Animation","AnimationIteration"),animationstart:Vo("Animation","AnimationStart"),transitionend:Vo("Transition","TransitionEnd")},Yr={},Wo={};f&&(Wo=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function $o(i){if(Yr[i])return Yr[i];if(!Br[i])return i;var o=Br[i],h;for(h in o)if(o.hasOwnProperty(h)&&h in Wo)return Yr[i]=o[h];return i}var pu=$o("animationend"),Ph=$o("animationiteration"),Ih=$o("animationstart"),Rh=$o("transitionend"),kh=new Map,Mh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(i,o){kh.set(i,o),a(o,[i])}for(var mu=0;mu<Mh.length;mu++){var gu=Mh[mu],nl=gu.toLowerCase(),Qc=gu[0].toUpperCase()+gu.slice(1);Ti(nl,"on"+Qc)}Ti(pu,"onAnimationEnd"),Ti(Ph,"onAnimationIteration"),Ti(Ih,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(Rh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yu=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function Dh(i,o,h){var p=i.type||"unknown-event";i.currentTarget=h,Da(p,o,void 0,i),i.currentTarget=null}function vu(i,o){o=(o&4)!==0;for(var h=0;h<i.length;h++){var p=i[h],x=p.event;p=p.listeners;e:{var S=void 0;if(o)for(var M=p.length-1;0<=M;M--){var V=p[M],W=V.instance,ae=V.currentTarget;if(V=V.listener,W!==S&&x.isPropagationStopped())break e;Dh(x,V,ae),S=W}else for(M=0;M<p.length;M++){if(V=p[M],W=V.instance,ae=V.currentTarget,V=V.listener,W!==S&&x.isPropagationStopped())break e;Dh(x,V,ae),S=W}}}if(Hs)throw i=vi,Hs=!1,vi=null,i}function It(i,o){var h=o[Ir];h===void 0&&(h=o[Ir]=new Set);var p=i+"__bubble";h.has(p)||(xu(o,i,2,!1),h.add(p))}function _u(i,o,h){var p=0;o&&(p|=4),xu(h,i,p,o)}var il="_reactListening"+Math.random().toString(36).slice(2);function Xo(i){if(!i[il]){i[il]=!0,r.forEach(function(h){h!=="selectionchange"&&(yu.has(h)||_u(h,!1,i),_u(h,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[il]||(o[il]=!0,_u("selectionchange",!1,o))}}function xu(i,o,h,p){switch(sn(o)){case 1:var x=Mo;break;case 4:x=Do;break;default:x=No}h=x.bind(null,o,h,i),x=void 0,!gi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),p?x!==void 0?i.addEventListener(o,h,{capture:!0,passive:x}):i.addEventListener(o,h,!0):x!==void 0?i.addEventListener(o,h,{passive:x}):i.addEventListener(o,h,!1)}function wu(i,o,h,p,x){var S=p;if(!(o&1)&&!(o&2)&&p!==null)e:for(;;){if(p===null)return;var M=p.tag;if(M===3||M===4){var V=p.stateNode.containerInfo;if(V===x||V.nodeType===8&&V.parentNode===x)break;if(M===4)for(M=p.return;M!==null;){var W=M.tag;if((W===3||W===4)&&(W=M.stateNode.containerInfo,W===x||W.nodeType===8&&W.parentNode===x))return;M=M.return}for(;V!==null;){if(M=hs(V),M===null)return;if(W=M.tag,W===5||W===6){p=S=M;continue e}V=V.parentNode}}p=p.return}Po(function(){var ae=S,we=Et(h),Ee=[];e:{var xe=kh.get(i);if(xe!==void 0){var Ne=Pt,He=i;switch(i){case"keypress":if($a(h)===0)break e;case"keydown":case"keyup":Ne=Uo;break;case"focusin":He="focus",Ne=Xa;break;case"focusout":He="blur",Ne=Xa;break;case"beforeblur":case"afterblur":Ne=Xa;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=Vc;break;case pu:case Ph:case Ih:Ne=ou;break;case Rh:Ne=is;break;case"scroll":Ne=jn;break;case"wheel":Ne=Wc;break;case"copy":case"cut":case"paste":Ne=Vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=ns}var je=(o&4)!==0,cr=!je&&i==="scroll",te=je?xe!==null?xe+"Capture":null:xe;je=[];for(var Y=ae,ie;Y!==null;){ie=Y;var Ie=ie.stateNode;if(ie.tag===5&&Ie!==null&&(ie=Ie,te!==null&&(Ie=Zi(Y,te),Ie!=null&&je.push(Yo(Y,Ie,ie)))),cr)break;Y=Y.return}0<je.length&&(xe=new Ne(xe,He,null,h,we),Ee.push({event:xe,listeners:je}))}}if(!(o&7)){e:{if(xe=i==="mouseover"||i==="pointerover",Ne=i==="mouseout"||i==="pointerout",xe&&h!==xt&&(He=h.relatedTarget||h.fromElement)&&(hs(He)||He[jt]))break e;if((Ne||xe)&&(xe=we.window===we?we:(xe=we.ownerDocument)?xe.defaultView||xe.parentWindow:window,Ne?(He=h.relatedTarget||h.toElement,Ne=ae,He=He?hs(He):null,He!==null&&(cr=ti(He),He!==cr||He.tag!==5&&He.tag!==6)&&(He=null)):(Ne=null,He=ae),Ne!==He)){if(je=gh,Ie="onMouseLeave",te="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(je=ns,Ie="onPointerLeave",te="onPointerEnter",Y="pointer"),cr=Ne==null?xe:eo(Ne),ie=He==null?xe:eo(He),xe=new je(Ie,Y+"leave",Ne,h,we),xe.target=cr,xe.relatedTarget=ie,Ie=null,hs(we)===ae&&(je=new je(te,Y+"enter",He,h,we),je.target=ie,je.relatedTarget=cr,Ie=je),cr=Ie,Ne&&He)t:{for(je=Ne,te=He,Y=0,ie=je;ie;ie=qo(ie))Y++;for(ie=0,Ie=te;Ie;Ie=qo(Ie))ie++;for(;0<Y-ie;)je=qo(je),Y--;for(;0<ie-Y;)te=qo(te),ie--;for(;Y--;){if(je===te||te!==null&&je===te.alternate)break t;je=qo(je),te=qo(te)}je=null}else je=null;Ne!==null&&Nh(Ee,xe,Ne,je,!1),He!==null&&cr!==null&&Nh(Ee,cr,He,je,!0)}}e:{if(xe=ae?eo(ae):window,Ne=xe.nodeName&&xe.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&xe.type==="file")var We=el;else if(Go(xe))if(on)We=hu;else{We=Th;var Ke=qc}else(Ne=xe.nodeName)&&Ne.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(We=zt);if(We&&(We=We(i,ae))){Za(Ee,We,h,we);break e}Ke&&Ke(i,xe,ae),i==="focusout"&&(Ke=xe._wrapperState)&&Ke.controlled&&xe.type==="number"&&To(xe,"number",xe.value)}switch(Ke=ae?eo(ae):window,i){case"focusin":(Go(Ke)||Ke.contentEditable==="true")&&(si=Ke,Ch=ae,Jt=null);break;case"focusout":Jt=Ch=si=null;break;case"mousedown":rl=!0;break;case"contextmenu":case"mouseup":case"dragend":rl=!1,fu(Ee,h,we);break;case"selectionchange":if(tl)break;case"keydown":case"keyup":fu(Ee,h,we)}var Ze;if(ii)e:{switch(i){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Qs?lu(i,h)&&(tt="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(tt="onCompositionStart");tt&&(Qa&&h.locale!=="ko"&&(Qs||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Qs&&(Ze=rs()):(Xr=we,vn="value"in Xr?Xr.value:Xr.textContent,Qs=!0)),Ke=sl(ae,tt),0<Ke.length&&(tt=new Ya(tt,i,null,h,we),Ee.push({event:tt,listeners:Ke}),Ze?tt.data=Ze:(Ze=Ka(h),Ze!==null&&(tt.data=Ze)))),(Ze=$c?Xc(i,h):Yc(i,h))&&(ae=sl(ae,"onBeforeInput"),0<ae.length&&(we=new Ya("onBeforeInput","beforeinput",null,h,we),Ee.push({event:we,listeners:ae}),we.data=Ze))}vu(Ee,o)})}function Yo(i,o,h){return{instance:i,listener:o,currentTarget:h}}function sl(i,o){for(var h=o+"Capture",p=[];i!==null;){var x=i,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=Zi(i,h),S!=null&&p.unshift(Yo(i,S,x)),S=Zi(i,o),S!=null&&p.push(Yo(i,S,x))),i=i.return}return p}function qo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Nh(i,o,h,p,x){for(var S=o._reactName,M=[];h!==null&&h!==p;){var V=h,W=V.alternate,ae=V.stateNode;if(W!==null&&W===p)break;V.tag===5&&ae!==null&&(V=ae,x?(W=Zi(h,S),W!=null&&M.unshift(Yo(h,W,V))):x||(W=Zi(h,S),W!=null&&M.push(Yo(h,W,V)))),h=h.return}M.length!==0&&i.push({event:o,listeners:M})}var Vf=/\r\n?/g,Wf=/\u0000|\uFFFD/g;function Fh(i){return(typeof i=="string"?i:""+i).replace(Vf,`
`).replace(Wf,"")}function ol(i,o,h){if(o=Fh(o),Fh(i)!==o&&h)throw Error(t(425))}function al(){}var Qo=null,Oh=null;function Bh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Lh=typeof setTimeout=="function"?setTimeout:void 0,Ko=typeof clearTimeout=="function"?clearTimeout:void 0,bu=typeof Promise=="function"?Promise:void 0,Uh=typeof queueMicrotask=="function"?queueMicrotask:typeof bu<"u"?function(i){return bu.resolve(null).then(i).catch($f)}:Lh;function $f(i){setTimeout(function(){throw i})}function Eu(i,o){var h=o,p=0;do{var x=h.nextSibling;if(i.removeChild(h),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(p===0){i.removeChild(x),$s(o);return}p--}else h!=="$"&&h!=="$?"&&h!=="$!"||p++;h=x}while(h);$s(o)}function Ai(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Gh(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(o===0)return i;o--}else h==="/$"&&o++}i=i.previousSibling}return null}var Js=Math.random().toString(36).slice(2),$n="__reactFiber$"+Js,ll="__reactProps$"+Js,jt="__reactContainer$"+Js,Ir="__reactEvents$"+Js,Kc="__reactListeners$"+Js,Zc="__reactHandles$"+Js;function hs(i){var o=i[$n];if(o)return o;for(var h=i.parentNode;h;){if(o=h[jt]||h[$n]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(i=Gh(i);i!==null;){if(h=i[$n])return h;i=Gh(i)}return o}i=h,h=i.parentNode}return null}function Zo(i){return i=i[$n]||i[jt],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function eo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Jo(i){return i[ll]||null}var Su=[],cs=-1;function Ci(i){return{current:i}}function Rt(i){0>cs||(i.current=Su[cs],Su[cs]=null,cs--)}function wt(i,o){cs++,Su[cs]=i.current,i.current=o}var wn={},lr=Ci(wn),_r=Ci(!1),Pi=wn;function ds(i,o){var h=i.type.contextTypes;if(!h)return wn;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in h)x[S]=o[S];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=x),x}function Lr(i){return i=i.childContextTypes,i!=null}function ea(){Rt(_r),Rt(lr)}function ul(i,o,h){if(lr.current!==wn)throw Error(t(168));wt(lr,o),wt(_r,h)}function Hh(i,o,h){var p=i.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return h;p=p.getChildContext();for(var x in p)if(!(x in o))throw Error(t(108,le(i)||"Unknown",x));return F({},h,p)}function ta(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||wn,Pi=lr.current,wt(lr,i),wt(_r,_r.current),!0}function zh(i,o,h){var p=i.stateNode;if(!p)throw Error(t(169));h?(i=Hh(i,o,Pi),p.__reactInternalMemoizedMergedChildContext=i,Rt(_r),Rt(lr),wt(lr,i)):Rt(_r),wt(_r,h)}var bn=null,En=!1,Sn=!1;function jh(i){bn===null?bn=[i]:bn.push(i)}function Jc(i){En=!0,jh(i)}function Tn(){if(!Sn&&bn!==null){Sn=!0;var i=0,o=pt;try{var h=bn;for(pt=1;i<h.length;i++){var p=h[i];do p=p(!0);while(p!==null)}bn=null,En=!1}catch(x){throw bn!==null&&(bn=bn.slice(i+1)),Na(Oa,Tn),x}finally{pt=o,Sn=!1}}return null}var er=[],ra=0,Tu=null,to=0,Tt=[],An=0,De=null,qr=1,oi="";function fs(i,o){er[ra++]=to,er[ra++]=Tu,Tu=i,to=o}function na(i,o,h){Tt[An++]=qr,Tt[An++]=oi,Tt[An++]=De,De=i;var p=qr;i=oi;var x=32-mr(p)-1;p&=~(1<<x),h+=1;var S=32-mr(o)+x;if(30<S){var M=x-x%5;S=(p&(1<<M)-1).toString(32),p>>=M,x-=M,qr=1<<32-mr(o)+x|h<<x|p,oi=S+i}else qr=1<<S|h<<x|p,oi=i}function ia(i){i.return!==null&&(fs(i,1),na(i,1,0))}function hl(i){for(;i===Tu;)Tu=er[--ra],er[ra]=null,to=er[--ra],er[ra]=null;for(;i===De;)De=Tt[--An],Tt[An]=null,oi=Tt[--An],Tt[An]=null,qr=Tt[--An],Tt[An]=null}var Qr=null,Kr=null,Ft=!1,ln=null;function Au(i,o){var h=ci(5,null,null,0);h.elementType="DELETED",h.stateNode=o,h.return=i,o=i.deletions,o===null?(i.deletions=[h],i.flags|=16):o.push(h)}function Rr(i,o){switch(i.tag){case 5:var h=i.type;return o=o.nodeType!==1||h.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Qr=i,Kr=Ai(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Qr=i,Kr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(h=De!==null?{id:qr,overflow:oi}:null,i.memoizedState={dehydrated:o,treeContext:h,retryLane:1073741824},h=ci(18,null,null,0),h.stateNode=o,h.return=i,i.child=h,Qr=i,Kr=null,!0):!1;default:return!1}}function Cn(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Pn(i){if(Ft){var o=Kr;if(o){var h=o;if(!Rr(i,o)){if(Cn(i))throw Error(t(418));o=Ai(h.nextSibling);var p=Qr;o&&Rr(i,o)?Au(p,h):(i.flags=i.flags&-4097|2,Ft=!1,Qr=i)}}else{if(Cn(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ft=!1,Qr=i}}}function Cu(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Qr=i}function cl(i){if(i!==Qr)return!1;if(!Ft)return Cu(i),Ft=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Bh(i.type,i.memoizedProps)),o&&(o=Kr)){if(Cn(i))throw In(),Error(t(418));for(;o;)Au(i,o),o=Ai(o.nextSibling)}if(Cu(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(o===0){Kr=Ai(i.nextSibling);break e}o--}else h!=="$"&&h!=="$!"&&h!=="$?"||o++}i=i.nextSibling}Kr=null}}else Kr=Qr?Ai(i.stateNode.nextSibling):null;return!0}function In(){for(var i=Kr;i;)i=Ai(i.nextSibling)}function ro(){Kr=Qr=null,Ft=!1}function Rn(i){ln===null?ln=[i]:ln.push(i)}var Xf=j.ReactCurrentBatchConfig;function sa(i,o,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var p=h.stateNode}if(!p)throw Error(t(147,i));var x=p,S=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===S?o.ref:(o=function(M){var V=x.refs;M===null?delete V[S]:V[S]=M},o._stringRef=S,o)}if(typeof i!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,i))}return i}function dl(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Vh(i){var o=i._init;return o(i._payload)}function Wh(i){function o(te,Y){if(i){var ie=te.deletions;ie===null?(te.deletions=[Y],te.flags|=16):ie.push(Y)}}function h(te,Y){if(!i)return null;for(;Y!==null;)o(te,Y),Y=Y.sibling;return null}function p(te,Y){for(te=new Map;Y!==null;)Y.key!==null?te.set(Y.key,Y):te.set(Y.index,Y),Y=Y.sibling;return te}function x(te,Y){return te=ma(te,Y),te.index=0,te.sibling=null,te}function S(te,Y,ie){return te.index=ie,i?(ie=te.alternate,ie!==null?(ie=ie.index,ie<Y?(te.flags|=2,Y):ie):(te.flags|=2,Y)):(te.flags|=1048576,Y)}function M(te){return i&&te.alternate===null&&(te.flags|=2),te}function V(te,Y,ie,Ie){return Y===null||Y.tag!==6?(Y=yp(ie,te.mode,Ie),Y.return=te,Y):(Y=x(Y,ie),Y.return=te,Y)}function W(te,Y,ie,Ie){var We=ie.type;return We===U?we(te,Y,ie.props.children,Ie,ie.key):Y!==null&&(Y.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===B&&Vh(We)===Y.type)?(Ie=x(Y,ie.props),Ie.ref=sa(te,Y,ie),Ie.return=te,Ie):(Ie=yd(ie.type,ie.key,ie.props,null,te.mode,Ie),Ie.ref=sa(te,Y,ie),Ie.return=te,Ie)}function ae(te,Y,ie,Ie){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ie.containerInfo||Y.stateNode.implementation!==ie.implementation?(Y=vp(ie,te.mode,Ie),Y.return=te,Y):(Y=x(Y,ie.children||[]),Y.return=te,Y)}function we(te,Y,ie,Ie,We){return Y===null||Y.tag!==7?(Y=Pl(ie,te.mode,Ie,We),Y.return=te,Y):(Y=x(Y,ie),Y.return=te,Y)}function Ee(te,Y,ie){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=yp(""+Y,te.mode,ie),Y.return=te,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case O:return ie=yd(Y.type,Y.key,Y.props,null,te.mode,ie),ie.ref=sa(te,null,Y),ie.return=te,ie;case q:return Y=vp(Y,te.mode,ie),Y.return=te,Y;case B:var Ie=Y._init;return Ee(te,Ie(Y._payload),ie)}if(Gn(Y)||z(Y))return Y=Pl(Y,te.mode,ie,null),Y.return=te,Y;dl(te,Y)}return null}function xe(te,Y,ie,Ie){var We=Y!==null?Y.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return We!==null?null:V(te,Y,""+ie,Ie);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:return ie.key===We?W(te,Y,ie,Ie):null;case q:return ie.key===We?ae(te,Y,ie,Ie):null;case B:return We=ie._init,xe(te,Y,We(ie._payload),Ie)}if(Gn(ie)||z(ie))return We!==null?null:we(te,Y,ie,Ie,null);dl(te,ie)}return null}function Ne(te,Y,ie,Ie,We){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return te=te.get(ie)||null,V(Y,te,""+Ie,We);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case O:return te=te.get(Ie.key===null?ie:Ie.key)||null,W(Y,te,Ie,We);case q:return te=te.get(Ie.key===null?ie:Ie.key)||null,ae(Y,te,Ie,We);case B:var Ke=Ie._init;return Ne(te,Y,ie,Ke(Ie._payload),We)}if(Gn(Ie)||z(Ie))return te=te.get(ie)||null,we(Y,te,Ie,We,null);dl(Y,Ie)}return null}function He(te,Y,ie,Ie){for(var We=null,Ke=null,Ze=Y,tt=Y=0,Dr=null;Ze!==null&&tt<ie.length;tt++){Ze.index>tt?(Dr=Ze,Ze=null):Dr=Ze.sibling;var bt=xe(te,Ze,ie[tt],Ie);if(bt===null){Ze===null&&(Ze=Dr);break}i&&Ze&&bt.alternate===null&&o(te,Ze),Y=S(bt,Y,tt),Ke===null?We=bt:Ke.sibling=bt,Ke=bt,Ze=Dr}if(tt===ie.length)return h(te,Ze),Ft&&fs(te,tt),We;if(Ze===null){for(;tt<ie.length;tt++)Ze=Ee(te,ie[tt],Ie),Ze!==null&&(Y=S(Ze,Y,tt),Ke===null?We=Ze:Ke.sibling=Ze,Ke=Ze);return Ft&&fs(te,tt),We}for(Ze=p(te,Ze);tt<ie.length;tt++)Dr=Ne(Ze,te,tt,ie[tt],Ie),Dr!==null&&(i&&Dr.alternate!==null&&Ze.delete(Dr.key===null?tt:Dr.key),Y=S(Dr,Y,tt),Ke===null?We=Dr:Ke.sibling=Dr,Ke=Dr);return i&&Ze.forEach(function(ga){return o(te,ga)}),Ft&&fs(te,tt),We}function je(te,Y,ie,Ie){var We=z(ie);if(typeof We!="function")throw Error(t(150));if(ie=We.call(ie),ie==null)throw Error(t(151));for(var Ke=We=null,Ze=Y,tt=Y=0,Dr=null,bt=ie.next();Ze!==null&&!bt.done;tt++,bt=ie.next()){Ze.index>tt?(Dr=Ze,Ze=null):Dr=Ze.sibling;var ga=xe(te,Ze,bt.value,Ie);if(ga===null){Ze===null&&(Ze=Dr);break}i&&Ze&&ga.alternate===null&&o(te,Ze),Y=S(ga,Y,tt),Ke===null?We=ga:Ke.sibling=ga,Ke=ga,Ze=Dr}if(bt.done)return h(te,Ze),Ft&&fs(te,tt),We;if(Ze===null){for(;!bt.done;tt++,bt=ie.next())bt=Ee(te,bt.value,Ie),bt!==null&&(Y=S(bt,Y,tt),Ke===null?We=bt:Ke.sibling=bt,Ke=bt);return Ft&&fs(te,tt),We}for(Ze=p(te,Ze);!bt.done;tt++,bt=ie.next())bt=Ne(Ze,te,tt,bt.value,Ie),bt!==null&&(i&&bt.alternate!==null&&Ze.delete(bt.key===null?tt:bt.key),Y=S(bt,Y,tt),Ke===null?We=bt:Ke.sibling=bt,Ke=bt);return i&&Ze.forEach(function(px){return o(te,px)}),Ft&&fs(te,tt),We}function cr(te,Y,ie,Ie){if(typeof ie=="object"&&ie!==null&&ie.type===U&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:e:{for(var We=ie.key,Ke=Y;Ke!==null;){if(Ke.key===We){if(We=ie.type,We===U){if(Ke.tag===7){h(te,Ke.sibling),Y=x(Ke,ie.props.children),Y.return=te,te=Y;break e}}else if(Ke.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===B&&Vh(We)===Ke.type){h(te,Ke.sibling),Y=x(Ke,ie.props),Y.ref=sa(te,Ke,ie),Y.return=te,te=Y;break e}h(te,Ke);break}else o(te,Ke);Ke=Ke.sibling}ie.type===U?(Y=Pl(ie.props.children,te.mode,Ie,ie.key),Y.return=te,te=Y):(Ie=yd(ie.type,ie.key,ie.props,null,te.mode,Ie),Ie.ref=sa(te,Y,ie),Ie.return=te,te=Ie)}return M(te);case q:e:{for(Ke=ie.key;Y!==null;){if(Y.key===Ke)if(Y.tag===4&&Y.stateNode.containerInfo===ie.containerInfo&&Y.stateNode.implementation===ie.implementation){h(te,Y.sibling),Y=x(Y,ie.children||[]),Y.return=te,te=Y;break e}else{h(te,Y);break}else o(te,Y);Y=Y.sibling}Y=vp(ie,te.mode,Ie),Y.return=te,te=Y}return M(te);case B:return Ke=ie._init,cr(te,Y,Ke(ie._payload),Ie)}if(Gn(ie))return He(te,Y,ie,Ie);if(z(ie))return je(te,Y,ie,Ie);dl(te,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,Y!==null&&Y.tag===6?(h(te,Y.sibling),Y=x(Y,ie),Y.return=te,te=Y):(h(te,Y),Y=yp(ie,te.mode,Ie),Y.return=te,te=Y),M(te)):h(te,Y)}return cr}var Ii=Wh(!0),fl=Wh(!1),no=Ci(null),io=null,Ri=null,so=null;function pl(){so=Ri=io=null}function ml(i){var o=no.current;Rt(no),i._currentValue=o}function gl(i,o,h){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===h)break;i=i.return}}function oo(i,o){io=i,so=Ri=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(K=!0),i.firstContext=null)}function Zr(i){var o=i._currentValue;if(so!==i)if(i={context:i,memoizedValue:o,next:null},Ri===null){if(io===null)throw Error(t(308));Ri=i,io.dependencies={lanes:0,firstContext:i}}else Ri=Ri.next=i;return o}var ao=null;function oa(i){ao===null?ao=[i]:ao.push(i)}function Pu(i,o,h,p){var x=o.interleaved;return x===null?(h.next=h,oa(o)):(h.next=x.next,x.next=h),o.interleaved=h,St(i,p)}function St(i,o){i.lanes|=o;var h=i.alternate;for(h!==null&&(h.lanes|=o),h=i,i=i.return;i!==null;)i.childLanes|=o,h=i.alternate,h!==null&&(h.childLanes|=o),h=i,i=i.return;return h.tag===3?h.stateNode:null}var it=!1;function tr(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yt(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ot(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function rr(i,o,h){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,vt&2){var x=p.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),p.pending=o,St(i,h)}return x=p.interleaved,x===null?(o.next=o,oa(p)):(o.next=x.next,x.next=o),p.interleaved=o,St(i,h)}function ki(i,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194240)!==0)){var p=o.lanes;p&=i.pendingLanes,h|=p,o.lanes=h,Ua(i,h)}}function nr(i,o){var h=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var x=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var M={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?x=S=M:S=S.next=M,h=h.next}while(h!==null);S===null?x=S=o:S=S.next=o}else x=S=o;h={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:p.shared,effects:p.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=o:i.next=o,h.lastBaseUpdate=o}function ps(i,o,h,p){var x=i.updateQueue;it=!1;var S=x.firstBaseUpdate,M=x.lastBaseUpdate,V=x.shared.pending;if(V!==null){x.shared.pending=null;var W=V,ae=W.next;W.next=null,M===null?S=ae:M.next=ae,M=W;var we=i.alternate;we!==null&&(we=we.updateQueue,V=we.lastBaseUpdate,V!==M&&(V===null?we.firstBaseUpdate=ae:V.next=ae,we.lastBaseUpdate=W))}if(S!==null){var Ee=x.baseState;M=0,we=ae=W=null,V=S;do{var xe=V.lane,Ne=V.eventTime;if((p&xe)===xe){we!==null&&(we=we.next={eventTime:Ne,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var He=i,je=V;switch(xe=o,Ne=h,je.tag){case 1:if(He=je.payload,typeof He=="function"){Ee=He.call(Ne,Ee,xe);break e}Ee=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=je.payload,xe=typeof He=="function"?He.call(Ne,Ee,xe):He,xe==null)break e;Ee=F({},Ee,xe);break e;case 2:it=!0}}V.callback!==null&&V.lane!==0&&(i.flags|=64,xe=x.effects,xe===null?x.effects=[V]:xe.push(V))}else Ne={eventTime:Ne,lane:xe,tag:V.tag,payload:V.payload,callback:V.callback,next:null},we===null?(ae=we=Ne,W=Ee):we=we.next=Ne,M|=xe;if(V=V.next,V===null){if(V=x.shared.pending,V===null)break;xe=V,V=xe.next,xe.next=null,x.lastBaseUpdate=xe,x.shared.pending=null}}while(!0);if(we===null&&(W=Ee),x.baseState=W,x.firstBaseUpdate=ae,x.lastBaseUpdate=we,o=x.shared.interleaved,o!==null){x=o;do M|=x.lane,x=x.next;while(x!==o)}else S===null&&(x.shared.lanes=0);Sl|=M,i.lanes=M,i.memoizedState=Ee}}function ms(i,o,h){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var p=i[o],x=p.callback;if(x!==null){if(p.callback=null,p=h,typeof x!="function")throw Error(t(191,x));x.call(p)}}}var gs={},kn=Ci(gs),Mi=Ci(gs),xr=Ci(gs);function Di(i){if(i===gs)throw Error(t(174));return i}function yl(i,o){switch(wt(xr,o),wt(Mi,i),wt(kn,gs),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ka(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ka(o,i)}Rt(kn),wt(kn,o)}function un(){Rt(kn),Rt(Mi),Rt(xr)}function lo(i){Di(xr.current);var o=Di(kn.current),h=ka(o,i.type);o!==h&&(wt(Mi,i),wt(kn,h))}function Iu(i){Mi.current===i&&(Rt(kn),Rt(Mi))}var kt=Ci(0);function aa(i){for(var o=i;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ai=[];function la(){for(var i=0;i<ai.length;i++)ai[i]._workInProgressVersionPrimary=null;ai.length=0}var Xn=j.ReactCurrentDispatcher,ua=j.ReactCurrentBatchConfig,Yn=0,Bt=null,Vt=null,qt=null,ur=!1,Mn=!1,kr=0,Jr=0;function wr(){throw Error(t(321))}function vl(i,o){if(o===null)return!1;for(var h=0;h<o.length&&h<i.length;h++)if(!an(i[h],o[h]))return!1;return!0}function _l(i,o,h,p,x,S){if(Yn=S,Bt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Xn.current=i===null||i.memoizedState===null?Fu:qf,i=h(p,x),Mn){S=0;do{if(Mn=!1,kr=0,25<=S)throw Error(t(301));S+=1,qt=Vt=null,o.updateQueue=null,Xn.current=Qf,i=h(p,x)}while(Mn)}if(Xn.current=El,o=Vt!==null&&Vt.next!==null,Yn=0,qt=Vt=Bt=null,ur=!1,o)throw Error(t(300));return i}function li(){var i=kr!==0;return kr=0,i}function qn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Bt.memoizedState=qt=i:qt=qt.next=i,qt}function hn(){if(Vt===null){var i=Bt.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var o=qt===null?Bt.memoizedState:qt.next;if(o!==null)qt=o,Vt=i;else{if(i===null)throw Error(t(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},qt===null?Bt.memoizedState=qt=i:qt=qt.next=i}return qt}function uo(i,o){return typeof o=="function"?o(i):o}function Ni(i){var o=hn(),h=o.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var p=Vt,x=p.baseQueue,S=h.pending;if(S!==null){if(x!==null){var M=x.next;x.next=S.next,S.next=M}p.baseQueue=x=S,h.pending=null}if(x!==null){S=x.next,p=p.baseState;var V=M=null,W=null,ae=S;do{var we=ae.lane;if((Yn&we)===we)W!==null&&(W=W.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),p=ae.hasEagerState?ae.eagerState:i(p,ae.action);else{var Ee={lane:we,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};W===null?(V=W=Ee,M=p):W=W.next=Ee,Bt.lanes|=we,Sl|=we}ae=ae.next}while(ae!==null&&ae!==S);W===null?M=p:W.next=V,an(p,o.memoizedState)||(K=!0),o.memoizedState=p,o.baseState=M,o.baseQueue=W,h.lastRenderedState=p}if(i=h.interleaved,i!==null){x=i;do S=x.lane,Bt.lanes|=S,Sl|=S,x=x.next;while(x!==i)}else x===null&&(h.lanes=0);return[o.memoizedState,h.dispatch]}function Ru(i){var o=hn(),h=o.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var p=h.dispatch,x=h.pending,S=o.memoizedState;if(x!==null){h.pending=null;var M=x=x.next;do S=i(S,M.action),M=M.next;while(M!==x);an(S,o.memoizedState)||(K=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),h.lastRenderedState=S}return[S,p]}function $h(){}function ku(i,o){var h=Bt,p=hn(),x=o(),S=!an(p.memoizedState,x);if(S&&(p.memoizedState=x,K=!0),p=p.queue,Kh(td.bind(null,h,p,i),[i]),p.getSnapshot!==o||S||qt!==null&&qt.memoizedState.tag&1){if(h.flags|=2048,Qn(9,ed.bind(null,h,p,x,o),void 0,null),Mr===null)throw Error(t(349));Yn&30||xl(h,o,x)}return x}function xl(i,o,h){i.flags|=16384,i={getSnapshot:o,value:h},o=Bt.updateQueue,o===null?(o={lastEffect:null,stores:null},Bt.updateQueue=o,o.stores=[i]):(h=o.stores,h===null?o.stores=[i]:h.push(i))}function ed(i,o,h,p){o.value=h,o.getSnapshot=p,Xh(o)&&Yh(i)}function td(i,o,h){return h(function(){Xh(o)&&Yh(i)})}function Xh(i){var o=i.getSnapshot;i=i.value;try{var h=o();return!an(i,h)}catch{return!0}}function Yh(i){var o=St(i,1);o!==null&&Li(o,i,1,-1)}function ho(i){var o=qn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:i},o.queue=i,i=i.dispatch=Yf.bind(null,Bt,i),[o.memoizedState,i]}function Qn(i,o,h,p){return i={tag:i,create:o,destroy:h,deps:p,next:null},o=Bt.updateQueue,o===null?(o={lastEffect:null,stores:null},Bt.updateQueue=o,o.lastEffect=i.next=i):(h=o.lastEffect,h===null?o.lastEffect=i.next=i:(p=h.next,h.next=i,i.next=p,o.lastEffect=i)),i}function qh(){return hn().memoizedState}function At(i,o,h,p){var x=qn();Bt.flags|=i,x.memoizedState=Qn(1|o,h,void 0,p===void 0?null:p)}function Mu(i,o,h,p){var x=hn();p=p===void 0?null:p;var S=void 0;if(Vt!==null){var M=Vt.memoizedState;if(S=M.destroy,p!==null&&vl(p,M.deps)){x.memoizedState=Qn(o,h,S,p);return}}Bt.flags|=i,x.memoizedState=Qn(1|o,h,S,p)}function Qh(i,o){return At(8390656,8,i,o)}function Kh(i,o){return Mu(2048,8,i,o)}function rd(i,o){return Mu(4,2,i,o)}function Zh(i,o){return Mu(4,4,i,o)}function nd(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function cn(i,o,h){return h=h!=null?h.concat([i]):null,Mu(4,4,nd.bind(null,o,i),h)}function wl(){}function Fi(i,o){var h=hn();o=o===void 0?null:o;var p=h.memoizedState;return p!==null&&o!==null&&vl(o,p[1])?p[0]:(h.memoizedState=[i,o],i)}function bl(i,o){var h=hn();o=o===void 0?null:o;var p=h.memoizedState;return p!==null&&o!==null&&vl(o,p[1])?p[0]:(i=i(),h.memoizedState=[i,o],i)}function ys(i,o,h){return Yn&21?(an(h,o)||(h=gn(),Bt.lanes|=h,Sl|=h,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,K=!0),i.memoizedState=h)}function Du(i,o){var h=pt;pt=h!==0&&4>h?h:4,i(!0);var p=ua.transition;ua.transition={};try{i(!1),o()}finally{pt=h,ua.transition=p}}function Nu(){return hn().memoizedState}function Jh(i,o,h){var p=fa(i);if(h={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null},ec(i))tc(o,h);else if(h=Pu(i,o,h,p),h!==null){var x=dn();Li(h,i,p,x),rc(h,o,p)}}function Yf(i,o,h){var p=fa(i),x={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null};if(ec(i))tc(o,x);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var M=o.lastRenderedState,V=S(M,h);if(x.hasEagerState=!0,x.eagerState=V,an(V,M)){var W=o.interleaved;W===null?(x.next=x,oa(o)):(x.next=W.next,W.next=x),o.interleaved=x;return}}catch{}finally{}h=Pu(i,o,x,p),h!==null&&(x=dn(),Li(h,i,p,x),rc(h,o,p))}}function ec(i){var o=i.alternate;return i===Bt||o!==null&&o===Bt}function tc(i,o){Mn=ur=!0;var h=i.pending;h===null?o.next=o:(o.next=h.next,h.next=o),i.pending=o}function rc(i,o,h){if(h&4194240){var p=o.lanes;p&=i.pendingLanes,h|=p,o.lanes=h,Ua(i,h)}}var El={readContext:Zr,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},Fu={readContext:Zr,useCallback:function(i,o){return qn().memoizedState=[i,o===void 0?null:o],i},useContext:Zr,useEffect:Qh,useImperativeHandle:function(i,o,h){return h=h!=null?h.concat([i]):null,At(4194308,4,nd.bind(null,o,i),h)},useLayoutEffect:function(i,o){return At(4194308,4,i,o)},useInsertionEffect:function(i,o){return At(4,2,i,o)},useMemo:function(i,o){var h=qn();return o=o===void 0?null:o,i=i(),h.memoizedState=[i,o],i},useReducer:function(i,o,h){var p=qn();return o=h!==void 0?h(o):o,p.memoizedState=p.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},p.queue=i,i=i.dispatch=Jh.bind(null,Bt,i),[p.memoizedState,i]},useRef:function(i){var o=qn();return i={current:i},o.memoizedState=i},useState:ho,useDebugValue:wl,useDeferredValue:function(i){return qn().memoizedState=i},useTransition:function(){var i=ho(!1),o=i[0];return i=Du.bind(null,i[1]),qn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,h){var p=Bt,x=qn();if(Ft){if(h===void 0)throw Error(t(407));h=h()}else{if(h=o(),Mr===null)throw Error(t(349));Yn&30||xl(p,o,h)}x.memoizedState=h;var S={value:h,getSnapshot:o};return x.queue=S,Qh(td.bind(null,p,S,i),[i]),p.flags|=2048,Qn(9,ed.bind(null,p,S,h,o),void 0,null),h},useId:function(){var i=qn(),o=Mr.identifierPrefix;if(Ft){var h=oi,p=qr;h=(p&~(1<<32-mr(p)-1)).toString(32)+h,o=":"+o+"R"+h,h=kr++,0<h&&(o+="H"+h.toString(32)),o+=":"}else h=Jr++,o=":"+o+"r"+h.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},qf={readContext:Zr,useCallback:Fi,useContext:Zr,useEffect:Kh,useImperativeHandle:cn,useInsertionEffect:rd,useLayoutEffect:Zh,useMemo:bl,useReducer:Ni,useRef:qh,useState:function(){return Ni(uo)},useDebugValue:wl,useDeferredValue:function(i){var o=hn();return ys(o,Vt.memoizedState,i)},useTransition:function(){var i=Ni(uo)[0],o=hn().memoizedState;return[i,o]},useMutableSource:$h,useSyncExternalStore:ku,useId:Nu,unstable_isNewReconciler:!1},Qf={readContext:Zr,useCallback:Fi,useContext:Zr,useEffect:Kh,useImperativeHandle:cn,useInsertionEffect:rd,useLayoutEffect:Zh,useMemo:bl,useReducer:Ru,useRef:qh,useState:function(){return Ru(uo)},useDebugValue:wl,useDeferredValue:function(i){var o=hn();return Vt===null?o.memoizedState=i:ys(o,Vt.memoizedState,i)},useTransition:function(){var i=Ru(uo)[0],o=hn().memoizedState;return[i,o]},useMutableSource:$h,useSyncExternalStore:ku,useId:Nu,unstable_isNewReconciler:!1};function l(i,o){if(i&&i.defaultProps){o=F({},o),i=i.defaultProps;for(var h in i)o[h]===void 0&&(o[h]=i[h]);return o}return o}function u(i,o,h,p){o=i.memoizedState,h=h(p,o),h=h==null?o:F({},o,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var g={isMounted:function(i){return(i=i._reactInternals)?ti(i)===i:!1},enqueueSetState:function(i,o,h){i=i._reactInternals;var p=dn(),x=fa(i),S=Ot(p,x);S.payload=o,h!=null&&(S.callback=h),o=rr(i,S,x),o!==null&&(Li(o,i,x,p),ki(o,i,x))},enqueueReplaceState:function(i,o,h){i=i._reactInternals;var p=dn(),x=fa(i),S=Ot(p,x);S.tag=1,S.payload=o,h!=null&&(S.callback=h),o=rr(i,S,x),o!==null&&(Li(o,i,x,p),ki(o,i,x))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var h=dn(),p=fa(i),x=Ot(h,p);x.tag=2,o!=null&&(x.callback=o),o=rr(i,x,p),o!==null&&(Li(o,i,p,h),ki(o,i,p))}};function w(i,o,h,p,x,S,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,S,M):o.prototype&&o.prototype.isPureReactComponent?!as(h,p)||!as(x,S):!0}function E(i,o,h){var p=!1,x=wn,S=o.contextType;return typeof S=="object"&&S!==null?S=Zr(S):(x=Lr(o)?Pi:lr.current,p=o.contextTypes,S=(p=p!=null)?ds(i,x):wn),o=new o(h,S),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=g,i.stateNode=o,o._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=S),o}function I(i,o,h,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,p),o.state!==i&&g.enqueueReplaceState(o,o.state,null)}function L(i,o,h,p){var x=i.stateNode;x.props=h,x.state=i.memoizedState,x.refs={},tr(i);var S=o.contextType;typeof S=="object"&&S!==null?x.context=Zr(S):(S=Lr(o)?Pi:lr.current,x.context=ds(i,S)),x.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(u(i,o,S,h),x.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(o=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),o!==x.state&&g.enqueueReplaceState(x,x.state,null),ps(i,h,x,p),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function $(i,o){try{var h="",p=o;do h+=ce(p),p=p.return;while(p);var x=h}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:o,stack:x,digest:null}}function re(i,o,h){return{value:i,source:null,stack:h??null,digest:o??null}}function fe(i,o){try{console.error(o.value)}catch(h){setTimeout(function(){throw h})}}var ye=typeof WeakMap=="function"?WeakMap:Map;function ke(i,o,h){h=Ot(-1,h),h.tag=3,h.payload={element:null};var p=o.value;return h.callback=function(){cd||(cd=!0,up=p),fe(i,o)},h}function pe(i,o,h){h=Ot(-1,h),h.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var x=o.value;h.payload=function(){return p(x)},h.callback=function(){fe(i,o)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){fe(i,o),typeof p!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})}),h}function Te(i,o,h){var p=i.pingCache;if(p===null){p=i.pingCache=new ye;var x=new Set;p.set(o,x)}else x=p.get(o),x===void 0&&(x=new Set,p.set(o,x));x.has(h)||(x.add(h),i=nx.bind(null,i,o,h),o.then(i,i))}function Ge(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function ot(i,o,h,p,x){return i.mode&1?(i.flags|=65536,i.lanes=x,i):(i===o?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(o=Ot(-1,1),o.tag=2,rr(h,o,1))),h.lanes|=1),i)}var ve=j.ReactCurrentOwner,K=!1;function ue(i,o,h,p){o.child=i===null?fl(o,null,h,p):Ii(o,i.child,h,p)}function be(i,o,h,p,x){h=h.render;var S=o.ref;return oo(o,x),p=_l(i,o,h,p,S,x),h=li(),i!==null&&!K?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~x,co(i,o,x)):(Ft&&h&&ia(o),o.flags|=1,ue(i,o,p,x),o.child)}function Xe(i,o,h,p,x){if(i===null){var S=h.type;return typeof S=="function"&&!gp(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(o.tag=15,o.type=S,gt(i,o,S,p,x)):(i=yd(h.type,null,p,o,o.mode,x),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,!(i.lanes&x)){var M=S.memoizedProps;if(h=h.compare,h=h!==null?h:as,h(M,p)&&i.ref===o.ref)return co(i,o,x)}return o.flags|=1,i=ma(S,p),i.ref=o.ref,i.return=o,o.child=i}function gt(i,o,h,p,x){if(i!==null){var S=i.memoizedProps;if(as(S,p)&&i.ref===o.ref)if(K=!1,o.pendingProps=p=S,(i.lanes&x)!==0)i.flags&131072&&(K=!0);else return o.lanes=i.lanes,co(i,o,x)}return hr(i,o,h,p,x)}function ze(i,o,h){var p=o.pendingProps,x=p.children,S=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Bu,Kn),Kn|=h;else{if(!(h&1073741824))return i=S!==null?S.baseLanes|h:h,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,wt(Bu,Kn),Kn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=S!==null?S.baseLanes:h,wt(Bu,Kn),Kn|=p}else S!==null?(p=S.baseLanes|h,o.memoizedState=null):p=h,wt(Bu,Kn),Kn|=p;return ue(i,o,x,h),o.child}function mt(i,o){var h=o.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(o.flags|=512,o.flags|=2097152)}function hr(i,o,h,p,x){var S=Lr(h)?Pi:lr.current;return S=ds(o,S),oo(o,x),h=_l(i,o,h,p,S,x),p=li(),i!==null&&!K?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~x,co(i,o,x)):(Ft&&p&&ia(o),o.flags|=1,ue(i,o,h,x),o.child)}function yt(i,o,h,p,x){if(Lr(h)){var S=!0;ta(o)}else S=!1;if(oo(o,x),o.stateNode===null)od(i,o),E(o,h,p),L(o,h,p,x),p=!0;else if(i===null){var M=o.stateNode,V=o.memoizedProps;M.props=V;var W=M.context,ae=h.contextType;typeof ae=="object"&&ae!==null?ae=Zr(ae):(ae=Lr(h)?Pi:lr.current,ae=ds(o,ae));var we=h.getDerivedStateFromProps,Ee=typeof we=="function"||typeof M.getSnapshotBeforeUpdate=="function";Ee||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(V!==p||W!==ae)&&I(o,M,p,ae),it=!1;var xe=o.memoizedState;M.state=xe,ps(o,p,M,x),W=o.memoizedState,V!==p||xe!==W||_r.current||it?(typeof we=="function"&&(u(o,h,we,p),W=o.memoizedState),(V=it||w(o,h,V,p,xe,W,ae))?(Ee||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(o.flags|=4194308)):(typeof M.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=W),M.props=p,M.state=W,M.context=ae,p=V):(typeof M.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{M=o.stateNode,Yt(i,o),V=o.memoizedProps,ae=o.type===o.elementType?V:l(o.type,V),M.props=ae,Ee=o.pendingProps,xe=M.context,W=h.contextType,typeof W=="object"&&W!==null?W=Zr(W):(W=Lr(h)?Pi:lr.current,W=ds(o,W));var Ne=h.getDerivedStateFromProps;(we=typeof Ne=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(V!==Ee||xe!==W)&&I(o,M,p,W),it=!1,xe=o.memoizedState,M.state=xe,ps(o,p,M,x);var He=o.memoizedState;V!==Ee||xe!==He||_r.current||it?(typeof Ne=="function"&&(u(o,h,Ne,p),He=o.memoizedState),(ae=it||w(o,h,ae,p,xe,He,W)||!1)?(we||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(p,He,W),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(p,He,W)),typeof M.componentDidUpdate=="function"&&(o.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof M.componentDidUpdate!="function"||V===i.memoizedProps&&xe===i.memoizedState||(o.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&xe===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=He),M.props=p,M.state=He,M.context=W,p=ae):(typeof M.componentDidUpdate!="function"||V===i.memoizedProps&&xe===i.memoizedState||(o.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&xe===i.memoizedState||(o.flags|=1024),p=!1)}return ui(i,o,h,p,S,x)}function ui(i,o,h,p,x,S){mt(i,o);var M=(o.flags&128)!==0;if(!p&&!M)return x&&zh(o,h,!1),co(i,o,S);p=o.stateNode,ve.current=o;var V=M&&typeof h.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,i!==null&&M?(o.child=Ii(o,i.child,null,S),o.child=Ii(o,null,V,S)):ue(i,o,V,S),o.memoizedState=p.state,x&&zh(o,h,!0),o.child}function id(i){var o=i.stateNode;o.pendingContext?ul(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ul(i,o.context,!1),yl(i,o.containerInfo)}function Jg(i,o,h,p,x){return ro(),Rn(x),o.flags|=256,ue(i,o,h,p),o.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function Zf(i){return{baseLanes:i,cachePool:null,transitions:null}}function e0(i,o,h){var p=o.pendingProps,x=kt.current,S=!1,M=(o.flags&128)!==0,V;if((V=M)||(V=i!==null&&i.memoizedState===null?!1:(x&2)!==0),V?(S=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),wt(kt,x&1),i===null)return Pn(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(M=p.children,i=p.fallback,S?(p=o.mode,S=o.child,M={mode:"hidden",children:M},!(p&1)&&S!==null?(S.childLanes=0,S.pendingProps=M):S=vd(M,p,0,null),i=Pl(i,p,h,null),S.return=o,i.return=o,S.sibling=i,o.child=S,o.child.memoizedState=Zf(h),o.memoizedState=Kf,i):Jf(o,M));if(x=i.memoizedState,x!==null&&(V=x.dehydrated,V!==null))return W1(i,o,M,p,V,x,h);if(S){S=p.fallback,M=o.mode,x=i.child,V=x.sibling;var W={mode:"hidden",children:p.children};return!(M&1)&&o.child!==x?(p=o.child,p.childLanes=0,p.pendingProps=W,o.deletions=null):(p=ma(x,W),p.subtreeFlags=x.subtreeFlags&14680064),V!==null?S=ma(V,S):(S=Pl(S,M,h,null),S.flags|=2),S.return=o,p.return=o,p.sibling=S,o.child=p,p=S,S=o.child,M=i.child.memoizedState,M=M===null?Zf(h):{baseLanes:M.baseLanes|h,cachePool:null,transitions:M.transitions},S.memoizedState=M,S.childLanes=i.childLanes&~h,o.memoizedState=Kf,p}return S=i.child,i=S.sibling,p=ma(S,{mode:"visible",children:p.children}),!(o.mode&1)&&(p.lanes=h),p.return=o,p.sibling=null,i!==null&&(h=o.deletions,h===null?(o.deletions=[i],o.flags|=16):h.push(i)),o.child=p,o.memoizedState=null,p}function Jf(i,o){return o=vd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function sd(i,o,h,p){return p!==null&&Rn(p),Ii(o,i.child,null,h),i=Jf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function W1(i,o,h,p,x,S,M){if(h)return o.flags&256?(o.flags&=-257,p=re(Error(t(422))),sd(i,o,M,p)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(S=p.fallback,x=o.mode,p=vd({mode:"visible",children:p.children},x,0,null),S=Pl(S,x,M,null),S.flags|=2,p.return=o,S.return=o,p.sibling=S,o.child=p,o.mode&1&&Ii(o,i.child,null,M),o.child.memoizedState=Zf(M),o.memoizedState=Kf,S);if(!(o.mode&1))return sd(i,o,M,null);if(x.data==="$!"){if(p=x.nextSibling&&x.nextSibling.dataset,p)var V=p.dgst;return p=V,S=Error(t(419)),p=re(S,p,void 0),sd(i,o,M,p)}if(V=(M&i.childLanes)!==0,K||V){if(p=Mr,p!==null){switch(M&-M){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=x&(p.suspendedLanes|M)?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,St(i,x),Li(p,i,x,-1))}return mp(),p=re(Error(t(421))),sd(i,o,M,p)}return x.data==="$?"?(o.flags|=128,o.child=i.child,o=ix.bind(null,i),x._reactRetry=o,null):(i=S.treeContext,Kr=Ai(x.nextSibling),Qr=o,Ft=!0,ln=null,i!==null&&(Tt[An++]=qr,Tt[An++]=oi,Tt[An++]=De,qr=i.id,oi=i.overflow,De=o),o=Jf(o,p.children),o.flags|=4096,o)}function t0(i,o,h){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),gl(i.return,o,h)}function ep(i,o,h,p,x){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:x}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=h,S.tailMode=x)}function r0(i,o,h){var p=o.pendingProps,x=p.revealOrder,S=p.tail;if(ue(i,o,p.children,h),p=kt.current,p&2)p=p&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&t0(i,h,o);else if(i.tag===19)t0(i,h,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(wt(kt,p),!(o.mode&1))o.memoizedState=null;else switch(x){case"forwards":for(h=o.child,x=null;h!==null;)i=h.alternate,i!==null&&aa(i)===null&&(x=h),h=h.sibling;h=x,h===null?(x=o.child,o.child=null):(x=h.sibling,h.sibling=null),ep(o,!1,x,h,S);break;case"backwards":for(h=null,x=o.child,o.child=null;x!==null;){if(i=x.alternate,i!==null&&aa(i)===null){o.child=x;break}i=x.sibling,x.sibling=h,h=x,x=i}ep(o,!0,h,null,S);break;case"together":ep(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function od(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function co(i,o,h){if(i!==null&&(o.dependencies=i.dependencies),Sl|=o.lanes,!(h&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,h=ma(i,i.pendingProps),o.child=h,h.return=o;i.sibling!==null;)i=i.sibling,h=h.sibling=ma(i,i.pendingProps),h.return=o;h.sibling=null}return o.child}function $1(i,o,h){switch(o.tag){case 3:id(o),ro();break;case 5:lo(o);break;case 1:Lr(o.type)&&ta(o);break;case 4:yl(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,x=o.memoizedProps.value;wt(no,p._currentValue),p._currentValue=x;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(wt(kt,kt.current&1),o.flags|=128,null):h&o.child.childLanes?e0(i,o,h):(wt(kt,kt.current&1),i=co(i,o,h),i!==null?i.sibling:null);wt(kt,kt.current&1);break;case 19:if(p=(h&o.childLanes)!==0,i.flags&128){if(p)return r0(i,o,h);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),wt(kt,kt.current),p)break;return null;case 22:case 23:return o.lanes=0,ze(i,o,h)}return co(i,o,h)}var n0,tp,i0,s0;n0=function(i,o){for(var h=o.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},tp=function(){},i0=function(i,o,h,p){var x=i.memoizedProps;if(x!==p){i=o.stateNode,Di(kn.current);var S=null;switch(h){case"input":x=_t(i,x),p=_t(i,p),S=[];break;case"select":x=F({},x,{value:void 0}),p=F({},p,{value:void 0}),S=[];break;case"textarea":x=Ia(i,x),p=Ia(i,p),S=[];break;default:typeof x.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=al)}oe(h,p);var M;h=null;for(ae in x)if(!p.hasOwnProperty(ae)&&x.hasOwnProperty(ae)&&x[ae]!=null)if(ae==="style"){var V=x[ae];for(M in V)V.hasOwnProperty(M)&&(h||(h={}),h[M]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(s.hasOwnProperty(ae)?S||(S=[]):(S=S||[]).push(ae,null));for(ae in p){var W=p[ae];if(V=x!=null?x[ae]:void 0,p.hasOwnProperty(ae)&&W!==V&&(W!=null||V!=null))if(ae==="style")if(V){for(M in V)!V.hasOwnProperty(M)||W&&W.hasOwnProperty(M)||(h||(h={}),h[M]="");for(M in W)W.hasOwnProperty(M)&&V[M]!==W[M]&&(h||(h={}),h[M]=W[M])}else h||(S||(S=[]),S.push(ae,h)),h=W;else ae==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,V=V?V.__html:void 0,W!=null&&V!==W&&(S=S||[]).push(ae,W)):ae==="children"?typeof W!="string"&&typeof W!="number"||(S=S||[]).push(ae,""+W):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(s.hasOwnProperty(ae)?(W!=null&&ae==="onScroll"&&It("scroll",i),S||V===W||(S=[])):(S=S||[]).push(ae,W))}h&&(S=S||[]).push("style",h);var ae=S;(o.updateQueue=ae)&&(o.flags|=4)}},s0=function(i,o,h,p){h!==p&&(o.flags|=4)};function nc(i,o){if(!Ft)switch(i.tailMode){case"hidden":o=i.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function en(i){var o=i.alternate!==null&&i.alternate.child===i.child,h=0,p=0;if(o)for(var x=i.child;x!==null;)h|=x.lanes|x.childLanes,p|=x.subtreeFlags&14680064,p|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)h|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=p,i.childLanes=h,o}function X1(i,o,h){var p=o.pendingProps;switch(hl(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(o),null;case 1:return Lr(o.type)&&ea(),en(o),null;case 3:return p=o.stateNode,un(),Rt(_r),Rt(lr),la(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(cl(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,ln!==null&&(dp(ln),ln=null))),tp(i,o),en(o),null;case 5:Iu(o);var x=Di(xr.current);if(h=o.type,i!==null&&o.stateNode!=null)i0(i,o,h,p,x),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(t(166));return en(o),null}if(i=Di(kn.current),cl(o)){p=o.stateNode,h=o.type;var S=o.memoizedProps;switch(p[$n]=o,p[ll]=S,i=(o.mode&1)!==0,h){case"dialog":It("cancel",p),It("close",p);break;case"iframe":case"object":case"embed":It("load",p);break;case"video":case"audio":for(x=0;x<us.length;x++)It(us[x],p);break;case"source":It("error",p);break;case"img":case"image":case"link":It("error",p),It("load",p);break;case"details":It("toggle",p);break;case"input":qe(p,S),It("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!S.multiple},It("invalid",p);break;case"textarea":$l(p,S),It("invalid",p)}oe(h,S),x=null;for(var M in S)if(S.hasOwnProperty(M)){var V=S[M];M==="children"?typeof V=="string"?p.textContent!==V&&(S.suppressHydrationWarning!==!0&&ol(p.textContent,V,i),x=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(S.suppressHydrationWarning!==!0&&ol(p.textContent,V,i),x=["children",""+V]):s.hasOwnProperty(M)&&V!=null&&M==="onScroll"&&It("scroll",p)}switch(h){case"input":Be(p),Un(p,S,!0);break;case"textarea":Be(p),Xl(p);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(p.onclick=al)}p=x,o.updateQueue=p,p!==null&&(o.flags|=4)}else{M=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ra(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=M.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=M.createElement(h,{is:p.is}):(i=M.createElement(h),h==="select"&&(M=i,p.multiple?M.multiple=!0:p.size&&(M.size=p.size))):i=M.createElementNS(i,h),i[$n]=o,i[ll]=p,n0(i,o,!1,!1),o.stateNode=i;e:{switch(M=lt(h,p),h){case"dialog":It("cancel",i),It("close",i),x=p;break;case"iframe":case"object":case"embed":It("load",i),x=p;break;case"video":case"audio":for(x=0;x<us.length;x++)It(us[x],i);x=p;break;case"source":It("error",i),x=p;break;case"img":case"image":case"link":It("error",i),It("load",i),x=p;break;case"details":It("toggle",i),x=p;break;case"input":qe(i,p),x=_t(i,p),It("invalid",i);break;case"option":x=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},x=F({},p,{value:void 0}),It("invalid",i);break;case"textarea":$l(i,p),x=Ia(i,p),It("invalid",i);break;default:x=p}oe(h,x),V=x;for(S in V)if(V.hasOwnProperty(S)){var W=V[S];S==="style"?Bs(i,W):S==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Ao(i,W)):S==="children"?typeof W=="string"?(h!=="textarea"||W!=="")&&Ki(i,W):typeof W=="number"&&Ki(i,""+W):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(s.hasOwnProperty(S)?W!=null&&S==="onScroll"&&It("scroll",i):W!=null&&D(i,S,W,M))}switch(h){case"input":Be(i),Un(i,p,!1);break;case"textarea":Be(i),Xl(i);break;case"option":p.value!=null&&i.setAttribute("value",""+ge(p.value));break;case"select":i.multiple=!!p.multiple,S=p.value,S!=null?qi(i,!!p.multiple,S,!1):p.defaultValue!=null&&qi(i,!!p.multiple,p.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=al)}switch(h){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return en(o),null;case 6:if(i&&o.stateNode!=null)s0(i,o,i.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(t(166));if(h=Di(xr.current),Di(kn.current),cl(o)){if(p=o.stateNode,h=o.memoizedProps,p[$n]=o,(S=p.nodeValue!==h)&&(i=Qr,i!==null))switch(i.tag){case 3:ol(p.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ol(p.nodeValue,h,(i.mode&1)!==0)}S&&(o.flags|=4)}else p=(h.nodeType===9?h:h.ownerDocument).createTextNode(p),p[$n]=o,o.stateNode=p}return en(o),null;case 13:if(Rt(kt),p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ft&&Kr!==null&&o.mode&1&&!(o.flags&128))In(),ro(),o.flags|=98560,S=!1;else if(S=cl(o),p!==null&&p.dehydrated!==null){if(i===null){if(!S)throw Error(t(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(t(317));S[$n]=o}else ro(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;en(o),S=!1}else ln!==null&&(dp(ln),ln=null),S=!0;if(!S)return o.flags&65536?o:null}return o.flags&128?(o.lanes=h,o):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(o.child.flags|=8192,o.mode&1&&(i===null||kt.current&1?br===0&&(br=3):mp())),o.updateQueue!==null&&(o.flags|=4),en(o),null);case 4:return un(),tp(i,o),i===null&&Xo(o.stateNode.containerInfo),en(o),null;case 10:return ml(o.type._context),en(o),null;case 17:return Lr(o.type)&&ea(),en(o),null;case 19:if(Rt(kt),S=o.memoizedState,S===null)return en(o),null;if(p=(o.flags&128)!==0,M=S.rendering,M===null)if(p)nc(S,!1);else{if(br!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(M=aa(i),M!==null){for(o.flags|=128,nc(S,!1),p=M.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=h,h=o.child;h!==null;)S=h,i=p,S.flags&=14680066,M=S.alternate,M===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=M.childLanes,S.lanes=M.lanes,S.child=M.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=M.memoizedProps,S.memoizedState=M.memoizedState,S.updateQueue=M.updateQueue,S.type=M.type,i=M.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return wt(kt,kt.current&1|2),o.child}i=i.sibling}S.tail!==null&&Xt()>Lu&&(o.flags|=128,p=!0,nc(S,!1),o.lanes=4194304)}else{if(!p)if(i=aa(M),i!==null){if(o.flags|=128,p=!0,h=i.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),nc(S,!0),S.tail===null&&S.tailMode==="hidden"&&!M.alternate&&!Ft)return en(o),null}else 2*Xt()-S.renderingStartTime>Lu&&h!==1073741824&&(o.flags|=128,p=!0,nc(S,!1),o.lanes=4194304);S.isBackwards?(M.sibling=o.child,o.child=M):(h=S.last,h!==null?h.sibling=M:o.child=M,S.last=M)}return S.tail!==null?(o=S.tail,S.rendering=o,S.tail=o.sibling,S.renderingStartTime=Xt(),o.sibling=null,h=kt.current,wt(kt,p?h&1|2:h&1),o):(en(o),null);case 22:case 23:return pp(),p=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(o.flags|=8192),p&&o.mode&1?Kn&1073741824&&(en(o),o.subtreeFlags&6&&(o.flags|=8192)):en(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Y1(i,o){switch(hl(o),o.tag){case 1:return Lr(o.type)&&ea(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return un(),Rt(_r),Rt(lr),la(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Iu(o),null;case 13:if(Rt(kt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ro()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Rt(kt),null;case 4:return un(),null;case 10:return ml(o.type._context),null;case 22:case 23:return pp(),null;case 24:return null;default:return null}}var ad=!1,tn=!1,q1=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Ou(i,o){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(p){ir(i,o,p)}else h.current=null}function rp(i,o,h){try{h()}catch(p){ir(i,o,p)}}var o0=!1;function Q1(i,o){if(Qo=nn,i=ar(),Zt(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var x=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var M=0,V=-1,W=-1,ae=0,we=0,Ee=i,xe=null;t:for(;;){for(var Ne;Ee!==h||x!==0&&Ee.nodeType!==3||(V=M+x),Ee!==S||p!==0&&Ee.nodeType!==3||(W=M+p),Ee.nodeType===3&&(M+=Ee.nodeValue.length),(Ne=Ee.firstChild)!==null;)xe=Ee,Ee=Ne;for(;;){if(Ee===i)break t;if(xe===h&&++ae===x&&(V=M),xe===S&&++we===p&&(W=M),(Ne=Ee.nextSibling)!==null)break;Ee=xe,xe=Ee.parentNode}Ee=Ne}h=V===-1||W===-1?null:{start:V,end:W}}else h=null}h=h||{start:0,end:0}}else h=null;for(Oh={focusedElem:i,selectionRange:h},nn=!1,Le=o;Le!==null;)if(o=Le,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Le=i;else for(;Le!==null;){o=Le;try{var He=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var je=He.memoizedProps,cr=He.memoizedState,te=o.stateNode,Y=te.getSnapshotBeforeUpdate(o.elementType===o.type?je:l(o.type,je),cr);te.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ie=o.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ie){ir(o,o.return,Ie)}if(i=o.sibling,i!==null){i.return=o.return,Le=i;break}Le=o.return}return He=o0,o0=!1,He}function ic(i,o,h){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&i)===i){var S=x.destroy;x.destroy=void 0,S!==void 0&&rp(o,h,S)}x=x.next}while(x!==p)}}function ld(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&i)===i){var p=h.create;h.destroy=p()}h=h.next}while(h!==o)}}function np(i){var o=i.ref;if(o!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof o=="function"?o(i):o.current=i}}function a0(i){var o=i.alternate;o!==null&&(i.alternate=null,a0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[$n],delete o[ll],delete o[Ir],delete o[Kc],delete o[Zc])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function l0(i){return i.tag===5||i.tag===3||i.tag===4}function u0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||l0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ip(i,o,h){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?h.nodeType===8?h.parentNode.insertBefore(i,o):h.insertBefore(i,o):(h.nodeType===8?(o=h.parentNode,o.insertBefore(i,h)):(o=h,o.appendChild(i)),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=al));else if(p!==4&&(i=i.child,i!==null))for(ip(i,o,h),i=i.sibling;i!==null;)ip(i,o,h),i=i.sibling}function sp(i,o,h){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?h.insertBefore(i,o):h.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(sp(i,o,h),i=i.sibling;i!==null;)sp(i,o,h),i=i.sibling}var Ur=null,Oi=!1;function ha(i,o,h){for(h=h.child;h!==null;)h0(i,o,h),h=h.sibling}function h0(i,o,h){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(zn,h)}catch{}switch(h.tag){case 5:tn||Ou(h,o);case 6:var p=Ur,x=Oi;Ur=null,ha(i,o,h),Ur=p,Oi=x,Ur!==null&&(Oi?(i=Ur,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):Ur.removeChild(h.stateNode));break;case 18:Ur!==null&&(Oi?(i=Ur,h=h.stateNode,i.nodeType===8?Eu(i.parentNode,h):i.nodeType===1&&Eu(i,h),$s(i)):Eu(Ur,h.stateNode));break;case 4:p=Ur,x=Oi,Ur=h.stateNode.containerInfo,Oi=!0,ha(i,o,h),Ur=p,Oi=x;break;case 0:case 11:case 14:case 15:if(!tn&&(p=h.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){x=p=p.next;do{var S=x,M=S.destroy;S=S.tag,M!==void 0&&(S&2||S&4)&&rp(h,o,M),x=x.next}while(x!==p)}ha(i,o,h);break;case 1:if(!tn&&(Ou(h,o),p=h.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=h.memoizedProps,p.state=h.memoizedState,p.componentWillUnmount()}catch(V){ir(h,o,V)}ha(i,o,h);break;case 21:ha(i,o,h);break;case 22:h.mode&1?(tn=(p=tn)||h.memoizedState!==null,ha(i,o,h),tn=p):ha(i,o,h);break;default:ha(i,o,h)}}function c0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new q1),o.forEach(function(p){var x=sx.bind(null,i,p);h.has(p)||(h.add(p),p.then(x,x))})}}function Bi(i,o){var h=o.deletions;if(h!==null)for(var p=0;p<h.length;p++){var x=h[p];try{var S=i,M=o,V=M;e:for(;V!==null;){switch(V.tag){case 5:Ur=V.stateNode,Oi=!1;break e;case 3:Ur=V.stateNode.containerInfo,Oi=!0;break e;case 4:Ur=V.stateNode.containerInfo,Oi=!0;break e}V=V.return}if(Ur===null)throw Error(t(160));h0(S,M,x),Ur=null,Oi=!1;var W=x.alternate;W!==null&&(W.return=null),x.return=null}catch(ae){ir(x,o,ae)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)d0(o,i),o=o.sibling}function d0(i,o){var h=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Bi(o,i),vs(i),p&4){try{ic(3,i,i.return),ld(3,i)}catch(je){ir(i,i.return,je)}try{ic(5,i,i.return)}catch(je){ir(i,i.return,je)}}break;case 1:Bi(o,i),vs(i),p&512&&h!==null&&Ou(h,h.return);break;case 5:if(Bi(o,i),vs(i),p&512&&h!==null&&Ou(h,h.return),i.flags&32){var x=i.stateNode;try{Ki(x,"")}catch(je){ir(i,i.return,je)}}if(p&4&&(x=i.stateNode,x!=null)){var S=i.memoizedProps,M=h!==null?h.memoizedProps:S,V=i.type,W=i.updateQueue;if(i.updateQueue=null,W!==null)try{V==="input"&&S.type==="radio"&&S.name!=null&&Qe(x,S),lt(V,M);var ae=lt(V,S);for(M=0;M<W.length;M+=2){var we=W[M],Ee=W[M+1];we==="style"?Bs(x,Ee):we==="dangerouslySetInnerHTML"?Ao(x,Ee):we==="children"?Ki(x,Ee):D(x,we,Ee,ae)}switch(V){case"input":or(x,S);break;case"textarea":Qi(x,S);break;case"select":var xe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var Ne=S.value;Ne!=null?qi(x,!!S.multiple,Ne,!1):xe!==!!S.multiple&&(S.defaultValue!=null?qi(x,!!S.multiple,S.defaultValue,!0):qi(x,!!S.multiple,S.multiple?[]:"",!1))}x[ll]=S}catch(je){ir(i,i.return,je)}}break;case 6:if(Bi(o,i),vs(i),p&4){if(i.stateNode===null)throw Error(t(162));x=i.stateNode,S=i.memoizedProps;try{x.nodeValue=S}catch(je){ir(i,i.return,je)}}break;case 3:if(Bi(o,i),vs(i),p&4&&h!==null&&h.memoizedState.isDehydrated)try{$s(o.containerInfo)}catch(je){ir(i,i.return,je)}break;case 4:Bi(o,i),vs(i);break;case 13:Bi(o,i),vs(i),x=i.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(lp=Xt())),p&4&&c0(i);break;case 22:if(we=h!==null&&h.memoizedState!==null,i.mode&1?(tn=(ae=tn)||we,Bi(o,i),tn=ae):Bi(o,i),vs(i),p&8192){if(ae=i.memoizedState!==null,(i.stateNode.isHidden=ae)&&!we&&i.mode&1)for(Le=i,we=i.child;we!==null;){for(Ee=Le=we;Le!==null;){switch(xe=Le,Ne=xe.child,xe.tag){case 0:case 11:case 14:case 15:ic(4,xe,xe.return);break;case 1:Ou(xe,xe.return);var He=xe.stateNode;if(typeof He.componentWillUnmount=="function"){p=xe,h=xe.return;try{o=p,He.props=o.memoizedProps,He.state=o.memoizedState,He.componentWillUnmount()}catch(je){ir(p,h,je)}}break;case 5:Ou(xe,xe.return);break;case 22:if(xe.memoizedState!==null){m0(Ee);continue}}Ne!==null?(Ne.return=xe,Le=Ne):m0(Ee)}we=we.sibling}e:for(we=null,Ee=i;;){if(Ee.tag===5){if(we===null){we=Ee;try{x=Ee.stateNode,ae?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(V=Ee.stateNode,W=Ee.memoizedProps.style,M=W!=null&&W.hasOwnProperty("display")?W.display:null,V.style.display=Co("display",M))}catch(je){ir(i,i.return,je)}}}else if(Ee.tag===6){if(we===null)try{Ee.stateNode.nodeValue=ae?"":Ee.memoizedProps}catch(je){ir(i,i.return,je)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===i)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===i)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===i)break e;we===Ee&&(we=null),Ee=Ee.return}we===Ee&&(we=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Bi(o,i),vs(i),p&4&&c0(i);break;case 21:break;default:Bi(o,i),vs(i)}}function vs(i){var o=i.flags;if(o&2){try{e:{for(var h=i.return;h!==null;){if(l0(h)){var p=h;break e}h=h.return}throw Error(t(160))}switch(p.tag){case 5:var x=p.stateNode;p.flags&32&&(Ki(x,""),p.flags&=-33);var S=u0(i);sp(i,S,x);break;case 3:case 4:var M=p.stateNode.containerInfo,V=u0(i);ip(i,V,M);break;default:throw Error(t(161))}}catch(W){ir(i,i.return,W)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function K1(i,o,h){Le=i,f0(i)}function f0(i,o,h){for(var p=(i.mode&1)!==0;Le!==null;){var x=Le,S=x.child;if(x.tag===22&&p){var M=x.memoizedState!==null||ad;if(!M){var V=x.alternate,W=V!==null&&V.memoizedState!==null||tn;V=ad;var ae=tn;if(ad=M,(tn=W)&&!ae)for(Le=x;Le!==null;)M=Le,W=M.child,M.tag===22&&M.memoizedState!==null?g0(x):W!==null?(W.return=M,Le=W):g0(x);for(;S!==null;)Le=S,f0(S),S=S.sibling;Le=x,ad=V,tn=ae}p0(i)}else x.subtreeFlags&8772&&S!==null?(S.return=x,Le=S):p0(i)}}function p0(i){for(;Le!==null;){var o=Le;if(o.flags&8772){var h=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:tn||ld(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!tn)if(h===null)p.componentDidMount();else{var x=o.elementType===o.type?h.memoizedProps:l(o.type,h.memoizedProps);p.componentDidUpdate(x,h.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var S=o.updateQueue;S!==null&&ms(o,S,p);break;case 3:var M=o.updateQueue;if(M!==null){if(h=null,o.child!==null)switch(o.child.tag){case 5:h=o.child.stateNode;break;case 1:h=o.child.stateNode}ms(o,M,h)}break;case 5:var V=o.stateNode;if(h===null&&o.flags&4){h=V;var W=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&h.focus();break;case"img":W.src&&(h.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var ae=o.alternate;if(ae!==null){var we=ae.memoizedState;if(we!==null){var Ee=we.dehydrated;Ee!==null&&$s(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}tn||o.flags&512&&np(o)}catch(xe){ir(o,o.return,xe)}}if(o===i){Le=null;break}if(h=o.sibling,h!==null){h.return=o.return,Le=h;break}Le=o.return}}function m0(i){for(;Le!==null;){var o=Le;if(o===i){Le=null;break}var h=o.sibling;if(h!==null){h.return=o.return,Le=h;break}Le=o.return}}function g0(i){for(;Le!==null;){var o=Le;try{switch(o.tag){case 0:case 11:case 15:var h=o.return;try{ld(4,o)}catch(W){ir(o,h,W)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var x=o.return;try{p.componentDidMount()}catch(W){ir(o,x,W)}}var S=o.return;try{np(o)}catch(W){ir(o,S,W)}break;case 5:var M=o.return;try{np(o)}catch(W){ir(o,M,W)}}}catch(W){ir(o,o.return,W)}if(o===i){Le=null;break}var V=o.sibling;if(V!==null){V.return=o.return,Le=V;break}Le=o.return}}var Z1=Math.ceil,ud=j.ReactCurrentDispatcher,op=j.ReactCurrentOwner,hi=j.ReactCurrentBatchConfig,vt=0,Mr=null,gr=null,Gr=0,Kn=0,Bu=Ci(0),br=0,sc=null,Sl=0,hd=0,ap=0,oc=null,Dn=null,lp=0,Lu=1/0,fo=null,cd=!1,up=null,ca=null,dd=!1,da=null,fd=0,ac=0,hp=null,pd=-1,md=0;function dn(){return vt&6?Xt():pd!==-1?pd:pd=Xt()}function fa(i){return i.mode&1?vt&2&&Gr!==0?Gr&-Gr:Xf.transition!==null?(md===0&&(md=gn()),md):(i=pt,i!==0||(i=window.event,i=i===void 0?16:sn(i.type)),i):1}function Li(i,o,h,p){if(50<ac)throw ac=0,hp=null,Error(t(185));La(i,h,p),(!(vt&2)||i!==Mr)&&(i===Mr&&(!(vt&2)&&(hd|=h),br===4&&pa(i,Gr)),Nn(i,p),h===1&&vt===0&&!(o.mode&1)&&(Lu=Xt()+500,En&&Tn()))}function Nn(i,o){var h=i.callbackNode;Jl(i,o);var p=Ba(i,i===Mr?Gr:0);if(p===0)h!==null&&Lc(h),i.callbackNode=null,i.callbackPriority=0;else if(o=p&-p,i.callbackPriority!==o){if(h!=null&&Lc(h),o===1)i.tag===0?Jc(v0.bind(null,i)):jh(v0.bind(null,i)),Uh(function(){!(vt&6)&&Tn()}),h=null;else{switch(Ga(p)){case 1:h=Oa;break;case 4:h=Kl;break;case 16:h=Zl;break;case 536870912:h=js;break;default:h=Zl}h=A0(h,y0.bind(null,i))}i.callbackPriority=o,i.callbackNode=h}}function y0(i,o){if(pd=-1,md=0,vt&6)throw Error(t(327));var h=i.callbackNode;if(Uu()&&i.callbackNode!==h)return null;var p=Ba(i,i===Mr?Gr:0);if(p===0)return null;if(p&30||p&i.expiredLanes||o)o=gd(i,p);else{o=p;var x=vt;vt|=2;var S=x0();(Mr!==i||Gr!==o)&&(fo=null,Lu=Xt()+500,Al(i,o));do try{tx();break}catch(V){_0(i,V)}while(!0);pl(),ud.current=S,vt=x,gr!==null?o=0:(Mr=null,Gr=0,o=br)}if(o!==0){if(o===2&&(x=eu(i),x!==0&&(p=x,o=cp(i,x))),o===1)throw h=sc,Al(i,0),pa(i,p),Nn(i,Xt()),h;if(o===6)pa(i,p);else{if(x=i.current.alternate,!(p&30)&&!J1(x)&&(o=gd(i,p),o===2&&(S=eu(i),S!==0&&(p=S,o=cp(i,S))),o===1))throw h=sc,Al(i,0),pa(i,p),Nn(i,Xt()),h;switch(i.finishedWork=x,i.finishedLanes=p,o){case 0:case 1:throw Error(t(345));case 2:Cl(i,Dn,fo);break;case 3:if(pa(i,p),(p&130023424)===p&&(o=lp+500-Xt(),10<o)){if(Ba(i,0)!==0)break;if(x=i.suspendedLanes,(x&p)!==p){dn(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=Lh(Cl.bind(null,i,Dn,fo),o);break}Cl(i,Dn,fo);break;case 4:if(pa(i,p),(p&4194240)===p)break;for(o=i.eventTimes,x=-1;0<p;){var M=31-mr(p);S=1<<M,M=o[M],M>x&&(x=M),p&=~S}if(p=x,p=Xt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Z1(p/1960))-p,10<p){i.timeoutHandle=Lh(Cl.bind(null,i,Dn,fo),p);break}Cl(i,Dn,fo);break;case 5:Cl(i,Dn,fo);break;default:throw Error(t(329))}}}return Nn(i,Xt()),i.callbackNode===h?y0.bind(null,i):null}function cp(i,o){var h=oc;return i.current.memoizedState.isDehydrated&&(Al(i,o).flags|=256),i=gd(i,o),i!==2&&(o=Dn,Dn=h,o!==null&&dp(o)),i}function dp(i){Dn===null?Dn=i:Dn.push.apply(Dn,i)}function J1(i){for(var o=i;;){if(o.flags&16384){var h=o.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var p=0;p<h.length;p++){var x=h[p],S=x.getSnapshot;x=x.value;try{if(!an(S(),x))return!1}catch{return!1}}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function pa(i,o){for(o&=~ap,o&=~hd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var h=31-mr(o),p=1<<h;i[h]=-1,o&=~p}}function v0(i){if(vt&6)throw Error(t(327));Uu();var o=Ba(i,0);if(!(o&1))return Nn(i,Xt()),null;var h=gd(i,o);if(i.tag!==0&&h===2){var p=eu(i);p!==0&&(o=p,h=cp(i,p))}if(h===1)throw h=sc,Al(i,0),pa(i,o),Nn(i,Xt()),h;if(h===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Cl(i,Dn,fo),Nn(i,Xt()),null}function fp(i,o){var h=vt;vt|=1;try{return i(o)}finally{vt=h,vt===0&&(Lu=Xt()+500,En&&Tn())}}function Tl(i){da!==null&&da.tag===0&&!(vt&6)&&Uu();var o=vt;vt|=1;var h=hi.transition,p=pt;try{if(hi.transition=null,pt=1,i)return i()}finally{pt=p,hi.transition=h,vt=o,!(vt&6)&&Tn()}}function pp(){Kn=Bu.current,Rt(Bu)}function Al(i,o){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,Ko(h)),gr!==null)for(h=gr.return;h!==null;){var p=h;switch(hl(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&ea();break;case 3:un(),Rt(_r),Rt(lr),la();break;case 5:Iu(p);break;case 4:un();break;case 13:Rt(kt);break;case 19:Rt(kt);break;case 10:ml(p.type._context);break;case 22:case 23:pp()}h=h.return}if(Mr=i,gr=i=ma(i.current,null),Gr=Kn=o,br=0,sc=null,ap=hd=Sl=0,Dn=oc=null,ao!==null){for(o=0;o<ao.length;o++)if(h=ao[o],p=h.interleaved,p!==null){h.interleaved=null;var x=p.next,S=h.pending;if(S!==null){var M=S.next;S.next=x,p.next=M}h.pending=p}ao=null}return i}function _0(i,o){do{var h=gr;try{if(pl(),Xn.current=El,ur){for(var p=Bt.memoizedState;p!==null;){var x=p.queue;x!==null&&(x.pending=null),p=p.next}ur=!1}if(Yn=0,qt=Vt=Bt=null,Mn=!1,kr=0,op.current=null,h===null||h.return===null){br=1,sc=o,gr=null;break}e:{var S=i,M=h.return,V=h,W=o;if(o=Gr,V.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ae=W,we=V,Ee=we.tag;if(!(we.mode&1)&&(Ee===0||Ee===11||Ee===15)){var xe=we.alternate;xe?(we.updateQueue=xe.updateQueue,we.memoizedState=xe.memoizedState,we.lanes=xe.lanes):(we.updateQueue=null,we.memoizedState=null)}var Ne=Ge(M);if(Ne!==null){Ne.flags&=-257,ot(Ne,M,V,S,o),Ne.mode&1&&Te(S,ae,o),o=Ne,W=ae;var He=o.updateQueue;if(He===null){var je=new Set;je.add(W),o.updateQueue=je}else He.add(W);break e}else{if(!(o&1)){Te(S,ae,o),mp();break e}W=Error(t(426))}}else if(Ft&&V.mode&1){var cr=Ge(M);if(cr!==null){!(cr.flags&65536)&&(cr.flags|=256),ot(cr,M,V,S,o),Rn($(W,V));break e}}S=W=$(W,V),br!==4&&(br=2),oc===null?oc=[S]:oc.push(S),S=M;do{switch(S.tag){case 3:S.flags|=65536,o&=-o,S.lanes|=o;var te=ke(S,W,o);nr(S,te);break e;case 1:V=W;var Y=S.type,ie=S.stateNode;if(!(S.flags&128)&&(typeof Y.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(ca===null||!ca.has(ie)))){S.flags|=65536,o&=-o,S.lanes|=o;var Ie=pe(S,V,o);nr(S,Ie);break e}}S=S.return}while(S!==null)}b0(h)}catch(We){o=We,gr===h&&h!==null&&(gr=h=h.return);continue}break}while(!0)}function x0(){var i=ud.current;return ud.current=El,i===null?El:i}function mp(){(br===0||br===3||br===2)&&(br=4),Mr===null||!(Sl&268435455)&&!(hd&268435455)||pa(Mr,Gr)}function gd(i,o){var h=vt;vt|=2;var p=x0();(Mr!==i||Gr!==o)&&(fo=null,Al(i,o));do try{ex();break}catch(x){_0(i,x)}while(!0);if(pl(),vt=h,ud.current=p,gr!==null)throw Error(t(261));return Mr=null,Gr=0,br}function ex(){for(;gr!==null;)w0(gr)}function tx(){for(;gr!==null&&!Uf();)w0(gr)}function w0(i){var o=T0(i.alternate,i,Kn);i.memoizedProps=i.pendingProps,o===null?b0(i):gr=o,op.current=null}function b0(i){var o=i;do{var h=o.alternate;if(i=o.return,o.flags&32768){if(h=Y1(h,o),h!==null){h.flags&=32767,gr=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{br=6,gr=null;return}}else if(h=X1(h,o,Kn),h!==null){gr=h;return}if(o=o.sibling,o!==null){gr=o;return}gr=o=i}while(o!==null);br===0&&(br=5)}function Cl(i,o,h){var p=pt,x=hi.transition;try{hi.transition=null,pt=1,rx(i,o,h,p)}finally{hi.transition=x,pt=p}return null}function rx(i,o,h,p){do Uu();while(da!==null);if(vt&6)throw Error(t(327));h=i.finishedWork;var x=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var S=h.lanes|h.childLanes;if(fh(i,S),i===Mr&&(gr=Mr=null,Gr=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||dd||(dd=!0,A0(Zl,function(){return Uu(),null})),S=(h.flags&15990)!==0,h.subtreeFlags&15990||S){S=hi.transition,hi.transition=null;var M=pt;pt=1;var V=vt;vt|=4,op.current=null,Q1(i,h),d0(h,i),du(Oh),nn=!!Qo,Oh=Qo=null,i.current=h,K1(h),Gf(),vt=V,pt=M,hi.transition=S}else i.current=h;if(dd&&(dd=!1,da=i,fd=x),S=i.pendingLanes,S===0&&(ca=null),Ct(h.stateNode),Nn(i,Xt()),o!==null)for(p=i.onRecoverableError,h=0;h<o.length;h++)x=o[h],p(x.value,{componentStack:x.stack,digest:x.digest});if(cd)throw cd=!1,i=up,up=null,i;return fd&1&&i.tag!==0&&Uu(),S=i.pendingLanes,S&1?i===hp?ac++:(ac=0,hp=i):ac=0,Tn(),null}function Uu(){if(da!==null){var i=Ga(fd),o=hi.transition,h=pt;try{if(hi.transition=null,pt=16>i?16:i,da===null)var p=!1;else{if(i=da,da=null,fd=0,vt&6)throw Error(t(331));var x=vt;for(vt|=4,Le=i.current;Le!==null;){var S=Le,M=S.child;if(Le.flags&16){var V=S.deletions;if(V!==null){for(var W=0;W<V.length;W++){var ae=V[W];for(Le=ae;Le!==null;){var we=Le;switch(we.tag){case 0:case 11:case 15:ic(8,we,S)}var Ee=we.child;if(Ee!==null)Ee.return=we,Le=Ee;else for(;Le!==null;){we=Le;var xe=we.sibling,Ne=we.return;if(a0(we),we===ae){Le=null;break}if(xe!==null){xe.return=Ne,Le=xe;break}Le=Ne}}}var He=S.alternate;if(He!==null){var je=He.child;if(je!==null){He.child=null;do{var cr=je.sibling;je.sibling=null,je=cr}while(je!==null)}}Le=S}}if(S.subtreeFlags&2064&&M!==null)M.return=S,Le=M;else e:for(;Le!==null;){if(S=Le,S.flags&2048)switch(S.tag){case 0:case 11:case 15:ic(9,S,S.return)}var te=S.sibling;if(te!==null){te.return=S.return,Le=te;break e}Le=S.return}}var Y=i.current;for(Le=Y;Le!==null;){M=Le;var ie=M.child;if(M.subtreeFlags&2064&&ie!==null)ie.return=M,Le=ie;else e:for(M=Y;Le!==null;){if(V=Le,V.flags&2048)try{switch(V.tag){case 0:case 11:case 15:ld(9,V)}}catch(We){ir(V,V.return,We)}if(V===M){Le=null;break e}var Ie=V.sibling;if(Ie!==null){Ie.return=V.return,Le=Ie;break e}Le=V.return}}if(vt=x,Tn(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(zn,i)}catch{}p=!0}return p}finally{pt=h,hi.transition=o}}return!1}function E0(i,o,h){o=$(h,o),o=ke(i,o,1),i=rr(i,o,1),o=dn(),i!==null&&(La(i,1,o),Nn(i,o))}function ir(i,o,h){if(i.tag===3)E0(i,i,h);else for(;o!==null;){if(o.tag===3){E0(o,i,h);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ca===null||!ca.has(p))){i=$(h,i),i=pe(o,i,1),o=rr(o,i,1),i=dn(),o!==null&&(La(o,1,i),Nn(o,i));break}}o=o.return}}function nx(i,o,h){var p=i.pingCache;p!==null&&p.delete(o),o=dn(),i.pingedLanes|=i.suspendedLanes&h,Mr===i&&(Gr&h)===h&&(br===4||br===3&&(Gr&130023424)===Gr&&500>Xt()-lp?Al(i,0):ap|=h),Nn(i,o)}function S0(i,o){o===0&&(i.mode&1?(o=Pr,Pr<<=1,!(Pr&130023424)&&(Pr=4194304)):o=1);var h=dn();i=St(i,o),i!==null&&(La(i,o,h),Nn(i,h))}function ix(i){var o=i.memoizedState,h=0;o!==null&&(h=o.retryLane),S0(i,h)}function sx(i,o){var h=0;switch(i.tag){case 13:var p=i.stateNode,x=i.memoizedState;x!==null&&(h=x.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(o),S0(i,h)}var T0;T0=function(i,o,h){if(i!==null)if(i.memoizedProps!==o.pendingProps||_r.current)K=!0;else{if(!(i.lanes&h)&&!(o.flags&128))return K=!1,$1(i,o,h);K=!!(i.flags&131072)}else K=!1,Ft&&o.flags&1048576&&na(o,to,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;od(i,o),i=o.pendingProps;var x=ds(o,lr.current);oo(o,h),x=_l(null,o,p,i,x,h);var S=li();return o.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Lr(p)?(S=!0,ta(o)):S=!1,o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,tr(o),x.updater=g,o.stateNode=x,x._reactInternals=o,L(o,p,i,h),o=ui(null,o,p,!0,S,h)):(o.tag=0,Ft&&S&&ia(o),ue(null,o,x,h),o=o.child),o;case 16:p=o.elementType;e:{switch(od(i,o),i=o.pendingProps,x=p._init,p=x(p._payload),o.type=p,x=o.tag=ax(p),i=l(p,i),x){case 0:o=hr(null,o,p,i,h);break e;case 1:o=yt(null,o,p,i,h);break e;case 11:o=be(null,o,p,i,h);break e;case 14:o=Xe(null,o,p,l(p.type,i),h);break e}throw Error(t(306,p,""))}return o;case 0:return p=o.type,x=o.pendingProps,x=o.elementType===p?x:l(p,x),hr(i,o,p,x,h);case 1:return p=o.type,x=o.pendingProps,x=o.elementType===p?x:l(p,x),yt(i,o,p,x,h);case 3:e:{if(id(o),i===null)throw Error(t(387));p=o.pendingProps,S=o.memoizedState,x=S.element,Yt(i,o),ps(o,p,null,h);var M=o.memoizedState;if(p=M.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){x=$(Error(t(423)),o),o=Jg(i,o,p,h,x);break e}else if(p!==x){x=$(Error(t(424)),o),o=Jg(i,o,p,h,x);break e}else for(Kr=Ai(o.stateNode.containerInfo.firstChild),Qr=o,Ft=!0,ln=null,h=fl(o,null,p,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(ro(),p===x){o=co(i,o,h);break e}ue(i,o,p,h)}o=o.child}return o;case 5:return lo(o),i===null&&Pn(o),p=o.type,x=o.pendingProps,S=i!==null?i.memoizedProps:null,M=x.children,Bh(p,x)?M=null:S!==null&&Bh(p,S)&&(o.flags|=32),mt(i,o),ue(i,o,M,h),o.child;case 6:return i===null&&Pn(o),null;case 13:return e0(i,o,h);case 4:return yl(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Ii(o,null,p,h):ue(i,o,p,h),o.child;case 11:return p=o.type,x=o.pendingProps,x=o.elementType===p?x:l(p,x),be(i,o,p,x,h);case 7:return ue(i,o,o.pendingProps,h),o.child;case 8:return ue(i,o,o.pendingProps.children,h),o.child;case 12:return ue(i,o,o.pendingProps.children,h),o.child;case 10:e:{if(p=o.type._context,x=o.pendingProps,S=o.memoizedProps,M=x.value,wt(no,p._currentValue),p._currentValue=M,S!==null)if(an(S.value,M)){if(S.children===x.children&&!_r.current){o=co(i,o,h);break e}}else for(S=o.child,S!==null&&(S.return=o);S!==null;){var V=S.dependencies;if(V!==null){M=S.child;for(var W=V.firstContext;W!==null;){if(W.context===p){if(S.tag===1){W=Ot(-1,h&-h),W.tag=2;var ae=S.updateQueue;if(ae!==null){ae=ae.shared;var we=ae.pending;we===null?W.next=W:(W.next=we.next,we.next=W),ae.pending=W}}S.lanes|=h,W=S.alternate,W!==null&&(W.lanes|=h),gl(S.return,h,o),V.lanes|=h;break}W=W.next}}else if(S.tag===10)M=S.type===o.type?null:S.child;else if(S.tag===18){if(M=S.return,M===null)throw Error(t(341));M.lanes|=h,V=M.alternate,V!==null&&(V.lanes|=h),gl(M,h,o),M=S.sibling}else M=S.child;if(M!==null)M.return=S;else for(M=S;M!==null;){if(M===o){M=null;break}if(S=M.sibling,S!==null){S.return=M.return,M=S;break}M=M.return}S=M}ue(i,o,x.children,h),o=o.child}return o;case 9:return x=o.type,p=o.pendingProps.children,oo(o,h),x=Zr(x),p=p(x),o.flags|=1,ue(i,o,p,h),o.child;case 14:return p=o.type,x=l(p,o.pendingProps),x=l(p.type,x),Xe(i,o,p,x,h);case 15:return gt(i,o,o.type,o.pendingProps,h);case 17:return p=o.type,x=o.pendingProps,x=o.elementType===p?x:l(p,x),od(i,o),o.tag=1,Lr(p)?(i=!0,ta(o)):i=!1,oo(o,h),E(o,p,x),L(o,p,x,h),ui(null,o,p,!0,i,h);case 19:return r0(i,o,h);case 22:return ze(i,o,h)}throw Error(t(156,o.tag))};function A0(i,o){return Na(i,o)}function ox(i,o,h,p){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(i,o,h,p){return new ox(i,o,h,p)}function gp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ax(i){if(typeof i=="function")return gp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Q)return 11;if(i===_e)return 14}return 2}function ma(i,o){var h=i.alternate;return h===null?(h=ci(i.tag,o,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=o,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,o=i.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function yd(i,o,h,p,x,S){var M=2;if(p=i,typeof i=="function")gp(i)&&(M=1);else if(typeof i=="string")M=5;else e:switch(i){case U:return Pl(h.children,x,S,o);case J:M=8,x|=8;break;case se:return i=ci(12,h,o,x|2),i.elementType=se,i.lanes=S,i;case Z:return i=ci(13,h,o,x),i.elementType=Z,i.lanes=S,i;case he:return i=ci(19,h,o,x),i.elementType=he,i.lanes=S,i;case H:return vd(h,x,S,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case de:M=10;break e;case Se:M=9;break e;case Q:M=11;break e;case _e:M=14;break e;case B:M=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=ci(M,h,o,x),o.elementType=i,o.type=p,o.lanes=S,o}function Pl(i,o,h,p){return i=ci(7,i,p,o),i.lanes=h,i}function vd(i,o,h,p){return i=ci(22,i,p,o),i.elementType=H,i.lanes=h,i.stateNode={isHidden:!1},i}function yp(i,o,h){return i=ci(6,i,null,o),i.lanes=h,i}function vp(i,o,h){return o=ci(4,i.children!==null?i.children:[],i.key,o),o.lanes=h,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function lx(i,o,h,p,x){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dh(0),this.expirationTimes=dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dh(0),this.identifierPrefix=p,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function _p(i,o,h,p,x,S,M,V,W){return i=new lx(i,o,h,V,W),o===1?(o=1,S===!0&&(o|=8)):o=0,S=ci(3,null,null,o),i.current=S,S.stateNode=i,S.memoizedState={element:p,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},tr(S),i}function ux(i,o,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:i,containerInfo:o,implementation:h}}function C0(i){if(!i)return wn;i=i._reactInternals;e:{if(ti(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Lr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var h=i.type;if(Lr(h))return Hh(i,h,o)}return o}function P0(i,o,h,p,x,S,M,V,W){return i=_p(h,p,!0,i,x,S,M,V,W),i.context=C0(null),h=i.current,p=dn(),x=fa(h),S=Ot(p,x),S.callback=o??null,rr(h,S,x),i.current.lanes=x,La(i,x,p),Nn(i,p),i}function _d(i,o,h,p){var x=o.current,S=dn(),M=fa(x);return h=C0(h),o.context===null?o.context=h:o.pendingContext=h,o=Ot(S,M),o.payload={element:i},p=p===void 0?null:p,p!==null&&(o.callback=p),i=rr(x,o,M),i!==null&&(Li(i,x,M,S),ki(i,x,M)),M}function xd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function I0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<o?h:o}}function xp(i,o){I0(i,o),(i=i.alternate)&&I0(i,o)}function hx(){return null}var R0=typeof reportError=="function"?reportError:function(i){console.error(i)};function wp(i){this._internalRoot=i}wd.prototype.render=wp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));_d(i,o,null,null)},wd.prototype.unmount=wp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Tl(function(){_d(null,i,null,null)}),o[jt]=null}};function wd(i){this._internalRoot=i}wd.prototype.unstable_scheduleHydration=function(i){if(i){var o=tu();i={blockedOn:null,target:i,priority:o};for(var h=0;h<Dt.length&&o!==0&&o<Dt[h].priority;h++);Dt.splice(h,0,i),h===0&&Wa(i)}};function bp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function bd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function k0(){}function cx(i,o,h,p,x){if(x){if(typeof p=="function"){var S=p;p=function(){var ae=xd(M);S.call(ae)}}var M=P0(o,p,i,0,null,!1,!1,"",k0);return i._reactRootContainer=M,i[jt]=M.current,Xo(i.nodeType===8?i.parentNode:i),Tl(),M}for(;x=i.lastChild;)i.removeChild(x);if(typeof p=="function"){var V=p;p=function(){var ae=xd(W);V.call(ae)}}var W=_p(i,0,!1,null,null,!1,!1,"",k0);return i._reactRootContainer=W,i[jt]=W.current,Xo(i.nodeType===8?i.parentNode:i),Tl(function(){_d(o,W,h,p)}),W}function Ed(i,o,h,p,x){var S=h._reactRootContainer;if(S){var M=S;if(typeof x=="function"){var V=x;x=function(){var W=xd(M);V.call(W)}}_d(o,M,i,x)}else M=cx(h,o,i,x,p);return xd(M)}Gc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var h=Ws(o.pendingLanes);h!==0&&(Ua(o,h|1),Nn(o,Xt()),!(vt&6)&&(Lu=Xt()+500,Tn()))}break;case 13:Tl(function(){var p=St(i,1);if(p!==null){var x=dn();Li(p,i,1,x)}}),xp(i,1)}},Ha=function(i){if(i.tag===13){var o=St(i,134217728);if(o!==null){var h=dn();Li(o,i,134217728,h)}xp(i,134217728)}},ph=function(i){if(i.tag===13){var o=fa(i),h=St(i,o);if(h!==null){var p=dn();Li(h,i,o,p)}xp(i,o)}},tu=function(){return pt},Ro=function(i,o){var h=pt;try{return pt=i,o()}finally{pt=h}},nt=function(i,o,h){switch(o){case"input":if(or(i,h),o=h.name,h.type==="radio"&&o!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<h.length;o++){var p=h[o];if(p!==i&&p.form===i.form){var x=Jo(p);if(!x)throw Error(t(90));Ue(p),or(p,x)}}}break;case"textarea":Qi(i,h);break;case"select":o=h.value,o!=null&&qi(i,!!h.multiple,o,!1)}},mi=fp,Ar=Tl;var dx={usingClientEntryPoint:!1,Events:[Zo,eo,Jo,mn,Ls,fp]},lc={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fx={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=zs(i),i===null?null:i.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||hx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{zn=Sd.inject(fx),ft=Sd}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dx,Fn.createPortal=function(i,o){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bp(o))throw Error(t(200));return ux(i,o,null,h)},Fn.createRoot=function(i,o){if(!bp(i))throw Error(t(299));var h=!1,p="",x=R0;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=_p(i,1,!1,null,null,h,!1,p,x),i[jt]=o.current,Xo(i.nodeType===8?i.parentNode:i),new wp(o)},Fn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=zs(o),i=i===null?null:i.stateNode,i},Fn.flushSync=function(i){return Tl(i)},Fn.hydrate=function(i,o,h){if(!bd(o))throw Error(t(200));return Ed(null,i,o,!0,h)},Fn.hydrateRoot=function(i,o,h){if(!bp(i))throw Error(t(405));var p=h!=null&&h.hydratedSources||null,x=!1,S="",M=R0;if(h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(M=h.onRecoverableError)),o=P0(o,null,i,1,h??null,x,!1,S,M),i[jt]=o.current,Xo(i),p)for(i=0;i<p.length;i++)h=p[i],x=h._getVersion,x=x(h._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[h,x]:o.mutableSourceEagerHydrationData.push(h,x);return new wd(o)},Fn.render=function(i,o,h){if(!bd(o))throw Error(t(200));return Ed(null,i,o,!1,h)},Fn.unmountComponentAtNode=function(i){if(!bd(i))throw Error(t(40));return i._reactRootContainer?(Tl(function(){Ed(null,null,i,!1,function(){i._reactRootContainer=null,i[jt]=null})}),!0):!1},Fn.unstable_batchedUpdates=fp,Fn.unstable_renderSubtreeIntoContainer=function(i,o,h,p){if(!bd(h))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Ed(i,o,h,!1,p)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var U0;function Sx(){if(U0)return Tp.exports;U0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tp.exports=Ex(),Tp.exports}var G0;function Tx(){if(G0)return Td;G0=1;var n=Sx();return Td.createRoot=n.createRoot,Td.hydrateRoot=n.hydrateRoot,Td}var Ax=Tx(),Sc={exports:{}},Vl=(n=>(n[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",n))(Vl||{}),n_=(n=>(n[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",n))(n_||{}),Ym=(n=>(n[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",n))(Ym||{}),et=(n=>(n[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",n))(et||{}),Vi=(n=>(n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",n))(Vi||{}),Pe=(n=>(n[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",n))(Pe||{}),th=(n=>(n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",n))(th||{}),Ye=(n=>(n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",n))(Ye||{}),Fe=(n=>(n[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",n))(Fe||{}),As=(n=>(n[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",n))(As||{}),wo=(n=>(n[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",n))(wo||{}),Rs=(n=>(n[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",n))(Rs||{}),Bn=(n=>(n[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",n))(Bn||{}),Ts=(n=>(n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",n))(Ts||{}),Ug=(n=>(n[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",n))(Ug||{}),fi=(n=>(n.LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",n))(fi||{}),Er=(n=>(n[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",n[n.COLOR=4]="COLOR",n))(Er||{}),yr=(n=>(n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",n))(yr||{}),Ps=(n=>(n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",n))(Ps||{});const Cx={createCanvas:(n,e)=>{const t=document.createElement("canvas");return t.width=n,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(n,e)=>fetch(n,e),parseXML:n=>new DOMParser().parseFromString(n,"text/xml")},Oe={ADAPTER:Cx,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Pp=/iPhone/i,H0=/iPod/i,z0=/iPad/i,j0=/\biOS-universal(?:.+)Mac\b/i,Ip=/\bAndroid(?:.+)Mobile\b/i,V0=/Android/i,Gu=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ad=/Silk/i,po=/Windows Phone/i,W0=/\bWindows(?:.+)ARM\b/i,$0=/BlackBerry/i,X0=/BB10/i,Y0=/Opera Mini/i,q0=/\b(CriOS|Chrome)(?:.+)Mobile/i,Q0=/Mobile(?:.+)Firefox\b/i,K0=function(n){return typeof n<"u"&&n.platform==="MacIntel"&&typeof n.maxTouchPoints=="number"&&n.maxTouchPoints>1&&typeof MSStream>"u"};function Px(n){return function(e){return e.test(n)}}function Z0(n){var e={userAgent:"",platform:"",maxTouchPoints:0};!n&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof n=="string"?e.userAgent=n:n&&n.userAgent&&(e={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0});var t=e.userAgent,r=t.split("[FBAN");typeof r[1]<"u"&&(t=r[0]),r=t.split("Twitter"),typeof r[1]<"u"&&(t=r[0]);var s=Px(t),a={apple:{phone:s(Pp)&&!s(po),ipod:s(H0),tablet:!s(Pp)&&(s(z0)||K0(e))&&!s(po),universal:s(j0),device:(s(Pp)||s(H0)||s(z0)||s(j0)||K0(e))&&!s(po)},amazon:{phone:s(Gu),tablet:!s(Gu)&&s(Ad),device:s(Gu)||s(Ad)},android:{phone:!s(po)&&s(Gu)||!s(po)&&s(Ip),tablet:!s(po)&&!s(Gu)&&!s(Ip)&&(s(Ad)||s(V0)),device:!s(po)&&(s(Gu)||s(Ad)||s(Ip)||s(V0))||s(/\bokhttp\b/i)},windows:{phone:s(po),tablet:s(W0),device:s(po)||s(W0)},other:{blackberry:s($0),blackberry10:s(X0),opera:s(Y0),firefox:s(Q0),chrome:s(q0),device:s($0)||s(X0)||s(Y0)||s(Q0)||s(q0)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}const Ix=Z0.default??Z0,vo=Ix(globalThis.navigator);Oe.RETINA_PREFIX=/@([0-9\.]+)x/;Oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Rp={exports:{}},J0;function Rx(){return J0||(J0=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function s(m,v,b){this.fn=m,this.context=v,this.once=b||!1}function a(m,v,b,d,y){if(typeof b!="function")throw new TypeError("The listener must be a function");var _=new s(b,d||m,y),T=t?t+v:v;return m._events[T]?m._events[T].fn?m._events[T]=[m._events[T],_]:m._events[T].push(_):(m._events[T]=_,m._eventsCount++),m}function c(m,v){--m._eventsCount===0?m._events=new r:delete m._events[v]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var v=[],b,d;if(this._eventsCount===0)return v;for(d in b=this._events)e.call(b,d)&&v.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(b)):v},f.prototype.listeners=function(v){var b=t?t+v:v,d=this._events[b];if(!d)return[];if(d.fn)return[d.fn];for(var y=0,_=d.length,T=new Array(_);y<_;y++)T[y]=d[y].fn;return T},f.prototype.listenerCount=function(v){var b=t?t+v:v,d=this._events[b];return d?d.fn?1:d.length:0},f.prototype.emit=function(v,b,d,y,_,T){var C=t?t+v:v;if(!this._events[C])return!1;var A=this._events[C],P=arguments.length,N,D;if(A.fn){switch(A.once&&this.removeListener(v,A.fn,void 0,!0),P){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,b),!0;case 3:return A.fn.call(A.context,b,d),!0;case 4:return A.fn.call(A.context,b,d,y),!0;case 5:return A.fn.call(A.context,b,d,y,_),!0;case 6:return A.fn.call(A.context,b,d,y,_,T),!0}for(D=1,N=new Array(P-1);D<P;D++)N[D-1]=arguments[D];A.fn.apply(A.context,N)}else{var j=A.length,O;for(D=0;D<j;D++)switch(A[D].once&&this.removeListener(v,A[D].fn,void 0,!0),P){case 1:A[D].fn.call(A[D].context);break;case 2:A[D].fn.call(A[D].context,b);break;case 3:A[D].fn.call(A[D].context,b,d);break;case 4:A[D].fn.call(A[D].context,b,d,y);break;default:if(!N)for(O=1,N=new Array(P-1);O<P;O++)N[O-1]=arguments[O];A[D].fn.apply(A[D].context,N)}}return!0},f.prototype.on=function(v,b,d){return a(this,v,b,d,!1)},f.prototype.once=function(v,b,d){return a(this,v,b,d,!0)},f.prototype.removeListener=function(v,b,d,y){var _=t?t+v:v;if(!this._events[_])return this;if(!b)return c(this,_),this;var T=this._events[_];if(T.fn)T.fn===b&&(!y||T.once)&&(!d||T.context===d)&&c(this,_);else{for(var C=0,A=[],P=T.length;C<P;C++)(T[C].fn!==b||y&&!T[C].once||d&&T[C].context!==d)&&A.push(T[C]);A.length?this._events[_]=A.length===1?A[0]:A:c(this,_)}return this},f.prototype.removeAllListeners=function(v){var b;return v?(b=t?t+v:v,this._events[b]&&c(this,b)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=t,f.EventEmitter=f,n.exports=f}(Rp)),Rp.exports}var kx=Rx();const Mc=Tf(kx);var Cd={exports:{}},ey;function Mx(){if(ey)return Cd.exports;ey=1,Cd.exports=n,Cd.exports.default=n;function n(B,H,R){R=R||2;var z=H&&H.length,F=z?H[0]*R:B.length,k=e(B,0,F,R,!0),G=[];if(!k||k.next===k.prev)return G;var X,ee,ce,me,le,ge,Ae;if(z&&(k=m(B,H,k,R)),B.length>80*R){X=ce=B[0],ee=me=B[1];for(var Ce=R;Ce<F;Ce+=R)le=B[Ce],ge=B[Ce+1],le<X&&(X=le),ge<ee&&(ee=ge),le>ce&&(ce=le),ge>me&&(me=ge);Ae=Math.max(ce-X,me-ee),Ae=Ae!==0?32767/Ae:0}return r(k,G,R,X,ee,Ae,0),G}function e(B,H,R,z,F){var k,G;if(F===_e(B,H,R,z)>0)for(k=H;k<R;k+=z)G=Q(k,B[k],B[k+1],G);else for(k=R-z;k>=H;k-=z)G=Q(k,B[k],B[k+1],G);return G&&j(G,G.next)&&(Z(G),G=G.next),G}function t(B,H){if(!B)return B;H||(H=B);var R=B,z;do if(z=!1,!R.steiner&&(j(R,R.next)||D(R.prev,R,R.next)===0)){if(Z(R),R=H=R.prev,R===R.next)break;z=!0}else R=R.next;while(z||R!==H);return H}function r(B,H,R,z,F,k,G){if(B){!G&&k&&_(B,z,F,k);for(var X=B,ee,ce;B.prev!==B.next;){if(ee=B.prev,ce=B.next,k?a(B,z,F,k):s(B)){H.push(ee.i/R|0),H.push(B.i/R|0),H.push(ce.i/R|0),Z(B),B=ce.next,X=ce.next;continue}if(B=ce,B===X){G?G===1?(B=c(t(B),H,R),r(B,H,R,z,F,k,2)):G===2&&f(B,H,R,z,F,k):r(t(B),H,R,z,F,k,1);break}}}}function s(B){var H=B.prev,R=B,z=B.next;if(D(H,R,z)>=0)return!1;for(var F=H.x,k=R.x,G=z.x,X=H.y,ee=R.y,ce=z.y,me=F<k?F<G?F:G:k<G?k:G,le=X<ee?X<ce?X:ce:ee<ce?ee:ce,ge=F>k?F>G?F:G:k>G?k:G,Ae=X>ee?X>ce?X:ce:ee>ce?ee:ce,Ce=z.next;Ce!==H;){if(Ce.x>=me&&Ce.x<=ge&&Ce.y>=le&&Ce.y<=Ae&&P(F,X,k,ee,G,ce,Ce.x,Ce.y)&&D(Ce.prev,Ce,Ce.next)>=0)return!1;Ce=Ce.next}return!0}function a(B,H,R,z){var F=B.prev,k=B,G=B.next;if(D(F,k,G)>=0)return!1;for(var X=F.x,ee=k.x,ce=G.x,me=F.y,le=k.y,ge=G.y,Ae=X<ee?X<ce?X:ce:ee<ce?ee:ce,Ce=me<le?me<ge?me:ge:le<ge?le:ge,Be=X>ee?X>ce?X:ce:ee>ce?ee:ce,Ue=me>le?me>ge?me:ge:le>ge?le:ge,Je=C(Ae,Ce,H,R,z),_t=C(Be,Ue,H,R,z),qe=B.prevZ,Qe=B.nextZ;qe&&qe.z>=Je&&Qe&&Qe.z<=_t;){if(qe.x>=Ae&&qe.x<=Be&&qe.y>=Ce&&qe.y<=Ue&&qe!==F&&qe!==G&&P(X,me,ee,le,ce,ge,qe.x,qe.y)&&D(qe.prev,qe,qe.next)>=0||(qe=qe.prevZ,Qe.x>=Ae&&Qe.x<=Be&&Qe.y>=Ce&&Qe.y<=Ue&&Qe!==F&&Qe!==G&&P(X,me,ee,le,ce,ge,Qe.x,Qe.y)&&D(Qe.prev,Qe,Qe.next)>=0))return!1;Qe=Qe.nextZ}for(;qe&&qe.z>=Je;){if(qe.x>=Ae&&qe.x<=Be&&qe.y>=Ce&&qe.y<=Ue&&qe!==F&&qe!==G&&P(X,me,ee,le,ce,ge,qe.x,qe.y)&&D(qe.prev,qe,qe.next)>=0)return!1;qe=qe.prevZ}for(;Qe&&Qe.z<=_t;){if(Qe.x>=Ae&&Qe.x<=Be&&Qe.y>=Ce&&Qe.y<=Ue&&Qe!==F&&Qe!==G&&P(X,me,ee,le,ce,ge,Qe.x,Qe.y)&&D(Qe.prev,Qe,Qe.next)>=0)return!1;Qe=Qe.nextZ}return!0}function c(B,H,R){var z=B;do{var F=z.prev,k=z.next.next;!j(F,k)&&O(F,z,z.next,k)&&se(F,k)&&se(k,F)&&(H.push(F.i/R|0),H.push(z.i/R|0),H.push(k.i/R|0),Z(z),Z(z.next),z=B=k),z=z.next}while(z!==B);return t(z)}function f(B,H,R,z,F,k){var G=B;do{for(var X=G.next.next;X!==G.prev;){if(G.i!==X.i&&N(G,X)){var ee=Se(G,X);G=t(G,G.next),ee=t(ee,ee.next),r(G,H,R,z,F,k,0),r(ee,H,R,z,F,k,0);return}X=X.next}G=G.next}while(G!==B)}function m(B,H,R,z){var F=[],k,G,X,ee,ce;for(k=0,G=H.length;k<G;k++)X=H[k]*z,ee=k<G-1?H[k+1]*z:B.length,ce=e(B,X,ee,z,!1),ce===ce.next&&(ce.steiner=!0),F.push(A(ce));for(F.sort(v),k=0;k<F.length;k++)R=b(F[k],R);return R}function v(B,H){return B.x-H.x}function b(B,H){var R=d(B,H);if(!R)return H;var z=Se(R,B);return t(z,z.next),t(R,R.next)}function d(B,H){var R=H,z=B.x,F=B.y,k=-1/0,G;do{if(F<=R.y&&F>=R.next.y&&R.next.y!==R.y){var X=R.x+(F-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(X<=z&&X>k&&(k=X,G=R.x<R.next.x?R:R.next,X===z))return G}R=R.next}while(R!==H);if(!G)return null;var ee=G,ce=G.x,me=G.y,le=1/0,ge;R=G;do z>=R.x&&R.x>=ce&&z!==R.x&&P(F<me?z:k,F,ce,me,F<me?k:z,F,R.x,R.y)&&(ge=Math.abs(F-R.y)/(z-R.x),se(R,B)&&(ge<le||ge===le&&(R.x>G.x||R.x===G.x&&y(G,R)))&&(G=R,le=ge)),R=R.next;while(R!==ee);return G}function y(B,H){return D(B.prev,B,H.prev)<0&&D(H.next,B,B.next)<0}function _(B,H,R,z){var F=B;do F.z===0&&(F.z=C(F.x,F.y,H,R,z)),F.prevZ=F.prev,F.nextZ=F.next,F=F.next;while(F!==B);F.prevZ.nextZ=null,F.prevZ=null,T(F)}function T(B){var H,R,z,F,k,G,X,ee,ce=1;do{for(R=B,B=null,k=null,G=0;R;){for(G++,z=R,X=0,H=0;H<ce&&(X++,z=z.nextZ,!!z);H++);for(ee=ce;X>0||ee>0&&z;)X!==0&&(ee===0||!z||R.z<=z.z)?(F=R,R=R.nextZ,X--):(F=z,z=z.nextZ,ee--),k?k.nextZ=F:B=F,F.prevZ=k,k=F;R=z}k.nextZ=null,ce*=2}while(G>1);return B}function C(B,H,R,z,F){return B=(B-R)*F|0,H=(H-z)*F|0,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,H=(H|H<<8)&16711935,H=(H|H<<4)&252645135,H=(H|H<<2)&858993459,H=(H|H<<1)&1431655765,B|H<<1}function A(B){var H=B,R=B;do(H.x<R.x||H.x===R.x&&H.y<R.y)&&(R=H),H=H.next;while(H!==B);return R}function P(B,H,R,z,F,k,G,X){return(F-G)*(H-X)>=(B-G)*(k-X)&&(B-G)*(z-X)>=(R-G)*(H-X)&&(R-G)*(k-X)>=(F-G)*(z-X)}function N(B,H){return B.next.i!==H.i&&B.prev.i!==H.i&&!J(B,H)&&(se(B,H)&&se(H,B)&&de(B,H)&&(D(B.prev,B,H.prev)||D(B,H.prev,H))||j(B,H)&&D(B.prev,B,B.next)>0&&D(H.prev,H,H.next)>0)}function D(B,H,R){return(H.y-B.y)*(R.x-H.x)-(H.x-B.x)*(R.y-H.y)}function j(B,H){return B.x===H.x&&B.y===H.y}function O(B,H,R,z){var F=U(D(B,H,R)),k=U(D(B,H,z)),G=U(D(R,z,B)),X=U(D(R,z,H));return!!(F!==k&&G!==X||F===0&&q(B,R,H)||k===0&&q(B,z,H)||G===0&&q(R,B,z)||X===0&&q(R,H,z))}function q(B,H,R){return H.x<=Math.max(B.x,R.x)&&H.x>=Math.min(B.x,R.x)&&H.y<=Math.max(B.y,R.y)&&H.y>=Math.min(B.y,R.y)}function U(B){return B>0?1:B<0?-1:0}function J(B,H){var R=B;do{if(R.i!==B.i&&R.next.i!==B.i&&R.i!==H.i&&R.next.i!==H.i&&O(R,R.next,B,H))return!0;R=R.next}while(R!==B);return!1}function se(B,H){return D(B.prev,B,B.next)<0?D(B,H,B.next)>=0&&D(B,B.prev,H)>=0:D(B,H,B.prev)<0||D(B,B.next,H)<0}function de(B,H){var R=B,z=!1,F=(B.x+H.x)/2,k=(B.y+H.y)/2;do R.y>k!=R.next.y>k&&R.next.y!==R.y&&F<(R.next.x-R.x)*(k-R.y)/(R.next.y-R.y)+R.x&&(z=!z),R=R.next;while(R!==B);return z}function Se(B,H){var R=new he(B.i,B.x,B.y),z=new he(H.i,H.x,H.y),F=B.next,k=H.prev;return B.next=H,H.prev=B,R.next=F,F.prev=R,z.next=R,R.prev=z,k.next=z,z.prev=k,z}function Q(B,H,R,z){var F=new he(B,H,R);return z?(F.next=z.next,F.prev=z,z.next.prev=F,z.next=F):(F.prev=F,F.next=F),F}function Z(B){B.next.prev=B.prev,B.prev.next=B.next,B.prevZ&&(B.prevZ.nextZ=B.nextZ),B.nextZ&&(B.nextZ.prevZ=B.prevZ)}function he(B,H,R){this.i=B,this.x=H,this.y=R,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}n.deviation=function(B,H,R,z){var F=H&&H.length,k=F?H[0]*R:B.length,G=Math.abs(_e(B,0,k,R));if(F)for(var X=0,ee=H.length;X<ee;X++){var ce=H[X]*R,me=X<ee-1?H[X+1]*R:B.length;G-=Math.abs(_e(B,ce,me,R))}var le=0;for(X=0;X<z.length;X+=3){var ge=z[X]*R,Ae=z[X+1]*R,Ce=z[X+2]*R;le+=Math.abs((B[ge]-B[Ce])*(B[Ae+1]-B[ge+1])-(B[ge]-B[Ae])*(B[Ce+1]-B[ge+1]))}return G===0&&le===0?0:Math.abs((le-G)/G)};function _e(B,H,R,z){for(var F=0,k=H,G=R-z;k<R;k+=z)F+=(B[G]-B[k])*(B[k+1]+B[G+1]),G=k;return F}return n.flatten=function(B){for(var H=B[0][0].length,R={vertices:[],holes:[],dimensions:H},z=0,F=0;F<B.length;F++){for(var k=0;k<B[F].length;k++)for(var G=0;G<H;G++)R.vertices.push(B[F][k][G]);F>0&&(z+=B[F-1].length,R.holes.push(z))}return R},Cd.exports}var Dx=Mx();const Nx=Tf(Dx);var Il={},mc={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var Fx=mc.exports,ty;function Ox(){return ty||(ty=1,function(n,e){(function(t){var r=e&&!e.nodeType&&e,s=n&&!n.nodeType&&n,a=typeof yo=="object"&&yo;(a.global===a||a.window===a||a.self===a)&&(t=a);var c,f=2147483647,m=36,v=1,b=26,d=38,y=700,_=72,T=128,C="-",A=/^xn--/,P=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=m-v,O=Math.floor,q=String.fromCharCode,U;function J(F){throw new RangeError(D[F])}function se(F,k){for(var G=F.length,X=[];G--;)X[G]=k(F[G]);return X}function de(F,k){var G=F.split("@"),X="";G.length>1&&(X=G[0]+"@",F=G[1]),F=F.replace(N,".");var ee=F.split("."),ce=se(ee,k).join(".");return X+ce}function Se(F){for(var k=[],G=0,X=F.length,ee,ce;G<X;)ee=F.charCodeAt(G++),ee>=55296&&ee<=56319&&G<X?(ce=F.charCodeAt(G++),(ce&64512)==56320?k.push(((ee&1023)<<10)+(ce&1023)+65536):(k.push(ee),G--)):k.push(ee);return k}function Q(F){return se(F,function(k){var G="";return k>65535&&(k-=65536,G+=q(k>>>10&1023|55296),k=56320|k&1023),G+=q(k),G}).join("")}function Z(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:m}function he(F,k){return F+22+75*(F<26)-((k!=0)<<5)}function _e(F,k,G){var X=0;for(F=G?O(F/y):F>>1,F+=O(F/k);F>j*b>>1;X+=m)F=O(F/j);return O(X+(j+1)*F/(F+d))}function B(F){var k=[],G=F.length,X,ee=0,ce=T,me=_,le,ge,Ae,Ce,Be,Ue,Je,_t,qe;for(le=F.lastIndexOf(C),le<0&&(le=0),ge=0;ge<le;++ge)F.charCodeAt(ge)>=128&&J("not-basic"),k.push(F.charCodeAt(ge));for(Ae=le>0?le+1:0;Ae<G;){for(Ce=ee,Be=1,Ue=m;Ae>=G&&J("invalid-input"),Je=Z(F.charCodeAt(Ae++)),(Je>=m||Je>O((f-ee)/Be))&&J("overflow"),ee+=Je*Be,_t=Ue<=me?v:Ue>=me+b?b:Ue-me,!(Je<_t);Ue+=m)qe=m-_t,Be>O(f/qe)&&J("overflow"),Be*=qe;X=k.length+1,me=_e(ee-Ce,X,Ce==0),O(ee/X)>f-ce&&J("overflow"),ce+=O(ee/X),ee%=X,k.splice(ee++,0,ce)}return Q(k)}function H(F){var k,G,X,ee,ce,me,le,ge,Ae,Ce,Be,Ue=[],Je,_t,qe,Qe;for(F=Se(F),Je=F.length,k=T,G=0,ce=_,me=0;me<Je;++me)Be=F[me],Be<128&&Ue.push(q(Be));for(X=ee=Ue.length,ee&&Ue.push(C);X<Je;){for(le=f,me=0;me<Je;++me)Be=F[me],Be>=k&&Be<le&&(le=Be);for(_t=X+1,le-k>O((f-G)/_t)&&J("overflow"),G+=(le-k)*_t,k=le,me=0;me<Je;++me)if(Be=F[me],Be<k&&++G>f&&J("overflow"),Be==k){for(ge=G,Ae=m;Ce=Ae<=ce?v:Ae>=ce+b?b:Ae-ce,!(ge<Ce);Ae+=m)Qe=ge-Ce,qe=m-Ce,Ue.push(q(he(Ce+Qe%qe,0))),ge=O(Qe/qe);Ue.push(q(he(ge,0))),ce=_e(G,_t,X==ee),G=0,++X}++G,++k}return Ue.join("")}function R(F){return de(F,function(k){return A.test(k)?B(k.slice(4).toLowerCase()):k})}function z(F){return de(F,function(k){return P.test(k)?"xn--"+H(k):k})}if(c={version:"1.4.1",ucs2:{decode:Se,encode:Q},decode:B,encode:H,toASCII:z,toUnicode:R},r&&s)if(n.exports==r)s.exports=c;else for(U in c)c.hasOwnProperty(U)&&(r[U]=c[U]);else t.punycode=c})(Fx)}(mc,mc.exports)),mc.exports}var kp,ry;function Bx(){return ry||(ry=1,kp=Error),kp}var Mp,ny;function Lx(){return ny||(ny=1,Mp=EvalError),Mp}var Dp,iy;function Ux(){return iy||(iy=1,Dp=RangeError),Dp}var Np,sy;function Gx(){return sy||(sy=1,Np=ReferenceError),Np}var Fp,oy;function i_(){return oy||(oy=1,Fp=SyntaxError),Fp}var Op,ay;function Dc(){return ay||(ay=1,Op=TypeError),Op}var Bp,ly;function Hx(){return ly||(ly=1,Bp=URIError),Bp}var Lp,uy;function zx(){return uy||(uy=1,Lp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(e,t);if(f.value!==s||f.enumerable!==!0)return!1}return!0}),Lp}var Up,hy;function jx(){if(hy)return Up;hy=1;var n=typeof Symbol<"u"&&Symbol,e=zx();return Up=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Up}var Gp,cy;function Vx(){if(cy)return Gp;cy=1;var n={__proto__:null,foo:{}},e={__proto__:n}.foo===n.foo&&!(n instanceof Object);return Gp=function(){return e},Gp}var Hp,dy;function Wx(){if(dy)return Hp;dy=1;var n="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,r="[object Function]",s=function(m,v){for(var b=[],d=0;d<m.length;d+=1)b[d]=m[d];for(var y=0;y<v.length;y+=1)b[y+m.length]=v[y];return b},a=function(m,v){for(var b=[],d=v,y=0;d<m.length;d+=1,y+=1)b[y]=m[d];return b},c=function(f,m){for(var v="",b=0;b<f.length;b+=1)v+=f[b],b+1<f.length&&(v+=m);return v};return Hp=function(m){var v=this;if(typeof v!="function"||e.apply(v)!==r)throw new TypeError(n+v);for(var b=a(arguments,1),d,y=function(){if(this instanceof d){var P=v.apply(this,s(b,arguments));return Object(P)===P?P:this}return v.apply(m,s(b,arguments))},_=t(0,v.length-b.length),T=[],C=0;C<_;C++)T[C]="$"+C;if(d=Function("binder","return function ("+c(T,",")+"){ return binder.apply(this,arguments); }")(y),v.prototype){var A=function(){};A.prototype=v.prototype,d.prototype=new A,A.prototype=null}return d},Hp}var zp,fy;function Nc(){if(fy)return zp;fy=1;var n=Wx();return zp=Function.prototype.bind||n,zp}var jp,py;function $x(){if(py)return jp;py=1;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Nc();return jp=t.call(n,e),jp}var Vp,my;function Af(){if(my)return Vp;my=1;var n,e=Bx(),t=Lx(),r=Ux(),s=Gx(),a=i_(),c=Dc(),f=Hx(),m=Function,v=function(H){try{return m('"use strict"; return ('+H+").constructor;")()}catch{}},b=Object.getOwnPropertyDescriptor;if(b)try{b({},"")}catch{b=null}var d=function(){throw new c},y=b?function(){try{return arguments.callee,d}catch{try{return b(arguments,"callee").get}catch{return d}}}():d,_=jx()(),T=Vx()(),C=Object.getPrototypeOf||(T?function(H){return H.__proto__}:null),A={},P=typeof Uint8Array>"u"||!C?n:C(Uint8Array),N={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":_&&C?C([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":A,"%AsyncGenerator%":A,"%AsyncGeneratorFunction%":A,"%AsyncIteratorPrototype%":A,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":t,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":A,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_&&C?C(C([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_||!C?n:C(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":r,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_||!C?n:C(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_&&C?C(""[Symbol.iterator]()):n,"%Symbol%":_?Symbol:n,"%SyntaxError%":a,"%ThrowTypeError%":y,"%TypedArray%":P,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":f,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet};if(C)try{null.error}catch(H){var D=C(C(H));N["%Error.prototype%"]=D}var j=function H(R){var z;if(R==="%AsyncFunction%")z=v("async function () {}");else if(R==="%GeneratorFunction%")z=v("function* () {}");else if(R==="%AsyncGeneratorFunction%")z=v("async function* () {}");else if(R==="%AsyncGenerator%"){var F=H("%AsyncGeneratorFunction%");F&&(z=F.prototype)}else if(R==="%AsyncIteratorPrototype%"){var k=H("%AsyncGenerator%");k&&C&&(z=C(k.prototype))}return N[R]=z,z},O={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},q=Nc(),U=$x(),J=q.call(Function.call,Array.prototype.concat),se=q.call(Function.apply,Array.prototype.splice),de=q.call(Function.call,String.prototype.replace),Se=q.call(Function.call,String.prototype.slice),Q=q.call(Function.call,RegExp.prototype.exec),Z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,he=/\\(\\)?/g,_e=function(R){var z=Se(R,0,1),F=Se(R,-1);if(z==="%"&&F!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(F==="%"&&z!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var k=[];return de(R,Z,function(G,X,ee,ce){k[k.length]=ee?de(ce,he,"$1"):X||G}),k},B=function(R,z){var F=R,k;if(U(O,F)&&(k=O[F],F="%"+k[0]+"%"),U(N,F)){var G=N[F];if(G===A&&(G=j(F)),typeof G>"u"&&!z)throw new c("intrinsic "+R+" exists, but is not available. Please file an issue!");return{alias:k,name:F,value:G}}throw new a("intrinsic "+R+" does not exist!")};return Vp=function(R,z){if(typeof R!="string"||R.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof z!="boolean")throw new c('"allowMissing" argument must be a boolean');if(Q(/^%?[^%]*%?$/,R)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var F=_e(R),k=F.length>0?F[0]:"",G=B("%"+k+"%",z),X=G.name,ee=G.value,ce=!1,me=G.alias;me&&(k=me[0],se(F,J([0,1],me)));for(var le=1,ge=!0;le<F.length;le+=1){var Ae=F[le],Ce=Se(Ae,0,1),Be=Se(Ae,-1);if((Ce==='"'||Ce==="'"||Ce==="`"||Be==='"'||Be==="'"||Be==="`")&&Ce!==Be)throw new a("property names with quotes must have matching quotes");if((Ae==="constructor"||!ge)&&(ce=!0),k+="."+Ae,X="%"+k+"%",U(N,X))ee=N[X];else if(ee!=null){if(!(Ae in ee)){if(!z)throw new c("base intrinsic for "+R+" exists, but the property is not available.");return}if(b&&le+1>=F.length){var Ue=b(ee,Ae);ge=!!Ue,ge&&"get"in Ue&&!("originalValue"in Ue.get)?ee=Ue.get:ee=ee[Ae]}else ge=U(ee,Ae),ee=ee[Ae];ge&&!ce&&(N[X]=ee)}}return ee},Vp}var Wp={exports:{}},$p,gy;function Gg(){if(gy)return $p;gy=1;var n=Af(),e=n("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return $p=e,$p}var Xp,yy;function Xx(){return yy||(yy=1,Xp=Object.getOwnPropertyDescriptor),Xp}var Yp,vy;function s_(){if(vy)return Yp;vy=1;var n=Xx();if(n)try{n([],"length")}catch{n=null}return Yp=n,Yp}var qp,_y;function Yx(){if(_y)return qp;_y=1;var n=Gg(),e=i_(),t=Dc(),r=s_();return qp=function(a,c,f){if(!a||typeof a!="object"&&typeof a!="function")throw new t("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var m=arguments.length>3?arguments[3]:null,v=arguments.length>4?arguments[4]:null,b=arguments.length>5?arguments[5]:null,d=arguments.length>6?arguments[6]:!1,y=!!r&&r(a,c);if(n)n(a,c,{configurable:b===null&&y?y.configurable:!b,enumerable:m===null&&y?y.enumerable:!m,value:f,writable:v===null&&y?y.writable:!v});else if(d||!m&&!v&&!b)a[c]=f;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},qp}var Qp,xy;function qx(){if(xy)return Qp;xy=1;var n=Gg(),e=function(){return!!n};return e.hasArrayLengthDefineBug=function(){if(!n)return null;try{return n([],"length",{value:1}).length!==1}catch{return!0}},Qp=e,Qp}var Kp,wy;function Qx(){if(wy)return Kp;wy=1;var n=Af(),e=Yx(),t=qx()(),r=s_(),s=Dc(),a=n("%Math.floor%");return Kp=function(f,m){if(typeof f!="function")throw new s("`fn` is not a function");if(typeof m!="number"||m<0||m>4294967295||a(m)!==m)throw new s("`length` must be a positive 32-bit integer");var v=arguments.length>2&&!!arguments[2],b=!0,d=!0;if("length"in f&&r){var y=r(f,"length");y&&!y.configurable&&(b=!1),y&&!y.writable&&(d=!1)}return(b||d||!v)&&(t?e(f,"length",m,!0,!0):e(f,"length",m)),f},Kp}var Zp,by;function o_(){return by||(by=1,Zp=Function.prototype.call),Zp}var Jp,Ey;function a_(){return Ey||(Ey=1,Jp=Function.prototype.apply),Jp}var em,Sy;function Kx(){return Sy||(Sy=1,em=typeof Reflect=="function"&&Reflect.apply),em}var tm,Ty;function l_(){if(Ty)return tm;Ty=1;var n=Nc(),e=a_(),t=o_(),r=Kx();return tm=r||n.call(t,e),tm}var rm,Ay;function Zx(){if(Ay)return rm;Ay=1;var n=Nc(),e=Dc(),t=o_(),r=l_();return rm=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return r(n,t,a)},rm}var nm,Cy;function Jx(){if(Cy)return nm;Cy=1;var n=Nc(),e=a_(),t=l_();return nm=function(){return t(n,e,arguments)},nm}var Py;function ew(){return Py||(Py=1,function(n){var e=Qx(),t=Gg(),r=Zx(),s=Jx();n.exports=function(c){var f=r(arguments),m=c.length-(arguments.length-1);return e(f,1+(m>0?m:0),!0)},t?t(n.exports,"apply",{value:s}):n.exports.apply=s}(Wp)),Wp.exports}var im,Iy;function tw(){if(Iy)return im;Iy=1;var n=Af(),e=ew(),t=e(n("String.prototype.indexOf"));return im=function(s,a){var c=n(s,!!a);return typeof c=="function"&&t(s,".prototype.")>-1?e(c):c},im}const rw={},nw=Object.freeze(Object.defineProperty({__proto__:null,default:rw},Symbol.toStringTag,{value:"Module"})),iw=r_(nw);var sm,Ry;function sw(){if(Ry)return sm;Ry=1;var n=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=n&&e&&typeof e.get=="function"?e.get:null,r=n&&Map.prototype.forEach,s=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&a&&typeof a.get=="function"?a.get:null,f=s&&Set.prototype.forEach,m=typeof WeakMap=="function"&&WeakMap.prototype,v=m?WeakMap.prototype.has:null,b=typeof WeakSet=="function"&&WeakSet.prototype,d=b?WeakSet.prototype.has:null,y=typeof WeakRef=="function"&&WeakRef.prototype,_=y?WeakRef.prototype.deref:null,T=Boolean.prototype.valueOf,C=Object.prototype.toString,A=Function.prototype.toString,P=String.prototype.match,N=String.prototype.slice,D=String.prototype.replace,j=String.prototype.toUpperCase,O=String.prototype.toLowerCase,q=RegExp.prototype.test,U=Array.prototype.concat,J=Array.prototype.join,se=Array.prototype.slice,de=Math.floor,Se=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Q=Object.getOwnPropertySymbols,Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,he=typeof Symbol=="function"&&typeof Symbol.iterator=="object",_e=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===he||!0)?Symbol.toStringTag:null,B=Object.prototype.propertyIsEnumerable,H=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ne){return ne.__proto__}:null);function R(ne,oe){if(ne===1/0||ne===-1/0||ne!==ne||ne&&ne>-1e3&&ne<1e3||q.call(/e/,oe))return oe;var lt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ne=="number"){var xt=ne<0?-de(-ne):de(ne);if(xt!==ne){var Et=String(xt),nt=N.call(oe,Et.length+1);return D.call(Et,lt,"$&_")+"."+D.call(D.call(nt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return D.call(oe,lt,"$&_")}var z=iw,F=z.custom,k=Je(F)?F:null,G={__proto__:null,double:'"',single:"'"},X={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};sm=function ne(oe,lt,xt,Et){var nt=lt||{};if(Qe(nt,"quoteStyle")&&!Qe(G,nt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Qe(nt,"maxStringLength")&&(typeof nt.maxStringLength=="number"?nt.maxStringLength<0&&nt.maxStringLength!==1/0:nt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Or=Qe(nt,"customInspect")?nt.customInspect:!0;if(typeof Or!="boolean"&&Or!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Qe(nt,"indent")&&nt.indent!==null&&nt.indent!=="	"&&!(parseInt(nt.indent,10)===nt.indent&&nt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Qe(nt,"numericSeparator")&&typeof nt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Vr=nt.numericSeparator;if(typeof oe>"u")return"undefined";if(oe===null)return"null";if(typeof oe=="boolean")return oe?"true":"false";if(typeof oe=="string")return Ra(oe,nt);if(typeof oe=="number"){if(oe===0)return 1/0/oe>0?"0":"-0";var Tr=String(oe);return Vr?R(oe,Tr):Tr}if(typeof oe=="bigint"){var mn=String(oe)+"n";return Vr?R(oe,mn):mn}var Ls=typeof nt.depth>"u"?5:nt.depth;if(typeof xt>"u"&&(xt=0),xt>=Ls&&Ls>0&&typeof oe=="object")return me(oe)?"[Array]":"[Object]";var mi=hh(nt,xt);if(typeof Et>"u")Et=[];else if(To(Et,oe)>=0)return"[Circular]";function Ar(es,zs,Ql){if(zs&&(Et=se.call(Et),Et.push(zs)),Ql){var Na={depth:nt.depth};return Qe(nt,"quoteStyle")&&(Na.quoteStyle=nt.quoteStyle),ne(es,Na,xt+1,Et)}return ne(es,nt,xt+1,Et)}if(typeof oe=="function"&&!ge(oe)){var Us=Un(oe),Po=Bs(oe,Ar);return"[Function"+(Us?": "+Us:" (anonymous)")+"]"+(Po.length>0?" { "+J.call(Po,", ")+" }":"")}if(Je(oe)){var Zi=he?D.call(String(oe),/^(Symbol\(.*\))_[^)]*$/,"$1"):Z.call(oe);return typeof oe=="object"&&!he?ei(Zi):Zi}if(Xl(oe)){for(var gi="<"+O.call(String(oe.nodeName)),yi=oe.attributes||[],Gs=0;Gs<yi.length;Gs++)gi+=" "+yi[Gs].name+"="+ee(ce(yi[Gs].value),"double",nt);return gi+=">",oe.childNodes&&oe.childNodes.length&&(gi+="..."),gi+="</"+O.call(String(oe.nodeName))+">",gi}if(me(oe)){if(oe.length===0)return"[]";var Hn=Bs(oe,Ar);return mi&&!Os(Hn)?"["+Co(Hn,mi)+"]":"[ "+J.call(Hn,", ")+" ]"}if(Ae(oe)){var Ji=Bs(oe,Ar);return!("cause"in Error.prototype)&&"cause"in oe&&!B.call(oe,"cause")?"{ ["+String(oe)+"] "+J.call(U.call("[cause]: "+Ar(oe.cause),Ji),", ")+" }":Ji.length===0?"["+String(oe)+"]":"{ ["+String(oe)+"] "+J.call(Ji,", ")+" }"}if(typeof oe=="object"&&Or){if(k&&typeof oe[k]=="function"&&z)return z(oe,{depth:Ls-xt});if(Or!=="symbol"&&typeof oe.inspect=="function")return oe.inspect()}if(Gn(oe)){var Hs=[];return r&&r.call(oe,function(es,zs){Hs.push(Ar(zs,oe,!0)+" => "+Ar(es,oe))}),Ki("Map",t.call(oe),Hs,mi)}if($l(oe)){var vi=[];return f&&f.call(oe,function(es){vi.push(Ar(es,oe))}),Ki("Set",c.call(oe),vi,mi)}if(qi(oe))return Ao("WeakMap");if(Qi(oe))return Ao("WeakSet");if(Ia(oe))return Ao("WeakRef");if(Be(oe))return ei(Ar(Number(oe)));if(_t(oe))return ei(Ar(Se.call(oe)));if(Ue(oe))return ei(T.call(oe));if(Ce(oe))return ei(Ar(String(oe)));if(typeof window<"u"&&oe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&oe===globalThis||typeof yo<"u"&&oe===yo)return"{ [object globalThis] }";if(!le(oe)&&!ge(oe)){var Ma=Bs(oe,Ar),Yl=H?H(oe)===Object.prototype:oe instanceof Object||oe.constructor===Object,Da=oe instanceof Object?"":"null prototype",ti=!Yl&&_e&&Object(oe)===oe&&_e in oe?N.call(or(oe),8,-1):Da?"Object":"",ql=Yl||typeof oe.constructor!="function"?"":oe.constructor.name?oe.constructor.name+" ":"",Io=ql+(ti||Da?"["+J.call(U.call([],ti||[],Da||[]),": ")+"] ":"");return Ma.length===0?Io+"{}":mi?Io+"{"+Co(Ma,mi)+"}":Io+"{ "+J.call(Ma,", ")+" }"}return String(oe)};function ee(ne,oe,lt){var xt=lt.quoteStyle||oe,Et=G[xt];return Et+ne+Et}function ce(ne){return D.call(String(ne),/"/g,"&quot;")}function me(ne){return or(ne)==="[object Array]"&&(!_e||!(typeof ne=="object"&&_e in ne))}function le(ne){return or(ne)==="[object Date]"&&(!_e||!(typeof ne=="object"&&_e in ne))}function ge(ne){return or(ne)==="[object RegExp]"&&(!_e||!(typeof ne=="object"&&_e in ne))}function Ae(ne){return or(ne)==="[object Error]"&&(!_e||!(typeof ne=="object"&&_e in ne))}function Ce(ne){return or(ne)==="[object String]"&&(!_e||!(typeof ne=="object"&&_e in ne))}function Be(ne){return or(ne)==="[object Number]"&&(!_e||!(typeof ne=="object"&&_e in ne))}function Ue(ne){return or(ne)==="[object Boolean]"&&(!_e||!(typeof ne=="object"&&_e in ne))}function Je(ne){if(he)return ne&&typeof ne=="object"&&ne instanceof Symbol;if(typeof ne=="symbol")return!0;if(!ne||typeof ne!="object"||!Z)return!1;try{return Z.call(ne),!0}catch{}return!1}function _t(ne){if(!ne||typeof ne!="object"||!Se)return!1;try{return Se.call(ne),!0}catch{}return!1}var qe=Object.prototype.hasOwnProperty||function(ne){return ne in this};function Qe(ne,oe){return qe.call(ne,oe)}function or(ne){return C.call(ne)}function Un(ne){if(ne.name)return ne.name;var oe=P.call(A.call(ne),/^function\s*([\w$]+)/);return oe?oe[1]:null}function To(ne,oe){if(ne.indexOf)return ne.indexOf(oe);for(var lt=0,xt=ne.length;lt<xt;lt++)if(ne[lt]===oe)return lt;return-1}function Gn(ne){if(!t||!ne||typeof ne!="object")return!1;try{t.call(ne);try{c.call(ne)}catch{return!0}return ne instanceof Map}catch{}return!1}function qi(ne){if(!v||!ne||typeof ne!="object")return!1;try{v.call(ne,v);try{d.call(ne,d)}catch{return!0}return ne instanceof WeakMap}catch{}return!1}function Ia(ne){if(!_||!ne||typeof ne!="object")return!1;try{return _.call(ne),!0}catch{}return!1}function $l(ne){if(!c||!ne||typeof ne!="object")return!1;try{c.call(ne);try{t.call(ne)}catch{return!0}return ne instanceof Set}catch{}return!1}function Qi(ne){if(!d||!ne||typeof ne!="object")return!1;try{d.call(ne,d);try{v.call(ne,v)}catch{return!0}return ne instanceof WeakSet}catch{}return!1}function Xl(ne){return!ne||typeof ne!="object"?!1:typeof HTMLElement<"u"&&ne instanceof HTMLElement?!0:typeof ne.nodeName=="string"&&typeof ne.getAttribute=="function"}function Ra(ne,oe){if(ne.length>oe.maxStringLength){var lt=ne.length-oe.maxStringLength,xt="... "+lt+" more character"+(lt>1?"s":"");return Ra(N.call(ne,0,oe.maxStringLength),oe)+xt}var Et=X[oe.quoteStyle||"single"];Et.lastIndex=0;var nt=D.call(D.call(ne,Et,"\\$1"),/[\x00-\x1f]/g,ka);return ee(nt,"single",oe)}function ka(ne){var oe=ne.charCodeAt(0),lt={8:"b",9:"t",10:"n",12:"f",13:"r"}[oe];return lt?"\\"+lt:"\\x"+(oe<16?"0":"")+j.call(oe.toString(16))}function ei(ne){return"Object("+ne+")"}function Ao(ne){return ne+" { ? }"}function Ki(ne,oe,lt,xt){var Et=xt?Co(lt,xt):J.call(lt,", ");return ne+" ("+oe+") {"+Et+"}"}function Os(ne){for(var oe=0;oe<ne.length;oe++)if(To(ne[oe],`
`)>=0)return!1;return!0}function hh(ne,oe){var lt;if(ne.indent==="	")lt="	";else if(typeof ne.indent=="number"&&ne.indent>0)lt=J.call(Array(ne.indent+1)," ");else return null;return{base:lt,prev:J.call(Array(oe+1),lt)}}function Co(ne,oe){if(ne.length===0)return"";var lt=`
`+oe.prev+oe.base;return lt+J.call(ne,","+lt)+`
`+oe.prev}function Bs(ne,oe){var lt=me(ne),xt=[];if(lt){xt.length=ne.length;for(var Et=0;Et<ne.length;Et++)xt[Et]=Qe(ne,Et)?oe(ne[Et],ne):""}var nt=typeof Q=="function"?Q(ne):[],Or;if(he){Or={};for(var Vr=0;Vr<nt.length;Vr++)Or["$"+nt[Vr]]=nt[Vr]}for(var Tr in ne)Qe(ne,Tr)&&(lt&&String(Number(Tr))===Tr&&Tr<ne.length||he&&Or["$"+Tr]instanceof Symbol||(q.call(/[^\w$]/,Tr)?xt.push(oe(Tr,ne)+": "+oe(ne[Tr],ne)):xt.push(Tr+": "+oe(ne[Tr],ne))));if(typeof Q=="function")for(var mn=0;mn<nt.length;mn++)B.call(ne,nt[mn])&&xt.push("["+oe(nt[mn])+"]: "+oe(ne[nt[mn]],ne));return xt}return sm}var om,ky;function ow(){if(ky)return om;ky=1;var n=Af(),e=tw(),t=sw(),r=Dc(),s=n("%WeakMap%",!0),a=n("%Map%",!0),c=e("WeakMap.prototype.get",!0),f=e("WeakMap.prototype.set",!0),m=e("WeakMap.prototype.has",!0),v=e("Map.prototype.get",!0),b=e("Map.prototype.set",!0),d=e("Map.prototype.has",!0),y=function(A,P){for(var N=A,D;(D=N.next)!==null;N=D)if(D.key===P)return N.next=D.next,D.next=A.next,A.next=D,D},_=function(A,P){var N=y(A,P);return N&&N.value},T=function(A,P,N){var D=y(A,P);D?D.value=N:A.next={key:P,next:A.next,value:N}},C=function(A,P){return!!y(A,P)};return om=function(){var P,N,D,j={assert:function(O){if(!j.has(O))throw new r("Side channel does not contain "+t(O))},get:function(O){if(s&&O&&(typeof O=="object"||typeof O=="function")){if(P)return c(P,O)}else if(a){if(N)return v(N,O)}else if(D)return _(D,O)},has:function(O){if(s&&O&&(typeof O=="object"||typeof O=="function")){if(P)return m(P,O)}else if(a){if(N)return d(N,O)}else if(D)return C(D,O);return!1},set:function(O,q){s&&O&&(typeof O=="object"||typeof O=="function")?(P||(P=new s),f(P,O,q)):a?(N||(N=new a),b(N,O,q)):(D||(D={key:{},next:null}),T(D,O,q))}};return j},om}var am,My;function Hg(){if(My)return am;My=1;var n=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return am={default:t.RFC3986,formatters:{RFC1738:function(r){return n.call(r,e,"+")},RFC3986:function(r){return String(r)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},am}var lm,Dy;function u_(){if(Dy)return lm;Dy=1;var n=Hg(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r=function(){for(var A=[],P=0;P<256;++P)A.push("%"+((P<16?"0":"")+P.toString(16)).toUpperCase());return A}(),s=function(P){for(;P.length>1;){var N=P.pop(),D=N.obj[N.prop];if(t(D)){for(var j=[],O=0;O<D.length;++O)typeof D[O]<"u"&&j.push(D[O]);N.obj[N.prop]=j}}},a=function(P,N){for(var D=N&&N.plainObjects?{__proto__:null}:{},j=0;j<P.length;++j)typeof P[j]<"u"&&(D[j]=P[j]);return D},c=function A(P,N,D){if(!N)return P;if(typeof N!="object"&&typeof N!="function"){if(t(P))P.push(N);else if(P&&typeof P=="object")(D&&(D.plainObjects||D.allowPrototypes)||!e.call(Object.prototype,N))&&(P[N]=!0);else return[P,N];return P}if(!P||typeof P!="object")return[P].concat(N);var j=P;return t(P)&&!t(N)&&(j=a(P,D)),t(P)&&t(N)?(N.forEach(function(O,q){if(e.call(P,q)){var U=P[q];U&&typeof U=="object"&&O&&typeof O=="object"?P[q]=A(U,O,D):P.push(O)}else P[q]=O}),P):Object.keys(N).reduce(function(O,q){var U=N[q];return e.call(O,q)?O[q]=A(O[q],U,D):O[q]=U,O},j)},f=function(P,N){return Object.keys(N).reduce(function(D,j){return D[j]=N[j],D},P)},m=function(A,P,N){var D=A.replace(/\+/g," ");if(N==="iso-8859-1")return D.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(D)}catch{return D}},v=1024,b=function(P,N,D,j,O){if(P.length===0)return P;var q=P;if(typeof P=="symbol"?q=Symbol.prototype.toString.call(P):typeof P!="string"&&(q=String(P)),D==="iso-8859-1")return escape(q).replace(/%u[0-9a-f]{4}/gi,function(Z){return"%26%23"+parseInt(Z.slice(2),16)+"%3B"});for(var U="",J=0;J<q.length;J+=v){for(var se=q.length>=v?q.slice(J,J+v):q,de=[],Se=0;Se<se.length;++Se){var Q=se.charCodeAt(Se);if(Q===45||Q===46||Q===95||Q===126||Q>=48&&Q<=57||Q>=65&&Q<=90||Q>=97&&Q<=122||O===n.RFC1738&&(Q===40||Q===41)){de[de.length]=se.charAt(Se);continue}if(Q<128){de[de.length]=r[Q];continue}if(Q<2048){de[de.length]=r[192|Q>>6]+r[128|Q&63];continue}if(Q<55296||Q>=57344){de[de.length]=r[224|Q>>12]+r[128|Q>>6&63]+r[128|Q&63];continue}Se+=1,Q=65536+((Q&1023)<<10|se.charCodeAt(Se)&1023),de[de.length]=r[240|Q>>18]+r[128|Q>>12&63]+r[128|Q>>6&63]+r[128|Q&63]}U+=de.join("")}return U},d=function(P){for(var N=[{obj:{o:P},prop:"o"}],D=[],j=0;j<N.length;++j)for(var O=N[j],q=O.obj[O.prop],U=Object.keys(q),J=0;J<U.length;++J){var se=U[J],de=q[se];typeof de=="object"&&de!==null&&D.indexOf(de)===-1&&(N.push({obj:q,prop:se}),D.push(de))}return s(N),P},y=function(P){return Object.prototype.toString.call(P)==="[object RegExp]"},_=function(P){return!P||typeof P!="object"?!1:!!(P.constructor&&P.constructor.isBuffer&&P.constructor.isBuffer(P))},T=function(P,N){return[].concat(P,N)},C=function(P,N){if(t(P)){for(var D=[],j=0;j<P.length;j+=1)D.push(N(P[j]));return D}return N(P)};return lm={arrayToObject:a,assign:f,combine:T,compact:d,decode:m,encode:b,isBuffer:_,isRegExp:y,maybeMap:C,merge:c},lm}var um,Ny;function aw(){if(Ny)return um;Ny=1;var n=ow(),e=u_(),t=Hg(),r=Object.prototype.hasOwnProperty,s={brackets:function(A){return A+"[]"},comma:"comma",indices:function(A,P){return A+"["+P+"]"},repeat:function(A){return A}},a=Array.isArray,c=Array.prototype.push,f=function(C,A){c.apply(C,a(A)?A:[A])},m=Date.prototype.toISOString,v=t.default,b={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:v,formatter:t.formatters[v],indices:!1,serializeDate:function(A){return m.call(A)},skipNulls:!1,strictNullHandling:!1},d=function(A){return typeof A=="string"||typeof A=="number"||typeof A=="boolean"||typeof A=="symbol"||typeof A=="bigint"},y={},_=function C(A,P,N,D,j,O,q,U,J,se,de,Se,Q,Z,he,_e,B,H){for(var R=A,z=H,F=0,k=!1;(z=z.get(y))!==void 0&&!k;){var G=z.get(A);if(F+=1,typeof G<"u"){if(G===F)throw new RangeError("Cyclic object value");k=!0}typeof z.get(y)>"u"&&(F=0)}if(typeof se=="function"?R=se(P,R):R instanceof Date?R=Q(R):N==="comma"&&a(R)&&(R=e.maybeMap(R,function(qe){return qe instanceof Date?Q(qe):qe})),R===null){if(O)return J&&!_e?J(P,b.encoder,B,"key",Z):P;R=""}if(d(R)||e.isBuffer(R)){if(J){var X=_e?P:J(P,b.encoder,B,"key",Z);return[he(X)+"="+he(J(R,b.encoder,B,"value",Z))]}return[he(P)+"="+he(String(R))]}var ee=[];if(typeof R>"u")return ee;var ce;if(N==="comma"&&a(R))_e&&J&&(R=e.maybeMap(R,J)),ce=[{value:R.length>0?R.join(",")||null:void 0}];else if(a(se))ce=se;else{var me=Object.keys(R);ce=de?me.sort(de):me}var le=U?String(P).replace(/\./g,"%2E"):String(P),ge=D&&a(R)&&R.length===1?le+"[]":le;if(j&&a(R)&&R.length===0)return ge+"[]";for(var Ae=0;Ae<ce.length;++Ae){var Ce=ce[Ae],Be=typeof Ce=="object"&&Ce&&typeof Ce.value<"u"?Ce.value:R[Ce];if(!(q&&Be===null)){var Ue=Se&&U?String(Ce).replace(/\./g,"%2E"):String(Ce),Je=a(R)?typeof N=="function"?N(ge,Ue):ge:ge+(Se?"."+Ue:"["+Ue+"]");H.set(A,F);var _t=n();_t.set(y,H),f(ee,C(Be,Je,N,D,j,O,q,U,N==="comma"&&_e&&a(R)?null:J,se,de,Se,Q,Z,he,_e,B,_t))}}return ee},T=function(A){if(!A)return b;if(typeof A.allowEmptyArrays<"u"&&typeof A.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof A.encodeDotInKeys<"u"&&typeof A.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(A.encoder!==null&&typeof A.encoder<"u"&&typeof A.encoder!="function")throw new TypeError("Encoder has to be a function.");var P=A.charset||b.charset;if(typeof A.charset<"u"&&A.charset!=="utf-8"&&A.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var N=t.default;if(typeof A.format<"u"){if(!r.call(t.formatters,A.format))throw new TypeError("Unknown format option provided.");N=A.format}var D=t.formatters[N],j=b.filter;(typeof A.filter=="function"||a(A.filter))&&(j=A.filter);var O;if(A.arrayFormat in s?O=A.arrayFormat:"indices"in A?O=A.indices?"indices":"repeat":O=b.arrayFormat,"commaRoundTrip"in A&&typeof A.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var q=typeof A.allowDots>"u"?A.encodeDotInKeys===!0?!0:b.allowDots:!!A.allowDots;return{addQueryPrefix:typeof A.addQueryPrefix=="boolean"?A.addQueryPrefix:b.addQueryPrefix,allowDots:q,allowEmptyArrays:typeof A.allowEmptyArrays=="boolean"?!!A.allowEmptyArrays:b.allowEmptyArrays,arrayFormat:O,charset:P,charsetSentinel:typeof A.charsetSentinel=="boolean"?A.charsetSentinel:b.charsetSentinel,commaRoundTrip:!!A.commaRoundTrip,delimiter:typeof A.delimiter>"u"?b.delimiter:A.delimiter,encode:typeof A.encode=="boolean"?A.encode:b.encode,encodeDotInKeys:typeof A.encodeDotInKeys=="boolean"?A.encodeDotInKeys:b.encodeDotInKeys,encoder:typeof A.encoder=="function"?A.encoder:b.encoder,encodeValuesOnly:typeof A.encodeValuesOnly=="boolean"?A.encodeValuesOnly:b.encodeValuesOnly,filter:j,format:N,formatter:D,serializeDate:typeof A.serializeDate=="function"?A.serializeDate:b.serializeDate,skipNulls:typeof A.skipNulls=="boolean"?A.skipNulls:b.skipNulls,sort:typeof A.sort=="function"?A.sort:null,strictNullHandling:typeof A.strictNullHandling=="boolean"?A.strictNullHandling:b.strictNullHandling}};return um=function(C,A){var P=C,N=T(A),D,j;typeof N.filter=="function"?(j=N.filter,P=j("",P)):a(N.filter)&&(j=N.filter,D=j);var O=[];if(typeof P!="object"||P===null)return"";var q=s[N.arrayFormat],U=q==="comma"&&N.commaRoundTrip;D||(D=Object.keys(P)),N.sort&&D.sort(N.sort);for(var J=n(),se=0;se<D.length;++se){var de=D[se],Se=P[de];N.skipNulls&&Se===null||f(O,_(Se,de,q,U,N.allowEmptyArrays,N.strictNullHandling,N.skipNulls,N.encodeDotInKeys,N.encode?N.encoder:null,N.filter,N.sort,N.allowDots,N.serializeDate,N.format,N.formatter,N.encodeValuesOnly,N.charset,J))}var Q=O.join(N.delimiter),Z=N.addQueryPrefix===!0?"?":"";return N.charsetSentinel&&(N.charset==="iso-8859-1"?Z+="utf8=%26%2310003%3B&":Z+="utf8=%E2%9C%93&"),Q.length>0?Z+Q:""},um}var hm,Fy;function lw(){if(Fy)return hm;Fy=1;var n=u_(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},s=function(y){return y.replace(/&#(\d+);/g,function(_,T){return String.fromCharCode(parseInt(T,10))})},a=function(y,_){return y&&typeof y=="string"&&_.comma&&y.indexOf(",")>-1?y.split(","):y},c="utf8=%26%2310003%3B",f="utf8=%E2%9C%93",m=function(_,T){var C={__proto__:null},A=T.ignoreQueryPrefix?_.replace(/^\?/,""):_;A=A.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var P=T.parameterLimit===1/0?void 0:T.parameterLimit,N=A.split(T.delimiter,P),D=-1,j,O=T.charset;if(T.charsetSentinel)for(j=0;j<N.length;++j)N[j].indexOf("utf8=")===0&&(N[j]===f?O="utf-8":N[j]===c&&(O="iso-8859-1"),D=j,j=N.length);for(j=0;j<N.length;++j)if(j!==D){var q=N[j],U=q.indexOf("]="),J=U===-1?q.indexOf("="):U+1,se,de;J===-1?(se=T.decoder(q,r.decoder,O,"key"),de=T.strictNullHandling?null:""):(se=T.decoder(q.slice(0,J),r.decoder,O,"key"),de=n.maybeMap(a(q.slice(J+1),T),function(Q){return T.decoder(Q,r.decoder,O,"value")})),de&&T.interpretNumericEntities&&O==="iso-8859-1"&&(de=s(String(de))),q.indexOf("[]=")>-1&&(de=t(de)?[de]:de);var Se=e.call(C,se);Se&&T.duplicates==="combine"?C[se]=n.combine(C[se],de):(!Se||T.duplicates==="last")&&(C[se]=de)}return C},v=function(y,_,T,C){for(var A=C?_:a(_,T),P=y.length-1;P>=0;--P){var N,D=y[P];if(D==="[]"&&T.parseArrays)N=T.allowEmptyArrays&&(A===""||T.strictNullHandling&&A===null)?[]:[].concat(A);else{N=T.plainObjects?{__proto__:null}:{};var j=D.charAt(0)==="["&&D.charAt(D.length-1)==="]"?D.slice(1,-1):D,O=T.decodeDotInKeys?j.replace(/%2E/g,"."):j,q=parseInt(O,10);!T.parseArrays&&O===""?N={0:A}:!isNaN(q)&&D!==O&&String(q)===O&&q>=0&&T.parseArrays&&q<=T.arrayLimit?(N=[],N[q]=A):O!=="__proto__"&&(N[O]=A)}A=N}return A},b=function(_,T,C,A){if(_){var P=C.allowDots?_.replace(/\.([^.[]+)/g,"[$1]"):_,N=/(\[[^[\]]*])/,D=/(\[[^[\]]*])/g,j=C.depth>0&&N.exec(P),O=j?P.slice(0,j.index):P,q=[];if(O){if(!C.plainObjects&&e.call(Object.prototype,O)&&!C.allowPrototypes)return;q.push(O)}for(var U=0;C.depth>0&&(j=D.exec(P))!==null&&U<C.depth;){if(U+=1,!C.plainObjects&&e.call(Object.prototype,j[1].slice(1,-1))&&!C.allowPrototypes)return;q.push(j[1])}if(j){if(C.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+C.depth+" and strictDepth is true");q.push("["+P.slice(j.index)+"]")}return v(q,T,C,A)}},d=function(_){if(!_)return r;if(typeof _.allowEmptyArrays<"u"&&typeof _.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.decodeDotInKeys<"u"&&typeof _.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(_.decoder!==null&&typeof _.decoder<"u"&&typeof _.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var T=typeof _.charset>"u"?r.charset:_.charset,C=typeof _.duplicates>"u"?r.duplicates:_.duplicates;if(C!=="combine"&&C!=="first"&&C!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var A=typeof _.allowDots>"u"?_.decodeDotInKeys===!0?!0:r.allowDots:!!_.allowDots;return{allowDots:A,allowEmptyArrays:typeof _.allowEmptyArrays=="boolean"?!!_.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof _.allowPrototypes=="boolean"?_.allowPrototypes:r.allowPrototypes,allowSparse:typeof _.allowSparse=="boolean"?_.allowSparse:r.allowSparse,arrayLimit:typeof _.arrayLimit=="number"?_.arrayLimit:r.arrayLimit,charset:T,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:r.charsetSentinel,comma:typeof _.comma=="boolean"?_.comma:r.comma,decodeDotInKeys:typeof _.decodeDotInKeys=="boolean"?_.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof _.decoder=="function"?_.decoder:r.decoder,delimiter:typeof _.delimiter=="string"||n.isRegExp(_.delimiter)?_.delimiter:r.delimiter,depth:typeof _.depth=="number"||_.depth===!1?+_.depth:r.depth,duplicates:C,ignoreQueryPrefix:_.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _.interpretNumericEntities=="boolean"?_.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof _.parameterLimit=="number"?_.parameterLimit:r.parameterLimit,parseArrays:_.parseArrays!==!1,plainObjects:typeof _.plainObjects=="boolean"?_.plainObjects:r.plainObjects,strictDepth:typeof _.strictDepth=="boolean"?!!_.strictDepth:r.strictDepth,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:r.strictNullHandling}};return hm=function(y,_){var T=d(_);if(y===""||y===null||typeof y>"u")return T.plainObjects?{__proto__:null}:{};for(var C=typeof y=="string"?m(y,T):y,A=T.plainObjects?{__proto__:null}:{},P=Object.keys(C),N=0;N<P.length;++N){var D=P[N],j=b(D,C[D],T,typeof y=="string");A=n.merge(A,j,T)}return T.allowSparse===!0?A:n.compact(A)},hm}var cm,Oy;function uw(){if(Oy)return cm;Oy=1;var n=aw(),e=lw(),t=Hg();return cm={formats:t,parse:e,stringify:n},cm}var By;function hw(){if(By)return Il;By=1;var n=Ox();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],c=["{","}","|","\\","^","`"].concat(a),f=["'"].concat(c),m=["%","/","?",";","#"].concat(f),v=["/","?","#"],b=255,d=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},T={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=uw();function P(O,q,U){if(O&&typeof O=="object"&&O instanceof e)return O;var J=new e;return J.parse(O,q,U),J}e.prototype.parse=function(O,q,U){if(typeof O!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof O);var J=O.indexOf("?"),se=J!==-1&&J<O.indexOf("#")?"?":"#",de=O.split(se),Se=/\\/g;de[0]=de[0].replace(Se,"/"),O=de.join(se);var Q=O;if(Q=Q.trim(),!U&&O.split("#").length===1){var Z=s.exec(Q);if(Z)return this.path=Q,this.href=Q,this.pathname=Z[1],Z[2]?(this.search=Z[2],q?this.query=A.parse(this.search.substr(1)):this.query=this.search.substr(1)):q&&(this.search="",this.query={}),this}var he=t.exec(Q);if(he){he=he[0];var _e=he.toLowerCase();this.protocol=_e,Q=Q.substr(he.length)}if(U||he||Q.match(/^\/\/[^@/]+@[^@/]+/)){var B=Q.substr(0,2)==="//";B&&!(he&&T[he])&&(Q=Q.substr(2),this.slashes=!0)}if(!T[he]&&(B||he&&!C[he])){for(var H=-1,R=0;R<v.length;R++){var z=Q.indexOf(v[R]);z!==-1&&(H===-1||z<H)&&(H=z)}var F,k;H===-1?k=Q.lastIndexOf("@"):k=Q.lastIndexOf("@",H),k!==-1&&(F=Q.slice(0,k),Q=Q.slice(k+1),this.auth=decodeURIComponent(F)),H=-1;for(var R=0;R<m.length;R++){var z=Q.indexOf(m[R]);z!==-1&&(H===-1||z<H)&&(H=z)}H===-1&&(H=Q.length),this.host=Q.slice(0,H),Q=Q.slice(H),this.parseHost(),this.hostname=this.hostname||"";var G=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!G)for(var X=this.hostname.split(/\./),R=0,ee=X.length;R<ee;R++){var ce=X[R];if(ce&&!ce.match(d)){for(var me="",le=0,ge=ce.length;le<ge;le++)ce.charCodeAt(le)>127?me+="x":me+=ce[le];if(!me.match(d)){var Ae=X.slice(0,R),Ce=X.slice(R+1),Be=ce.match(y);Be&&(Ae.push(Be[1]),Ce.unshift(Be[2])),Ce.length&&(Q="/"+Ce.join(".")+Q),this.hostname=Ae.join(".");break}}}this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),G||(this.hostname=n.toASCII(this.hostname));var Ue=this.port?":"+this.port:"",Je=this.hostname||"";this.host=Je+Ue,this.href+=this.host,G&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Q[0]!=="/"&&(Q="/"+Q))}if(!_[_e])for(var R=0,ee=f.length;R<ee;R++){var _t=f[R];if(Q.indexOf(_t)!==-1){var qe=encodeURIComponent(_t);qe===_t&&(qe=escape(_t)),Q=Q.split(_t).join(qe)}}var Qe=Q.indexOf("#");Qe!==-1&&(this.hash=Q.substr(Qe),Q=Q.slice(0,Qe));var or=Q.indexOf("?");if(or!==-1?(this.search=Q.substr(or),this.query=Q.substr(or+1),q&&(this.query=A.parse(this.query)),Q=Q.slice(0,or)):q&&(this.search="",this.query={}),Q&&(this.pathname=Q),C[_e]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ue=this.pathname||"",Un=this.search||"";this.path=Ue+Un}return this.href=this.format(),this};function N(O){return typeof O=="string"&&(O=P(O)),O instanceof e?O.format():e.prototype.format.call(O)}e.prototype.format=function(){var O=this.auth||"";O&&(O=encodeURIComponent(O),O=O.replace(/%3A/i,":"),O+="@");var q=this.protocol||"",U=this.pathname||"",J=this.hash||"",se=!1,de="";this.host?se=O+this.host:this.hostname&&(se=O+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(se+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(de=A.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var Se=this.search||de&&"?"+de||"";return q&&q.substr(-1)!==":"&&(q+=":"),this.slashes||(!q||C[q])&&se!==!1?(se="//"+(se||""),U&&U.charAt(0)!=="/"&&(U="/"+U)):se||(se=""),J&&J.charAt(0)!=="#"&&(J="#"+J),Se&&Se.charAt(0)!=="?"&&(Se="?"+Se),U=U.replace(/[?#]/g,function(Q){return encodeURIComponent(Q)}),Se=Se.replace("#","%23"),q+se+U+Se+J};function D(O,q){return P(O,!1,!0).resolve(q)}e.prototype.resolve=function(O){return this.resolveObject(P(O,!1,!0)).format()};function j(O,q){return O?P(O,!1,!0).resolveObject(q):q}return e.prototype.resolveObject=function(O){if(typeof O=="string"){var q=new e;q.parse(O,!1,!0),O=q}for(var U=new e,J=Object.keys(this),se=0;se<J.length;se++){var de=J[se];U[de]=this[de]}if(U.hash=O.hash,O.href==="")return U.href=U.format(),U;if(O.slashes&&!O.protocol){for(var Se=Object.keys(O),Q=0;Q<Se.length;Q++){var Z=Se[Q];Z!=="protocol"&&(U[Z]=O[Z])}return C[U.protocol]&&U.hostname&&!U.pathname&&(U.pathname="/",U.path=U.pathname),U.href=U.format(),U}if(O.protocol&&O.protocol!==U.protocol){if(!C[O.protocol]){for(var he=Object.keys(O),_e=0;_e<he.length;_e++){var B=he[_e];U[B]=O[B]}return U.href=U.format(),U}if(U.protocol=O.protocol,!O.host&&!T[O.protocol]){for(var ee=(O.pathname||"").split("/");ee.length&&!(O.host=ee.shift()););O.host||(O.host=""),O.hostname||(O.hostname=""),ee[0]!==""&&ee.unshift(""),ee.length<2&&ee.unshift(""),U.pathname=ee.join("/")}else U.pathname=O.pathname;if(U.search=O.search,U.query=O.query,U.host=O.host||"",U.auth=O.auth,U.hostname=O.hostname||O.host,U.port=O.port,U.pathname||U.search){var H=U.pathname||"",R=U.search||"";U.path=H+R}return U.slashes=U.slashes||O.slashes,U.href=U.format(),U}var z=U.pathname&&U.pathname.charAt(0)==="/",F=O.host||O.pathname&&O.pathname.charAt(0)==="/",k=F||z||U.host&&O.pathname,G=k,X=U.pathname&&U.pathname.split("/")||[],ee=O.pathname&&O.pathname.split("/")||[],ce=U.protocol&&!C[U.protocol];if(ce&&(U.hostname="",U.port=null,U.host&&(X[0]===""?X[0]=U.host:X.unshift(U.host)),U.host="",O.protocol&&(O.hostname=null,O.port=null,O.host&&(ee[0]===""?ee[0]=O.host:ee.unshift(O.host)),O.host=null),k=k&&(ee[0]===""||X[0]==="")),F)U.host=O.host||O.host===""?O.host:U.host,U.hostname=O.hostname||O.hostname===""?O.hostname:U.hostname,U.search=O.search,U.query=O.query,X=ee;else if(ee.length)X||(X=[]),X.pop(),X=X.concat(ee),U.search=O.search,U.query=O.query;else if(O.search!=null){if(ce){U.host=X.shift(),U.hostname=U.host;var me=U.host&&U.host.indexOf("@")>0?U.host.split("@"):!1;me&&(U.auth=me.shift(),U.hostname=me.shift(),U.host=U.hostname)}return U.search=O.search,U.query=O.query,(U.pathname!==null||U.search!==null)&&(U.path=(U.pathname?U.pathname:"")+(U.search?U.search:"")),U.href=U.format(),U}if(!X.length)return U.pathname=null,U.search?U.path="/"+U.search:U.path=null,U.href=U.format(),U;for(var le=X.slice(-1)[0],ge=(U.host||O.host||X.length>1)&&(le==="."||le==="..")||le==="",Ae=0,Ce=X.length;Ce>=0;Ce--)le=X[Ce],le==="."?X.splice(Ce,1):le===".."?(X.splice(Ce,1),Ae++):Ae&&(X.splice(Ce,1),Ae--);if(!k&&!G)for(;Ae--;Ae)X.unshift("..");k&&X[0]!==""&&(!X[0]||X[0].charAt(0)!=="/")&&X.unshift(""),ge&&X.join("/").substr(-1)!=="/"&&X.push("");var Be=X[0]===""||X[0]&&X[0].charAt(0)==="/";if(ce){U.hostname=Be?"":X.length?X.shift():"",U.host=U.hostname;var me=U.host&&U.host.indexOf("@")>0?U.host.split("@"):!1;me&&(U.auth=me.shift(),U.hostname=me.shift(),U.host=U.hostname)}return k=k||U.host&&X.length,k&&!Be&&X.unshift(""),X.length>0?U.pathname=X.join("/"):(U.pathname=null,U.path=null),(U.pathname!==null||U.search!==null)&&(U.path=(U.pathname?U.pathname:"")+(U.search?U.search:"")),U.auth=O.auth||U.auth,U.slashes=U.slashes||O.slashes,U.href=U.format(),U},e.prototype.parseHost=function(){var O=this.host,q=r.exec(O);q&&(q=q[0],q!==":"&&(this.port=q.substr(1)),O=O.substr(0,O.length-q.length)),O&&(this.hostname=O)},Il.parse=P,Il.resolve=D,Il.resolveObject=j,Il.format=N,Il.Url=e,Il}hw();const Ly={};function ct(n,e,t=3){if(Ly[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`):(r=r.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${n}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`),console.warn(r))),Ly[e]=!0}function Ui(n){if(typeof n!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function hc(n){return n.split("?")[0].split("#")[0]}function cw(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function dw(n,e,t){return n.replace(new RegExp(cw(e),"g"),t)}function fw(n,e){let t="",r=0,s=-1,a=0,c=-1;for(let f=0;f<=n.length;++f){if(f<n.length)c=n.charCodeAt(f);else{if(c===47)break;c=47}if(c===47){if(!(s===f-1||a===1))if(s!==f-1&&a===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const m=t.lastIndexOf("/");if(m!==t.length-1){m===-1?(t="",r=0):(t=t.slice(0,m),r=t.length-1-t.lastIndexOf("/")),s=f,a=0;continue}}else if(t.length===2||t.length===1){t="",r=0,s=f,a=0;continue}}}else t.length>0?t+=`/${n.slice(s+1,f)}`:t=n.slice(s+1,f),r=f-s-1;s=f,a=0}else c===46&&a!==-1?++a:a=-1}return t}const Fr={toPosix(n){return dw(n,"\\","/")},isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl(n){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n)},isBlobUrl(n){return n.startsWith("blob:")},hasProtocol(n){return/^[^/:]+:/.test(this.toPosix(n))},getProtocol(n){Ui(n),n=this.toPosix(n);const e=/^file:\/\/\//.exec(n);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(n);return t?t[0]:""},toAbsolute(n,e,t){if(Ui(n),this.isDataUrl(n)||this.isBlobUrl(n))return n;const r=hc(this.toPosix(e??Oe.ADAPTER.getBaseUrl())),s=hc(this.toPosix(t??this.rootname(r)));return n=this.toPosix(n),n.startsWith("/")?Fr.join(s,n.slice(1)):this.isAbsolute(n)?n:this.join(r,n)},normalize(n){if(Ui(n),n.length===0)return".";if(this.isDataUrl(n)||this.isBlobUrl(n))return n;n=this.toPosix(n);let e="";const t=n.startsWith("/");this.hasProtocol(n)&&(e=this.rootname(n),n=n.slice(e.length));const r=n.endsWith("/");return n=fw(n),n.length>0&&r&&(n+="/"),t?`/${n}`:e+n},isAbsolute(n){return Ui(n),n=this.toPosix(n),this.hasProtocol(n)?!0:n.startsWith("/")},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const r=n[t];if(Ui(r),r.length>0)if(e===void 0)e=r;else{const s=n[t-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(n){if(Ui(n),n.length===0)return".";n=this.toPosix(n);let e=n.charCodeAt(0);const t=e===47;let r=-1,s=!0;const a=this.getProtocol(n),c=n;n=n.slice(a.length);for(let f=n.length-1;f>=1;--f)if(e=n.charCodeAt(f),e===47){if(!s){r=f;break}}else s=!1;return r===-1?t?"/":this.isUrl(c)?a+n:a:t&&r===1?"//":a+n.slice(0,r)},rootname(n){Ui(n),n=this.toPosix(n);let e="";if(n.startsWith("/")?e="/":e=this.getProtocol(n),this.isUrl(n)){const t=n.indexOf("/",e.length);t!==-1?e=n.slice(0,t):e=n,e.endsWith("/")||(e+="/")}return e},basename(n,e){Ui(n),e&&Ui(e),n=hc(this.toPosix(n));let t=0,r=-1,s=!0,a;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";let c=e.length-1,f=-1;for(a=n.length-1;a>=0;--a){const m=n.charCodeAt(a);if(m===47){if(!s){t=a+1;break}}else f===-1&&(s=!1,f=a+1),c>=0&&(m===e.charCodeAt(c)?--c===-1&&(r=a):(c=-1,r=f))}return t===r?r=f:r===-1&&(r=n.length),n.slice(t,r)}for(a=n.length-1;a>=0;--a)if(n.charCodeAt(a)===47){if(!s){t=a+1;break}}else r===-1&&(s=!1,r=a+1);return r===-1?"":n.slice(t,r)},extname(n){Ui(n),n=hc(this.toPosix(n));let e=-1,t=0,r=-1,s=!0,a=0;for(let c=n.length-1;c>=0;--c){const f=n.charCodeAt(c);if(f===47){if(!s){t=c+1;break}continue}r===-1&&(s=!1,r=c+1),f===46?e===-1?e=c:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||r===-1||a===0||a===1&&e===r-1&&e===t+1?"":n.slice(e,r)},parse(n){Ui(n);const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;n=hc(this.toPosix(n));let t=n.charCodeAt(0);const r=this.isAbsolute(n);let s;e.root=this.rootname(n),r||this.hasProtocol(n)?s=1:s=0;let a=-1,c=0,f=-1,m=!0,v=n.length-1,b=0;for(;v>=s;--v){if(t=n.charCodeAt(v),t===47){if(!m){c=v+1;break}continue}f===-1&&(m=!1,f=v+1),t===46?a===-1?a=v:b!==1&&(b=1):a!==-1&&(b=-1)}return a===-1||f===-1||b===0||b===1&&a===f-1&&a===c+1?f!==-1&&(c===0&&r?e.base=e.name=n.slice(1,f):e.base=e.name=n.slice(c,f)):(c===0&&r?(e.name=n.slice(1,a),e.base=n.slice(1,f)):(e.name=n.slice(c,a),e.base=n.slice(c,f)),e.ext=n.slice(a,f)),e.dir=this.dirname(n),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let dm;async function pw(){return dm??(dm=(async()=>{var a;const n=document.createElement("canvas").getContext("webgl");if(!n)return Bn.UNPACK;const e=await new Promise(c=>{const f=document.createElement("video");f.onloadeddata=()=>c(f),f.onerror=()=>c(null),f.autoplay=!1,f.crossOrigin="anonymous",f.preload="auto",f.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",f.load()});if(!e)return Bn.UNPACK;const t=n.createTexture();n.bindTexture(n.TEXTURE_2D,t);const r=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,r),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e);const s=new Uint8Array(4);return n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,s),n.deleteFramebuffer(r),n.deleteTexture(t),(a=n.getExtension("WEBGL_lose_context"))==null||a.loseContext(),s[0]<=s[3]?Bn.PMA:Bn.UNPACK})()),dm}let fm;function mw(){return typeof fm>"u"&&(fm=function(){var e;const n={stencil:!0,failIfMajorPerformanceCaveat:Oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Oe.ADAPTER.getWebGLRenderingContext())return!1;const t=Oe.ADAPTER.createCanvas();let r=t.getContext("webgl",n)||t.getContext("experimental-webgl",n);const s=!!((e=r==null?void 0:r.getContextAttributes())!=null&&e.stencil);if(r){const a=r.getExtension("WEBGL_lose_context");a&&a.loseContext()}return r=null,s}catch{return!1}}()),fm}var gw={grad:.9,turn:360,rad:360/(2*Math.PI)},mo=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Nr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},pi=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},h_=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},Uy=function(n){return{r:pi(n.r,0,255),g:pi(n.g,0,255),b:pi(n.b,0,255),a:pi(n.a)}},pm=function(n){return{r:Nr(n.r),g:Nr(n.g),b:Nr(n.b),a:Nr(n.a,3)}},yw=/^#([0-9a-f]{3,8})$/i,Pd=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},c_=function(n){var e=n.r,t=n.g,r=n.b,s=n.a,a=Math.max(e,t,r),c=a-Math.min(e,t,r),f=c?a===e?(t-r)/c:a===t?2+(r-e)/c:4+(e-t)/c:0;return{h:60*(f<0?f+6:f),s:a?c/a*100:0,v:a/255*100,a:s}},d_=function(n){var e=n.h,t=n.s,r=n.v,s=n.a;e=e/360*6,t/=100,r/=100;var a=Math.floor(e),c=r*(1-t),f=r*(1-(e-a)*t),m=r*(1-(1-e+a)*t),v=a%6;return{r:255*[r,f,c,c,m,r][v],g:255*[m,r,r,f,c,c][v],b:255*[c,c,m,r,r,f][v],a:s}},Gy=function(n){return{h:h_(n.h),s:pi(n.s,0,100),l:pi(n.l,0,100),a:pi(n.a)}},Hy=function(n){return{h:Nr(n.h),s:Nr(n.s),l:Nr(n.l),a:Nr(n.a,3)}},zy=function(n){return d_((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},Tc=function(n){return{h:(e=c_(n)).h,s:(s=(200-(t=e.s))*(r=e.v)/100)>0&&s<200?t*r/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,t,r,s},vw=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_w=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,xw=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ww=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,qm={string:[[function(n){var e=yw.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Nr(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Nr(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=xw.exec(n)||ww.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:Uy({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=vw.exec(n)||_w.exec(n);if(!e)return null;var t,r,s=Gy({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(gw[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return zy(s)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,s=n.a,a=s===void 0?1:s;return mo(e)&&mo(t)&&mo(r)?Uy({r:Number(e),g:Number(t),b:Number(r),a:Number(a)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,s=n.a,a=s===void 0?1:s;if(!mo(e)||!mo(t)||!mo(r))return null;var c=Gy({h:Number(e),s:Number(t),l:Number(r),a:Number(a)});return zy(c)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,s=n.a,a=s===void 0?1:s;if(!mo(e)||!mo(t)||!mo(r))return null;var c=function(f){return{h:h_(f.h),s:pi(f.s,0,100),v:pi(f.v,0,100),a:pi(f.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(a)});return d_(c)},"hsv"]]},jy=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},bw=function(n){return typeof n=="string"?jy(n.trim(),qm.string):typeof n=="object"&&n!==null?jy(n,qm.object):[null,void 0]},mm=function(n,e){var t=Tc(n);return{h:t.h,s:pi(t.s+100*e,0,100),l:t.l,a:t.a}},gm=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},Vy=function(n,e){var t=Tc(n);return{h:t.h,s:t.s,l:pi(t.l+100*e,0,100),a:t.a}},Qm=function(){function n(e){this.parsed=bw(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Nr(gm(this.rgba),2)},n.prototype.isDark=function(){return gm(this.rgba)<.5},n.prototype.isLight=function(){return gm(this.rgba)>=.5},n.prototype.toHex=function(){return e=pm(this.rgba),t=e.r,r=e.g,s=e.b,c=(a=e.a)<1?Pd(Nr(255*a)):"","#"+Pd(t)+Pd(r)+Pd(s)+c;var e,t,r,s,a,c},n.prototype.toRgb=function(){return pm(this.rgba)},n.prototype.toRgbString=function(){return e=pm(this.rgba),t=e.r,r=e.g,s=e.b,(a=e.a)<1?"rgba("+t+", "+r+", "+s+", "+a+")":"rgb("+t+", "+r+", "+s+")";var e,t,r,s,a},n.prototype.toHsl=function(){return Hy(Tc(this.rgba))},n.prototype.toHslString=function(){return e=Hy(Tc(this.rgba)),t=e.h,r=e.s,s=e.l,(a=e.a)<1?"hsla("+t+", "+r+"%, "+s+"%, "+a+")":"hsl("+t+", "+r+"%, "+s+"%)";var e,t,r,s,a},n.prototype.toHsv=function(){return e=c_(this.rgba),{h:Nr(e.h),s:Nr(e.s),v:Nr(e.v),a:Nr(e.a,3)};var e},n.prototype.invert=function(){return xs({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),xs(mm(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),xs(mm(this.rgba,-e))},n.prototype.grayscale=function(){return xs(mm(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),xs(Vy(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),xs(Vy(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?xs({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Nr(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=Tc(this.rgba);return typeof e=="number"?xs({h:e,s:t.s,l:t.l,a:t.a}):Nr(t.h)},n.prototype.isEqual=function(e){return this.toHex()===xs(e).toHex()},n}(),xs=function(n){return n instanceof Qm?n:new Qm(n)},Wy=[],Ew=function(n){n.forEach(function(e){Wy.indexOf(e)<0&&(e(Qm,qm),Wy.push(e))})};function Sw(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var s in t)r[t[s]]=s;var a={};n.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var f,m,v=r[this.toHex()];if(v)return v;if(c!=null&&c.closest){var b=this.toRgb(),d=1/0,y="black";if(!a.length)for(var _ in t)a[_]=new n(t[_]).toRgb();for(var T in t){var C=(f=b,m=a[T],Math.pow(f.r-m.r,2)+Math.pow(f.g-m.g,2)+Math.pow(f.b-m.b,2));C<d&&(d=C,y=T)}return y}},e.string.push([function(c){var f=c.toLowerCase(),m=f==="transparent"?"#0000":t[f];return m?new n(m).toRgb():null},"name"])}Ew([Sw]);const Vu=class Zd{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Zd)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((s,a)=>s===t[a]);if(e!==null&&t!==null){const s=Object.keys(e),a=Object.keys(t);return s.length!==a.length?!1:s.every(c=>e[c]===t[c])}return e===t}toRgba(){const[e,t,r,s]=this._components;return{r:e,g:t,b:r,a:s}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,s]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(r*255),e[2]=Math.round(s*255),e}toRgbArray(e){e=e??[];const[t,r,s]=this._components;return e[0]=t,e[1]=r,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,r,s,a]=Zd.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=r,this._components[2]*=s,this._components[3]*=a,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let r=this._int>>16&255,s=this._int>>8&255,a=this._int&255;return t&&(r=r*e+.5|0,s=s*e+.5|0,a=a*e+.5|0),(e*255<<24)+(r<<16)+(s<<8)+a}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,r,s]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,r,s,a]=this._components;return e[0]=t,e[1]=r,e[2]=s,e[3]=a,e}normalize(e){let t,r,s,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const c=e;t=(c>>16&255)/255,r=(c>>8&255)/255,s=(c&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,r,s,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,r,s,a=255]=e,t/=255,r/=255,s/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const f=Zd.HEX_PATTERN.exec(e);f&&(e=`#${f[2]}`)}const c=xs(e);c.isValid()&&({r:t,g:r,b:s,a}=c.rgba,t/=255,r/=255,s/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=r,this._components[2]=s,this._components[3]=a,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(e*255<<16)+(t*255<<8)+(r*255|0)}_clamp(e,t=0,r=1){return typeof e=="number"?Math.min(Math.max(e,t),r):(e.forEach((s,a)=>{e[a]=Math.min(Math.max(s,t),r)}),e)}};Vu.shared=new Vu,Vu.temp=new Vu,Vu.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Ut=Vu;function Tw(n){return ct("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Ut.shared.setValue(n).toHex()}function Aw(n){return ct("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Ut.shared.setValue(n).toNumber()}function Cw(){const n=[],e=[];for(let r=0;r<32;r++)n[r]=r,e[r]=r;n[et.NORMAL_NPM]=et.NORMAL,n[et.ADD_NPM]=et.ADD,n[et.SCREEN_NPM]=et.SCREEN,e[et.NORMAL]=et.NORMAL_NPM,e[et.ADD]=et.ADD_NPM,e[et.SCREEN]=et.SCREEN_NPM;const t=[];return t.push(e),t.push(n),t}const f_=Cw();function p_(n,e){return f_[e?1:0][n]}function Pw(n,e=null){const t=n*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let r=0,s=0;r<t;r+=6,s+=4)e[r+0]=s+0,e[r+1]=s+1,e[r+2]=s+2,e[r+3]=s+0,e[r+4]=s+2,e[r+5]=s+3;return e}function m_(n){if(n.BYTES_PER_ELEMENT===4)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(n.BYTES_PER_ELEMENT===2){if(n instanceof Uint16Array)return"Uint16Array"}else if(n.BYTES_PER_ELEMENT===1&&n instanceof Uint8Array)return"Uint8Array";return null}function af(n){return n+=n===0?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1}function $y(n){return!(n&n-1)&&!!n}function Xy(n){let e=(n>65535?1:0)<<4;n>>>=e;let t=(n>255?1:0)<<3;return n>>>=t,e|=t,t=(n>15?1:0)<<2,n>>>=t,e|=t,t=(n>3?1:0)<<1,n>>>=t,e|=t,e|n>>1}function rh(n,e,t){const r=n.length;let s;if(e>=r||t===0)return;t=e+t>r?r-e:t;const a=r-t;for(s=e;s<a;++s)n[s]=n[s+t];n.length=a}function ba(n){return n===0?0:n<0?-1:1}let Iw=0;function jl(){return++Iw}const Km=class{constructor(n,e,t,r){this.left=n,this.top=e,this.right=t,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Km.EMPTY=new Km(0,0,0,0);let Yy=Km;const qy={},ws=Object.create(null),ya=Object.create(null);class Rw{constructor(e,t,r){this._canvas=Oe.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||Oe.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Qy(n,e,t){for(let r=0,s=4*t*e;r<e;++r,s+=4)if(n[s+3]!==0)return!1;return!0}function Ky(n,e,t,r,s){const a=4*e;for(let c=r,f=r*a+4*t;c<=s;++c,f+=a)if(n[f+3]!==0)return!1;return!0}function kw(n){const{width:e,height:t}=n,r=n.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,t).data;let a=0,c=0,f=e-1,m=t-1;for(;c<t&&Qy(s,e,c);)++c;if(c===t)return Yy.EMPTY;for(;Qy(s,e,m);)--m;for(;Ky(s,e,a,c,m);)++a;for(;Ky(s,e,f,c,m);)--f;return++f,++m,new Yy(a,c,f,m)}function Mw(n){const e=kw(n),{width:t,height:r}=e;let s=null;if(!e.isEmpty()){const a=n.getContext("2d");if(a===null)throw new TypeError("Failed to get canvas 2D context");s=a.getImageData(e.left,e.top,t,r)}return{width:t,height:r,data:s}}function Dw(n,e=globalThis.location){if(n.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(n,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function bo(n,e=1){var r;const t=(r=Oe.RETINA_PREFIX)==null?void 0:r.exec(n);return t?parseFloat(t[1]):e}var Me=(n=>(n.Renderer="renderer",n.Application="application",n.RendererSystem="renderer-webgl-system",n.RendererPlugin="renderer-webgl-plugin",n.CanvasRendererSystem="renderer-canvas-system",n.CanvasRendererPlugin="renderer-canvas-plugin",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n))(Me||{});const Zm=n=>{if(typeof n=="function"||typeof n=="object"&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n={...typeof n.extension!="object"?{type:n.extension}:n.extension,ref:n}}if(typeof n=="object")n={...n};else throw new Error("Invalid extension type");return typeof n.type=="string"&&(n.type=[n.type]),n},Zy=(n,e)=>Zm(n).priority??e,Ve={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(Zm).forEach(e=>{e.type.forEach(t=>{var r,s;return(s=(r=this._removeHandlers)[t])==null?void 0:s.call(r,e)})}),this},add(...n){return n.map(Zm).forEach(e=>{e.type.forEach(t=>{var a,c;const r=this._addHandlers,s=this._queue;r[t]?(a=r[t])==null||a.call(r,e):(s[t]=s[t]||[],(c=s[t])==null||c.push(e))})}),this},handle(n,e,t){var c;const r=this._addHandlers,s=this._removeHandlers;if(r[n]||s[n])throw new Error(`Extension type ${n} already has a handler`);r[n]=e,s[n]=t;const a=this._queue;return a[n]&&((c=a[n])==null||c.forEach(f=>e(f)),delete a[n]),this},handleByMap(n,e){return this.handle(n,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(n,e,t=-1){return this.handle(n,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((s,a)=>Zy(a,t)-Zy(s,t)))},r=>{const s=e.indexOf(r.ref);s!==-1&&e.splice(s,1)})}};class Jm{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Nw=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Fw(n){let e="";for(let t=0;t<n;++t)t>0&&(e+=`
else `),t<n-1&&(e+=`if(test == ${t}.0){}`);return e}function Ow(n,e){if(n===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=Nw.replace(/%forloop%/gi,Fw(n));if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))n=n/2|0;else break}return n}const ym=0,vm=1,_m=2,xm=3,wm=4,bm=5;class Ns{constructor(){this.data=0,this.blendMode=et.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<ym)}set blend(e){!!(this.data&1<<ym)!==e&&(this.data^=1<<ym)}get offsets(){return!!(this.data&1<<vm)}set offsets(e){!!(this.data&1<<vm)!==e&&(this.data^=1<<vm)}get culling(){return!!(this.data&1<<_m)}set culling(e){!!(this.data&1<<_m)!==e&&(this.data^=1<<_m)}get depthTest(){return!!(this.data&1<<xm)}set depthTest(e){!!(this.data&1<<xm)!==e&&(this.data^=1<<xm)}get depthMask(){return!!(this.data&1<<bm)}set depthMask(e){!!(this.data&1<<bm)!==e&&(this.data^=1<<bm)}get clockwiseFrontFace(){return!!(this.data&1<<wm)}set clockwiseFrontFace(e){!!(this.data&1<<wm)!==e&&(this.data^=1<<wm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==et.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ns;return e.depthTest=!1,e.blend=!0,e}}Ns.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const eg=[];function g_(n,e){if(!n)return null;let t="";if(typeof n=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);r&&(t=r[1].toLowerCase())}for(let r=eg.length-1;r>=0;--r){const s=eg[r];if(s.test&&s.test(n,t))return new s(n,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class $i{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,s,a,c,f,m){if(arguments.length>8)throw new Error("max arguments reached");const{name:v,items:b}=this;this._aliasCount++;for(let d=0,y=b.length;d<y;d++)b[d][v](e,t,r,s,a,c,f,m);return b===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties($i.prototype,{dispatch:{value:$i.prototype.emit},run:{value:$i.prototype.emit}});class Cc{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new $i("setRealSize"),this.onUpdate=new $i("update"),this.onError=new $i("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class Cf extends Cc{constructor(e,t){const{width:r,height:s}=t||{};if(!r||!s)throw new Error("BufferResource width or height invalid");super(r,s),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,r){const s=e.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Bn.UNPACK);const a=t.realWidth,c=t.realHeight;return r.width===a&&r.height===c?s.texSubImage2D(t.target,0,0,0,a,c,t.format,r.type,this.data):(r.width=a,r.height=c,s.texImage2D(t.target,0,r.internalFormat,a,c,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const Bw={scaleMode:As.NEAREST,alphaMode:Bn.NPM},tg=class Wu extends Mc{constructor(e=null,t=null){super(),t=Object.assign({},Wu.defaultOptions,t);const{alphaMode:r,mipmap:s,anisotropicLevel:a,scaleMode:c,width:f,height:m,wrapMode:v,format:b,type:d,target:y,resolution:_,resourceOptions:T}=t;e&&!(e instanceof Cc)&&(e=g_(e,T),e.internal=!0),this.resolution=_||Oe.RESOLUTION,this.width=Math.round((f||0)*this.resolution)/this.resolution,this.height=Math.round((m||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=a,this._wrapMode=v,this._scaleMode=c,this.format=b,this.type=d,this.target=y,this.alphaMode=r,this.uid=jl(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=f>0&&m>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=$y(this.realWidth)&&$y(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ya[this.cacheId],delete ws[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Wu.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,r=Oe.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let a=null;if(s)a=e;else{if(!e._pixiId){const f=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${f}_${jl()}`}a=e._pixiId}let c=ya[a];if(s&&r&&!c)throw new Error(`The cacheId "${a}" does not exist in BaseTextureCache.`);return c||(c=new Wu(e,t),c.cacheId=a,Wu.addToCache(c,a)),c}static fromBuffer(e,t,r,s){e=e||new Float32Array(t*r*4);const a=new Cf(e,{width:t,height:r,...s==null?void 0:s.resourceOptions});let c,f;return e instanceof Float32Array?(c=Pe.RGBA,f=Ye.FLOAT):e instanceof Int32Array?(c=Pe.RGBA_INTEGER,f=Ye.INT):e instanceof Uint32Array?(c=Pe.RGBA_INTEGER,f=Ye.UNSIGNED_INT):e instanceof Int16Array?(c=Pe.RGBA_INTEGER,f=Ye.SHORT):e instanceof Uint16Array?(c=Pe.RGBA_INTEGER,f=Ye.UNSIGNED_SHORT):e instanceof Int8Array?(c=Pe.RGBA,f=Ye.BYTE):(c=Pe.RGBA,f=Ye.UNSIGNED_BYTE),a.internal=!0,new Wu(a,Object.assign({},Bw,{type:f,format:c},s))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),ya[t]&&ya[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),ya[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=ya[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete ya[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete ya[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};tg.defaultOptions={mipmap:Rs.POW2,anisotropicLevel:0,scaleMode:As.LINEAR,wrapMode:wo.CLAMP,alphaMode:Bn.UNPACK,target:th.TEXTURE_2D,format:Pe.RGBA,type:Ye.UNSIGNED_BYTE},tg._globalBatch=0;let st=tg;class rg{constructor(){this.texArray=null,this.blend=0,this.type=Vi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Lw=0;class pr{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=Lw++,this.disposeRunner=new $i("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Ps.ELEMENT_ARRAY_BUFFER:Ps.ARRAY_BUFFER}get index(){return this.type===Ps.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new pr(e)}}class lf{constructor(e,t=0,r=!1,s=Ye.FLOAT,a,c,f,m=1){this.buffer=e,this.size=t,this.normalized=r,this.type=s,this.stride=a,this.start=c,this.instance=f,this.divisor=m}destroy(){this.buffer=null}static from(e,t,r,s,a){return new lf(e,t,r,s,a)}}const Uw={Float32Array,Uint32Array,Int32Array,Uint8Array};function Gw(n,e){let t=0,r=0;const s={};for(let m=0;m<n.length;m++)r+=e[m],t+=n[m].length;const a=new ArrayBuffer(t*4);let c=null,f=0;for(let m=0;m<n.length;m++){const v=e[m],b=n[m],d=m_(b);s[d]||(s[d]=new Uw[d](a)),c=s[d];for(let y=0;y<b.length;y++){const _=(y/v|0)*r+f,T=y%v;c[_+T]=b[y]}f+=v}return new Float32Array(a)}const Jy={5126:4,5123:2,5121:1};let Hw=0;const zw={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Ta{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=Hw++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new $i("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,s=!1,a,c,f,m=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof pr||(t instanceof Array&&(t=new Float32Array(t)),t=new pr(t));const v=e.split("|");if(v.length>1){for(let d=0;d<v.length;d++)this.addAttribute(v[d],t,r,s,a);return this}let b=this.buffers.indexOf(t);return b===-1&&(this.buffers.push(t),b=this.buffers.length-1),this.attributes[e]=new lf(b,r,s,a,c,f,m),this.instanced=this.instanced||m,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof pr||(e instanceof Array&&(e=new Uint16Array(e)),e=new pr(e)),e.type=Ps.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],r=new pr;let s;for(s in this.attributes){const a=this.attributes[s],c=this.buffers[a.buffer];e.push(c.data),t.push(a.size*Jy[a.type]/4),a.buffer=0}for(r.data=Gw(e,t),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Ta;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new pr(this.buffers[t].data.slice(0));for(const t in this.attributes){const r=this.attributes[t];e.attributes[t]=new lf(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Ps.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new Ta,r=[],s=[],a=[];let c;for(let f=0;f<e.length;f++){c=e[f];for(let m=0;m<c.buffers.length;m++)s[m]=s[m]||0,s[m]+=c.buffers[m].data.length,a[m]=0}for(let f=0;f<c.buffers.length;f++)r[f]=new zw[m_(c.buffers[f].data)](s[f]),t.buffers[f]=new pr(r[f]);for(let f=0;f<e.length;f++){c=e[f];for(let m=0;m<c.buffers.length;m++)r[m].set(c.buffers[m].data,a[m]),a[m]+=c.buffers[m].data.length}if(t.attributes=c.attributes,c.indexBuffer){t.indexBuffer=t.buffers[c.buffers.indexOf(c.indexBuffer)],t.indexBuffer.type=Ps.ELEMENT_ARRAY_BUFFER;let f=0,m=0,v=0,b=0;for(let d=0;d<c.buffers.length;d++)if(c.buffers[d]!==c.indexBuffer){b=d;break}for(const d in c.attributes){const y=c.attributes[d];(y.buffer|0)===b&&(m+=y.size*Jy[y.type]/4)}for(let d=0;d<e.length;d++){const y=e[d].indexBuffer.data;for(let _=0;_<y.length;_++)t.indexBuffer.data[_+v]+=f;f+=e[d].buffers[b].data.length/m,v+=y.length}}return t}}class y_ extends Ta{constructor(e=!1){super(),this._buffer=new pr(null,e,!1),this._indexBuffer=new pr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Ye.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Ye.FLOAT).addAttribute("aColor",this._buffer,4,!0,Ye.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Ye.FLOAT).addIndex(this._indexBuffer)}}const uf=Math.PI*2,jw=180/Math.PI,Vw=Math.PI/180;var zr=(n=>(n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",n))(zr||{});class dt{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new dt(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}dt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Id=[new dt,new dt,new dt,new dt];class at{constructor(e=0,t=0,r=0,s=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(s),this.type=zr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new at(0,0,0,0)}clone(){return new at(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const J=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=J)return!1;const se=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>se}const r=this.left,s=this.right,a=this.top,c=this.bottom;if(s<=r||c<=a)return!1;const f=Id[0].set(e.left,e.top),m=Id[1].set(e.left,e.bottom),v=Id[2].set(e.right,e.top),b=Id[3].set(e.right,e.bottom);if(v.x<=f.x||m.y<=f.y)return!1;const d=Math.sign(t.a*t.d-t.b*t.c);if(d===0||(t.apply(f,f),t.apply(m,m),t.apply(v,v),t.apply(b,b),Math.max(f.x,m.x,v.x,b.x)<=r||Math.min(f.x,m.x,v.x,b.x)>=s||Math.max(f.y,m.y,v.y,b.y)<=a||Math.min(f.y,m.y,v.y,b.y)>=c))return!1;const y=d*(m.y-f.y),_=d*(f.x-m.x),T=y*r+_*a,C=y*s+_*a,A=y*r+_*c,P=y*s+_*c;if(Math.max(T,C,A,P)<=y*f.x+_*f.y||Math.min(T,C,A,P)>=y*b.x+_*b.y)return!1;const N=d*(f.y-v.y),D=d*(v.x-f.x),j=N*r+D*a,O=N*s+D*a,q=N*r+D*c,U=N*s+D*c;return!(Math.max(j,O,q,U)<=N*f.x+D*f.y||Math.min(j,O,q,U)>=N*b.x+D*b.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=s,this.height=Math.max(a-s,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,s=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=s-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=s,this.height=a-s,this}}at.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Pf{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=zr.CIRC}clone(){return new Pf(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const r=this.radius*this.radius;let s=this.x-e,a=this.y-t;return s*=s,a*=a,s+a<=r}getBounds(){return new at(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Pf.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class If{constructor(e=0,t=0,r=0,s=0){this.x=e,this.y=t,this.width=r,this.height=s,this.type=zr.ELIP}clone(){return new If(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,s=(t-this.y)/this.height;return r*=r,s*=s,r+s<=1}getBounds(){return new at(this.x-this.width,this.y-this.height,this.width,this.height)}}If.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Hl{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const r=[];for(let s=0,a=t.length;s<a;s++)r.push(t[s].x,t[s].y);t=r}this.points=t,this.type=zr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new Hl(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let r=!1;const s=this.points.length/2;for(let a=0,c=s-1;a<s;c=a++){const f=this.points[a*2],m=this.points[a*2+1],v=this.points[c*2],b=this.points[c*2+1];m>t!=b>t&&e<(v-f)*((t-m)/(b-m))+f&&(r=!r)}return r}}Hl.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((n,e)=>`${n}, ${e}`,"")}]`};class Rf{constructor(e=0,t=0,r=0,s=0,a=20){this.x=e,this.y=t,this.width=r,this.height=s,this.radius=a,this.type=zr.RREC}clone(){return new Rf(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let s=e-(this.x+r),a=t-(this.y+r);const c=r*r;if(s*s+a*a<=c||(s=e-(this.x+this.width-r),s*s+a*a<=c)||(a=t-(this.y+this.height-r),s*s+a*a<=c)||(s=e-(this.x+r),s*s+a*a<=c))return!0}return!1}}Rf.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Ht{constructor(e=1,t=0,r=0,s=1,a=0,c=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=s,this.tx=a,this.ty=c}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,s,a,c){return this.a=e,this.b=t,this.c=r,this.d=s,this.tx=a,this.ty=c,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new dt;const r=e.x,s=e.y;return t.x=this.a*r+this.c*s+this.tx,t.y=this.b*r+this.d*s+this.ty,t}applyInverse(e,t){t=t||new dt;const r=1/(this.a*this.d+this.c*-this.b),s=e.x,a=e.y;return t.x=this.d*r*s+-this.c*r*a+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*a+-this.b*r*s+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),s=this.a,a=this.c,c=this.tx;return this.a=s*t-this.b*r,this.b=s*r+this.b*t,this.c=a*t-this.d*r,this.d=a*r+this.d*t,this.tx=c*t-this.ty*r,this.ty=c*r+this.ty*t,this}append(e){const t=this.a,r=this.b,s=this.c,a=this.d;return this.a=e.a*t+e.b*s,this.b=e.a*r+e.b*a,this.c=e.c*t+e.d*s,this.d=e.c*r+e.d*a,this.tx=e.tx*t+e.ty*s+this.tx,this.ty=e.tx*r+e.ty*a+this.ty,this}setTransform(e,t,r,s,a,c,f,m,v){return this.a=Math.cos(f+v)*a,this.b=Math.sin(f+v)*a,this.c=-Math.sin(f-m)*c,this.d=Math.cos(f-m)*c,this.tx=e-(r*this.a+s*this.c),this.ty=t-(r*this.b+s*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,s=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,s=this.c,a=this.d,c=e.pivot,f=-Math.atan2(-s,a),m=Math.atan2(r,t),v=Math.abs(f+m);return v<1e-5||Math.abs(uf-v)<1e-5?(e.rotation=m,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=f,e.skew.y=m),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(s*s+a*a),e.position.x=this.tx+(c.x*t+c.y*s),e.position.y=this.ty+(c.x*r+c.y*a),e}invert(){const e=this.a,t=this.b,r=this.c,s=this.d,a=this.tx,c=e*s-t*r;return this.a=s/c,this.b=-t/c,this.c=-r/c,this.d=e/c,this.tx=(r*this.ty-s*a)/c,this.ty=-(e*this.ty-t*a)/c,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ht;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Ht}static get TEMP_MATRIX(){return new Ht}}Ht.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Dl=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Nl=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Fl=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ol=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ng=[],v_=[],Rd=Math.sign;function Ww(){for(let n=0;n<16;n++){const e=[];ng.push(e);for(let t=0;t<16;t++){const r=Rd(Dl[n]*Dl[t]+Fl[n]*Nl[t]),s=Rd(Nl[n]*Dl[t]+Ol[n]*Nl[t]),a=Rd(Dl[n]*Fl[t]+Fl[n]*Ol[t]),c=Rd(Nl[n]*Fl[t]+Ol[n]*Ol[t]);for(let f=0;f<16;f++)if(Dl[f]===r&&Nl[f]===s&&Fl[f]===a&&Ol[f]===c){e.push(f);break}}}for(let n=0;n<16;n++){const e=new Ht;e.set(Dl[n],Nl[n],Fl[n],Ol[n],0,0),v_.push(e)}}Ww();const Kt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>Dl[n],uY:n=>Nl[n],vX:n=>Fl[n],vY:n=>Ol[n],inv:n=>n&8?n&15:-n&7,add:(n,e)=>ng[n][e],sub:(n,e)=>ng[n][Kt.inv(e)],rotate180:n=>n^4,isVertical:n=>(n&3)===2,byDirection:(n,e)=>Math.abs(n)*2<=Math.abs(e)?e>=0?Kt.S:Kt.N:Math.abs(e)*2<=Math.abs(n)?n>0?Kt.E:Kt.W:e>0?n>0?Kt.SE:Kt.SW:n>0?Kt.NE:Kt.NW,matrixAppendRotationInv:(n,e,t=0,r=0)=>{const s=v_[Kt.inv(e)];s.tx=t,s.ty=r,n.append(s)}};class Cs{constructor(e,t,r=0,s=0){this._x=r,this._y=s,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new Cs(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Cs.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const ig=class{constructor(){this.worldTransform=new Ht,this.localTransform=new Ht,this.position=new Cs(this.onChange,this,0,0),this.scale=new Cs(this.onChange,this,1,1),this.pivot=new Cs(this.onChange,this,0,0),this.skew=new Cs(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const n=this.localTransform;this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(n){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==n._worldID){const t=n.worldTransform,r=this.worldTransform;r.a=e.a*t.a+e.b*t.c,r.b=e.a*t.b+e.b*t.d,r.c=e.c*t.a+e.d*t.c,r.d=e.c*t.b+e.d*t.d,r.tx=e.tx*t.a+e.ty*t.c+t.tx,r.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=n._worldID,this._worldID++}}setFromMatrix(n){n.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(n){this._rotation!==n&&(this._rotation=n,this.updateSkew())}};ig.IDENTITY=new ig;let kf=ig;kf.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var $w=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Xw=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function ev(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}function Em(n){const e=new Array(n);for(let t=0;t<e.length;t++)e[t]=!1;return e}function __(n,e){switch(n){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Em(2*e);case"bvec3":return Em(3*e);case"bvec4":return Em(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const nh=[{test:n=>n.type==="float"&&n.size===1&&!n.isArray,code:n=>`
            if(uv["${n}"] !== ud["${n}"].value)
            {
                ud["${n}"].value = uv["${n}"]
                gl.uniform1f(ud["${n}"].location, uv["${n}"])
            }
            `},{test:(n,e)=>(n.type==="sampler2D"||n.type==="samplerCube"||n.type==="sampler2DArray")&&n.size===1&&!n.isArray&&(e==null||e.castToBaseTexture!==void 0),code:n=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${n}"], t);

            if(ud["${n}"].value !== t)
            {
                ud["${n}"].value = t;
                gl.uniform1i(ud["${n}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(n,e)=>n.type==="mat3"&&n.size===1&&!n.isArray&&e.a!==void 0,code:n=>`
            gl.uniformMatrix3fv(ud["${n}"].location, false, uv["${n}"].toArray(true));
            `,codeUbo:n=>`
                var ${n}_matrix = uv.${n}.toArray(true);

                data[offset] = ${n}_matrix[0];
                data[offset+1] = ${n}_matrix[1];
                data[offset+2] = ${n}_matrix[2];
        
                data[offset + 4] = ${n}_matrix[3];
                data[offset + 5] = ${n}_matrix[4];
                data[offset + 6] = ${n}_matrix[5];
        
                data[offset + 8] = ${n}_matrix[6];
                data[offset + 9] = ${n}_matrix[7];
                data[offset + 10] = ${n}_matrix[8];
            `},{test:(n,e)=>n.type==="vec2"&&n.size===1&&!n.isArray&&e.x!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${n}"].location, v.x, v.y);
                }`,codeUbo:n=>`
                v = uv.${n};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:n=>n.type==="vec2"&&n.size===1&&!n.isArray,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${n}"].location, v[0], v[1]);
                }
            `},{test:(n,e)=>n.type==="vec4"&&n.size===1&&!n.isArray&&e.width!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${n}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(n,e)=>n.type==="vec4"&&n.size===1&&!n.isArray&&e.red!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${n}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(n,e)=>n.type==="vec3"&&n.size===1&&!n.isArray&&e.red!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${n}"].location, v.red, v.green, v.blue)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:n=>n.type==="vec4"&&n.size===1&&!n.isArray,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${n}"].location, v[0], v[1], v[2], v[3])
                }`}],Yw={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},qw={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Qw(n,e){var r;const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const s in n.uniforms){const a=e[s];if(!a){((r=n.uniforms[s])==null?void 0:r.group)===!0&&(n.uniforms[s].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${s}, '${s}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${s}, syncData);
                    `));continue}const c=n.uniforms[s];let f=!1;for(let m=0;m<nh.length;m++)if(nh[m].test(a,c)){t.push(nh[m].code(s,c)),f=!0;break}if(!f){const m=(a.size===1&&!a.isArray?Yw:qw)[a.type].replace("location",`ud["${s}"].location`);t.push(`
            cu = ud["${s}"];
            cv = cu.value;
            v = uv["${s}"];
            ${m};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const x_={};let Hu=x_;function Kw(){if(Hu===x_||Hu!=null&&Hu.isContextLost()){const n=Oe.ADAPTER.createCanvas();let e;Oe.PREFER_ENV>=Vl.WEBGL2&&(e=n.getContext("webgl2",{})),e||(e=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Hu=e}return Hu}let kd;function Zw(){if(!kd){kd=fi.MEDIUM;const n=Kw();if(n&&n.getShaderPrecisionFormat){const e=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);e&&(kd=e.precision?fi.HIGH:fi.MEDIUM)}}return kd}function tv(n,e){const t=n.getShaderSource(e).split(`
`).map((v,b)=>`${b}: ${v}`),r=n.getShaderInfoLog(e),s=r.split(`
`),a={},c=s.map(v=>parseFloat(v.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(v=>v&&!a[v]?(a[v]=!0,!0):!1),f=[""];c.forEach(v=>{t[v-1]=`%c${t[v-1]}%c`,f.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const m=t.join(`
`);f[0]=m,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...f),console.groupEnd()}function Jw(n,e,t,r){n.getProgramParameter(e,n.LINK_STATUS)||(n.getShaderParameter(t,n.COMPILE_STATUS)||tv(n,t),n.getShaderParameter(r,n.COMPILE_STATUS)||tv(n,r),console.error("PixiJS Error: Could not initialize shader."),n.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(e)))}const eb={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function w_(n){return eb[n]}let Md=null;const rv={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function b_(n,e){if(!Md){const t=Object.keys(rv);Md={};for(let r=0;r<t.length;++r){const s=t[r];Md[n[s]]=rv[s]}}return Md[e]}function nv(n,e,t){if(n.substring(0,9)!=="precision"){let r=e;return e===fi.HIGH&&t!==fi.HIGH&&(r=fi.MEDIUM),`precision ${r} float;
${n}`}else if(t!==fi.HIGH&&n.substring(0,15)==="precision highp")return n.replace("precision highp","precision mediump");return n}let cc;function tb(){if(typeof cc=="boolean")return cc;try{cc=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{cc=!1}return cc}let rb=0;const Dd={},sg=class $u{constructor(e,t,r="pixi-shader",s={}){this.extra={},this.id=rb++,this.vertexSrc=e||$u.defaultVertexSrc,this.fragmentSrc=t||$u.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Dd[r]?(Dd[r]++,r+=`-${Dd[r]}`):Dd[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=nv(this.vertexSrc,$u.defaultVertexPrecision,fi.HIGH),this.fragmentSrc=nv(this.fragmentSrc,$u.defaultFragmentPrecision,Zw())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Xw}static get defaultFragmentSrc(){return $w}static from(e,t,r){const s=e+t;let a=qy[s];return a||(qy[s]=a=new $u(e,t,r)),a}};sg.defaultVertexPrecision=fi.HIGH,sg.defaultFragmentPrecision=vo.apple.device?fi.HIGH:fi.MEDIUM;let _o=sg,nb=0;class Xi{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=nb++,this.static=!!t,this.ubo=!!r,e instanceof pr?(this.buffer=e,this.buffer.type=Ps.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new pr(new Float32Array(1)),this.buffer.type=Ps.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(!this.ubo)this.uniforms[e]=new Xi(t,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,r){return new Xi(e,t,r)}static uboFrom(e,t){return new Xi(e,t??!0,!0)}}class Is{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof Xi?this.uniformGroup=t:this.uniformGroup=new Xi(t):this.uniformGroup=new Xi({}),this.disposeRunner=new $i("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const r in t.uniforms){const s=t.uniforms[r];if(s.group===!0&&this.checkUniformExists(e,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){const s=_o.from(e,t);return new Is(s,r)}}class ib{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let a=0;a<e;a++)r[a]=a;this.defaultGroupCache[e]=Xi.from({uSamplers:r},!0);let s=this.fragTemplate;s=s.replace(/%count%/gi,`${e}`),s=s.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new _o(this.vertexSrc,s)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ht,default:this.defaultGroupCache[e]};return new Is(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let r=0;r<e;r++)r>0&&(t+=`
else `),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class og{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function sb(){return!vo.apple.device}function ob(n){let e=!0;const t=Oe.ADAPTER.getNavigator();if(vo.tablet||vo.phone){if(vo.apple.device){const r=t.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(vo.android.device){const r=t.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?n:4}class Mf{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var ab=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,lb=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const gc=class Hi extends Mf{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=y_,this.vertexSize=6,this.state=Ns.for2d(),this.size=Hi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??ob(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??sb(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return ct("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return lb}static get defaultFragmentTemplate(){return ab}setShaderGenerator({vertex:e=Hi.defaultVertexSrc,fragment:t=Hi.defaultFragmentTemplate}={}){this.shaderGenerator=new ib(e,t)}contextChange(){const e=this.renderer.gl;Oe.PREFER_ENV===Vl.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Hi.defaultMaxTextures),this.maxTextures=Ow(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=Hi,r=this.size/4,s=Math.floor(r/this.maxTextures)+1;for(;e.length<r;)e.push(new rg);for(;t.length<s;)t.push(new og);for(let a=0;a<this.maxTextures;a++)this._tempBoundTextures[a]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,r=Hi._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,c=this.renderer.textureGC.count;let f=++st._globalBatch,m=0,v=r[0],b=0;s.copyBoundTextures(a,t);for(let d=0;d<this._bufferSize;++d){const y=e[d];e[d]=null,y._batchEnabled!==f&&(v.count>=t&&(s.boundArray(v,a,f,t),this.buildDrawCalls(v,b,d),b=d,v=r[++m],++f),y._batchEnabled=f,y.touched=c,v.elements[v.count++]=y)}v.count>0&&(s.boundArray(v,a,f,t),this.buildDrawCalls(v,b,this._bufferSize),++m,++f);for(let d=0;d<a.length;d++)a[d]=null;st._globalBatch=f}buildDrawCalls(e,t,r){const{_bufferedElements:s,_attributeBuffer:a,_indexBuffer:c,vertexSize:f}=this,m=Hi._drawCallPool;let v=this._dcIndex,b=this._aIndex,d=this._iIndex,y=m[v];y.start=this._iIndex,y.texArray=e;for(let _=t;_<r;++_){const T=s[_],C=T._texture.baseTexture,A=f_[C.alphaMode?1:0][T.blendMode];s[_]=null,t<_&&y.blend!==A&&(y.size=d-y.start,t=_,y=m[++v],y.texArray=e,y.start=d),this.packInterleavedGeometry(T,a,c,b,d),b+=T.vertexData.length/2*f,d+=T.indices.length,y.blend=A}t<r&&(y.size=d-y.start,++v),this._dcIndex=v,this._aIndex=b,this._iIndex=d}bindAndClearTexArray(e){const t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:r}=this;Hi.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:r}=this.renderer,s=Hi._drawCallPool;let a=null;for(let c=0;c<e;c++){const{texArray:f,type:m,size:v,start:b,blend:d}=s[c];a!==f&&(a=f,this.bindAndClearTexArray(f)),this.state.blendMode=d,r.set(this.state),t.drawElements(m,v,t.UNSIGNED_SHORT,b*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Hi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=af(Math.ceil(e/8)),r=Xy(t),s=t*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let a=this._aBuffers[s];return a||(this._aBuffers[s]=a=new Jm(s*this.vertexSize*4)),a}getIndexBuffer(e){const t=af(Math.ceil(e/12)),r=Xy(t),s=t*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let a=this._iBuffers[r];return a||(this._iBuffers[r]=a=new Uint16Array(s)),a}packInterleavedGeometry(e,t,r,s,a){const{uint32View:c,float32View:f}=t,m=s/this.vertexSize,v=e.uvs,b=e.indices,d=e.vertexData,y=e._texture.baseTexture._batchLocation,_=Math.min(e.worldAlpha,1),T=Ut.shared.setValue(e._tintRGB).toPremultiplied(_,e._texture.baseTexture.alphaMode>0);for(let C=0;C<d.length;C+=2)f[s++]=d[C],f[s++]=d[C+1],f[s++]=v[C],f[s++]=v[C+1],c[s++]=T,f[s++]=y;for(let C=0;C<b.length;C++)r[a++]=m+b[C]}};gc.defaultBatchSize=4096,gc.extension={name:"batch",type:Me.RendererPlugin},gc._drawCallPool=[],gc._textureArrayPool=[];let Bl=gc;Ve.add(Bl);var ub=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,hb=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const ag=class yc extends Is{constructor(e,t,r){const s=_o.from(e||yc.defaultVertexSrc,t||yc.defaultFragmentSrc);super(s,r),this.padding=0,this.resolution=yc.defaultResolution,this.multisample=yc.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ns}apply(e,t,r,s,a){e.applyFilter(this,t,r,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return hb}static get defaultFragmentSrc(){return ub}};ag.defaultResolution=1,ag.defaultMultisample=yr.NONE;let fn=ag;class hf{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Ut(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:r,backgroundAlpha:s}=e,a=r??t;a!==void 0&&(this.color=a),this.alpha=s}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}hf.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},hf.extension={type:[Me.RendererSystem,Me.CanvasRendererSystem],name:"background"};Ve.add(hf);class E_{constructor(e){this.renderer=e,this.emptyRenderer=new Mf(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:r}=this.renderer.texture;for(let s=t-1;s>=0;--s)e[s]=r[s]||null,e[s]&&(e[s]._batchLocation=s)}boundArray(e,t,r,s){const{elements:a,ids:c,count:f}=e;let m=0;for(let v=0;v<f;v++){const b=a[v],d=b._batchLocation;if(d>=0&&d<s&&t[d]===b){c[v]=d;continue}for(;m<s;){const y=t[m];if(y&&y._batchEnabled===r&&y._batchLocation===m){m++;continue}c[v]=m,b._batchLocation=m,t[m]=b;break}}}destroy(){this.renderer=null}}E_.extension={type:Me.RendererSystem,name:"batch"};Ve.add(E_);let iv=0;class cf{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=iv++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=iv++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(Oe.PREFER_ENV>=Vl.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}cf.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},cf.extension={type:Me.RendererSystem,name:"context"};Ve.add(cf);class lg{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new $i("disposeFramebuffer"),this.multisample=yr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new st(null,{scaleMode:As.NEAREST,resolution:1,mipmap:Rs.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new st(null,{scaleMode:As.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Rs.OFF,format:Pe.DEPTH_COMPONENT,type:Ye.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const s=this.colorTextures[r],a=s.resolution;s.setSize(e/a,t/a)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class S_ extends st{constructor(e={}){if(typeof e=="number"){const t=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3];e={width:t,height:r,scaleMode:s,resolution:a}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=yr.NONE),super(null,e),this.mipmap=Rs.OFF,this.valid=!0,this._clear=new Ut([0,0,0,0]),this.framebuffer=new lg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Eo extends Cc{constructor(e){const t=e,r=t.naturalWidth||t.videoWidth||t.displayWidth||t.width,s=t.naturalHeight||t.videoHeight||t.displayHeight||t.height;super(r,s),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){r===void 0&&!t.startsWith("data:")?e.crossOrigin=Dw(t):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,t,r,s){const a=e.gl,c=t.realWidth,f=t.realHeight;if(s=s||this.source,typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Bn.UNPACK),!this.noSubImage&&t.target===a.TEXTURE_2D&&r.width===c&&r.height===f?a.texSubImage2D(a.TEXTURE_2D,0,0,0,t.format,r.type,s):(r.width=c,r.height=f,a.texImage2D(t.target,0,r.internalFormat,t.format,r.type,s)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}}class T_ extends Eo{constructor(e,t){if(t=t||{},typeof e=="string"){const r=new Image;Eo.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??Oe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,r)=>{const s=this.source;this.url=s.src;const a=()=>{this.destroyed||(s.onload=null,s.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};s.complete&&s.src?a():(s.onload=a,s.onerror=c=>{r(c),this.onError.emit(c)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(s=>s.blob()).then(s=>t(s,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Bn.UNPACK?"premultiply":"none"})).then(s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,r){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let s=!0;const a=t._glTextures;for(const c in a){const f=a[c];if(f!==r&&f.dirtyId!==t.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class zg{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){const s=t.width,a=t.height;if(r){const c=e.width/2/s,f=e.height/2/a,m=e.x/s+c,v=e.y/a+f;r=Kt.add(r,Kt.NW),this.x0=m+c*Kt.uX(r),this.y0=v+f*Kt.uY(r),r=Kt.add(r,2),this.x1=m+c*Kt.uX(r),this.y1=v+f*Kt.uY(r),r=Kt.add(r,2),this.x2=m+c*Kt.uX(r),this.y2=v+f*Kt.uY(r),r=Kt.add(r,2),this.x3=m+c*Kt.uX(r),this.y3=v+f*Kt.uY(r)}else this.x0=e.x/s,this.y0=e.y/a,this.x1=(e.x+e.width)/s,this.y1=e.y/a,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/a,this.x3=e.x/s,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}zg.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const sv=new zg;function Nd(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}class Re extends Mc{constructor(e,t,r,s,a,c,f){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new at(0,0,1,1)),e instanceof Re&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=sv,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(a||0),a===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=c?new dt(c.x,c.y):new dt(0,0),this.defaultBorders=f,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t!=null&&t.url&&ws[t.url]&&Re.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Re.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var s;const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),r=new Re(this.baseTexture,!this.noFrame&&e,t,(s=this.trim)==null?void 0:s.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===sv&&(this._uvs=new zg),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=Oe.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let a=null;if(s)a=e;else if(e instanceof st){if(!e.cacheId){const f=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${f}-${jl()}`,st.addToCache(e,e.cacheId)}a=e.cacheId}else{if(!e._pixiId){const f=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${f}_${jl()}`}a=e._pixiId}let c=ws[a];if(s&&r&&!c)throw new Error(`The cacheId "${a}" does not exist in TextureCache.`);return!c&&!(e instanceof st)?(t.resolution||(t.resolution=bo(e)),c=new Re(new st(e,t)),c.baseTexture.cacheId=a,st.addToCache(c.baseTexture,a),Re.addToCache(c,a)):!c&&e instanceof st&&(c=new Re(e),Re.addToCache(c,a)),c}static fromURL(e,t){const r=Object.assign({autoLoad:!1},t==null?void 0:t.resourceOptions),s=Re.from(e,Object.assign({resourceOptions:r},t),!1),a=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):a.load().then(()=>Promise.resolve(s))}static fromBuffer(e,t,r,s){return new Re(st.fromBuffer(e,t,r,s))}static fromLoader(e,t,r,s){const a=new st(e,Object.assign({scaleMode:st.defaultOptions.scaleMode,resolution:bo(t)},s)),{resource:c}=a;c instanceof T_&&(c.url=t);const f=new Re(a);return r||(r=t),st.addToCache(f.baseTexture,r),Re.addToCache(f,r),r!==t&&(st.addToCache(f.baseTexture,t),Re.addToCache(f,t)),f.baseTexture.valid?Promise.resolve(f):new Promise(m=>{f.baseTexture.once("loaded",()=>m(f))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),ws[t]&&ws[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),ws[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=ws[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete ws[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)ws[e.textureCacheIds[t]]===e&&delete ws[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:r,width:s,height:a}=e,c=t+s>this.baseTexture.width,f=r+a>this.baseTexture.height;if(c||f){const m=c&&f?"and":"or",v=`X: ${t} + ${s} = ${t+s} > ${this.baseTexture.width}`,b=`Y: ${r} + ${a} = ${r+a} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${v} ${m} ${b}`)}this.valid=s&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Re._EMPTY||(Re._EMPTY=new Re(new st),Nd(Re._EMPTY),Nd(Re._EMPTY.baseTexture)),Re._EMPTY}static get WHITE(){if(!Re._WHITE){const e=Oe.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),Re._WHITE=new Re(st.from(e)),Nd(Re._WHITE),Nd(Re._WHITE.baseTexture)}return Re._WHITE}}class Wl extends Re{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){const s=this.baseTexture.resolution,a=Math.round(e*s)/s,c=Math.round(t*s)/s;this.valid=a>0&&c>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=c,r&&this.baseTexture.resize(a,c),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new Wl(new S_(e))}}class A_{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=yr.NONE){const s=new S_(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new Wl(s)}getOptimalTexture(e,t,r=1,s=yr.NONE){let a;e=Math.max(Math.ceil(e*r-1e-6),1),t=Math.max(Math.ceil(t*r-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=af(e),t=af(t),a=((e&65535)<<16|t&65535)>>>0,s>1&&(a+=s*4294967296)):a=s>1?-s:-1,this.texturePool[a]||(this.texturePool[a]=[]);let c=this.texturePool[a].pop();return c||(c=this.createTexture(e,t,s)),c.filterPoolKey=a,c.setResolution(r),c}getFilterTexture(e,t,r){const s=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||yr.NONE);return s.filterFrame=e.filterFrame,s}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const r=this.texturePool[t];if(r)for(let s=0;s<r.length;s++)r[s].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const r=this.texturePool[t];if(r)for(let s=0;s<r.length;s++)r[s].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}A_.SCREEN_KEY=-1;class cb extends Ta{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class C_ extends Ta{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new pr(this.vertices),this.uvBuffer=new pr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,s=0;return this.uvs[0]=r,this.uvs[1]=s,this.uvs[2]=r+t.width/e.width,this.uvs[3]=s,this.uvs[4]=r+t.width/e.width,this.uvs[5]=s+t.height/e.height,this.uvs[6]=r,this.uvs[7]=s+t.height/e.height,r=t.x,s=t.y,this.vertices[0]=r,this.vertices[1]=s,this.vertices[2]=r+t.width,this.vertices[3]=s,this.vertices[4]=r+t.width,this.vertices[5]=s+t.height,this.vertices[6]=r,this.vertices[7]=s+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class db{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=yr.NONE,this.sourceFrame=new at,this.destinationFrame=new at,this.bindingSourceFrame=new at,this.bindingDestinationFrame=new at,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Fd=[new dt,new dt,new dt,new dt],Sm=new Ht;class P_{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new A_,this.statePool=[],this.quad=new cb,this.quadUv=new C_,this.tempRect=new at,this.activeState={},this.globalUniforms=new Xi({outputFrame:new at,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const r=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new db,c=r.renderTexture;let f,m;if(c.current){const A=c.current;f=A.resolution,m=A.multisample}else f=r.resolution,m=r.multisample;let v=t[0].resolution||f,b=t[0].multisample??m,d=t[0].padding,y=t[0].autoFit,_=t[0].legacy??!0;for(let A=1;A<t.length;A++){const P=t[A];v=Math.min(v,P.resolution||f),b=Math.min(b,P.multisample??m),d=this.useMaxPadding?Math.max(d,P.padding):d+P.padding,y=y&&P.autoFit,_=_||(P.legacy??!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),s.push(a),a.resolution=v,a.multisample=b,a.legacy=_,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(d);const T=this.tempRect.copyFrom(c.sourceFrame);r.projection.transform&&this.transformAABB(Sm.copyFrom(r.projection.transform).invert(),T),y?(a.sourceFrame.fit(T),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(T)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,c.current?c.current.resolution:r.resolution,c.sourceFrame,c.destinationFrame,r.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,v,b),a.filters=t,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;const C=this.tempRect;C.x=0,C.y=0,C.width=a.sourceFrame.width,C.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(c.sourceFrame),a.bindingDestinationFrame.copyFrom(c.destinationFrame),a.transform=r.projection.transform,r.projection.transform=null,c.bind(a.renderTexture,a.sourceFrame,C),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;const s=this.globalUniforms.uniforms;s.outputFrame=t.sourceFrame,s.resolution=t.resolution;const a=s.inputSize,c=s.inputPixel,f=s.inputClamp;if(a[0]=t.destinationFrame.width,a[1]=t.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],c[0]=Math.round(a[0]*t.resolution),c[1]=Math.round(a[1]*t.resolution),c[2]=1/c[0],c[3]=1/c[1],f[0]=.5*c[2],f[1]=.5*c[3],f[2]=t.sourceFrame.width*a[2]-.5*c[2],f[3]=t.sourceFrame.height*a[3]-.5*c[3],t.legacy){const v=s.filterArea;v[0]=t.destinationFrame.width,v[1]=t.destinationFrame.height,v[2]=t.sourceFrame.x,v[3]=t.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();const m=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,t.renderTexture,m.renderTexture,Ts.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let v=t.renderTexture,b=this.getOptimalFilterTexture(v.width,v.height,t.resolution);b.filterFrame=v.filterFrame;let d=0;for(d=0;d<r.length-1;++d){d===1&&t.multisample>1&&(b=this.getOptimalFilterTexture(v.width,v.height,t.resolution),b.filterFrame=v.filterFrame),r[d].apply(this,v,b,Ts.CLEAR,t);const y=v;v=b,b=y}r[d].apply(this,v,m.renderTexture,Ts.BLEND,t),d>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(v),this.returnFilterTexture(b)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=Ts.CLEAR){const{renderTexture:r,state:s}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const c=this.tempRect;c.x=0,c.y=0,c.width=e.filterFrame.width,c.height=e.filterFrame.height,r.bind(e,e.filterFrame,c)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const a=s.stateId&1||this.forceClear;(t===Ts.CLEAR||t===Ts.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,s){const a=this.renderer;a.state.set(e.state),this.bindAndClear(r,s),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Vi.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Vi.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:r,destinationFrame:s}=this.activeState,{orig:a}=t._texture,c=e.set(s.width,0,0,s.height,r.x,r.y),f=t.worldTransform.copyTo(Ht.TEMP_MATRIX);return f.invert(),c.prepend(f),c.scale(1/a.width,1/a.height),c.translate(t.anchor.x,t.anchor.y),c}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,s=yr.NONE){return this.texturePool.getOptimalTexture(e,t,r,s)}getFilterTexture(e,t,r){if(typeof e=="number"){const a=e;e=t,t=a}e=e||this.activeState.renderTexture;const s=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||yr.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const r=Fd[0],s=Fd[1],a=Fd[2],c=Fd[3];r.set(t.left,t.top),s.set(t.left,t.bottom),a.set(t.right,t.top),c.set(t.right,t.bottom),e.apply(r,r),e.apply(s,s),e.apply(a,a),e.apply(c,c);const f=Math.min(r.x,s.x,a.x,c.x),m=Math.min(r.y,s.y,a.y,c.y),v=Math.max(r.x,s.x,a.x,c.x),b=Math.max(r.y,s.y,a.y,c.y);t.x=f,t.y=m,t.width=v-f,t.height=b-m}roundFrame(e,t,r,s,a){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(a){const{a:c,b:f,c:m,d:v}=a;if((Math.abs(f)>1e-4||Math.abs(m)>1e-4)&&(Math.abs(c)>1e-4||Math.abs(v)>1e-4))return}a=a?Sm.copyFrom(a):Sm.identity(),a.translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.transformAABB(a,e),e.ceil(t),this.transformAABB(a.invert(),e)}}}P_.extension={type:Me.RendererSystem,name:"filter"};Ve.add(P_);class fb{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=yr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const pb=new at;class I_{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new lg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new at,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Oe.PREFER_ENV===Vl.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=s=>t.drawBuffersWEBGL(s):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){const{gl:s}=this;if(e){const a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,s.bindFramebuffer(s.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=r),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let c=0;c<e.colorTextures.length;c++){const f=e.colorTextures[c];this.renderer.texture.unbind(f.parentTextureArray||f)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const c=t.width>>r,f=t.height>>r,m=c/t.width;this.setViewport(t.x*m,t.y*m,c,f)}else{const c=e.width>>r,f=e.height>>r;this.setViewport(0,0,c,f)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,s){const a=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),s=Math.round(s),(a.width!==r||a.height!==s||a.x!==e||a.y!==t)&&(a.x=e,a.y=t,a.width=r,a.height=s,this.gl.viewport(e,t,r,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,s,a=Ym.COLOR|Ym.DEPTH){const{gl:c}=this;c.clearColor(e,t,r,s),c.clear(a)}initFramebuffer(e){const{gl:t}=this,r=new fb(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];if(r.stencil){t.bindRenderbuffer(t.RENDERBUFFER,r.stencil);let c;this.renderer.context.webGLVersion===1?c=t.DEPTH_STENCIL:e.depth&&e.stencil?c=t.DEPTH24_STENCIL8:e.depth?c=t.DEPTH_COMPONENT24:c=t.STENCIL_INDEX8,r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,c,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,c,e.width,e.height)}const s=e.colorTextures;let a=s.length;t.drawBuffers||(a=Math.min(a,1));for(let c=0;c<a;c++){const f=s[c],m=f.parentTextureArray||f;this.renderer.texture.bind(m,0),c===0&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,m._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:r}=this,s=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures;let c=a.length;r.drawBuffers||(c=Math.min(c,1)),s.multisample>1&&this.canMultisampleFramebuffer(e)?s.msaaBuffer=s.msaaBuffer||r.createRenderbuffer():s.msaaBuffer&&(r.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const f=[];for(let m=0;m<c;m++){const v=a[m],b=v.parentTextureArray||v;this.renderer.texture.bind(b,0),m===0&&s.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,s.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,b._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,s.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+m,v.target,b._glTextures[this.CONTEXT_UID].texture,t),f.push(r.COLOR_ATTACHMENT0+m))}if(f.length>1&&r.drawBuffers(f),e.depthTexture&&this.writeDepthTexture){const m=e.depthTexture;this.renderer.texture.bind(m,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,m._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){s.stencil=s.stencil||r.createRenderbuffer();let m,v;this.renderer.context.webGLVersion===1?(m=r.DEPTH_STENCIL_ATTACHMENT,v=r.DEPTH_STENCIL):e.depth&&e.stencil?(m=r.DEPTH_STENCIL_ATTACHMENT,v=r.DEPTH24_STENCIL8):e.depth?(m=r.DEPTH_ATTACHMENT,v=r.DEPTH_COMPONENT24):(m=r.STENCIL_ATTACHMENT,v=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,s.stencil),s.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,v,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,v,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,m,r.RENDERBUFFER,s.stencil)}else s.stencil&&(r.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let r=yr.NONE;if(e<=1||t===null)return r;for(let s=0;s<t.length;s++)if(t[s]<=e){r=t[s];break}return r===1&&(r=yr.NONE),r}blit(e,t,r){const{current:s,renderer:a,gl:c,CONTEXT_UID:f}=this;if(a.context.webGLVersion!==2||!s)return;const m=s.glFramebuffers[f];if(!m)return;if(!e){if(!m.msaaBuffer)return;const b=s.colorTextures[0];if(!b)return;m.blitFramebuffer||(m.blitFramebuffer=new lg(s.width,s.height),m.blitFramebuffer.addColorTexture(0,b)),e=m.blitFramebuffer,e.colorTextures[0]!==b&&(e.colorTextures[0]=b,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}t||(t=pb,t.width=s.width,t.height=s.height),r||(r=t);const v=t.width===r.width&&t.height===r.height;this.bind(e),c.bindFramebuffer(c.READ_FRAMEBUFFER,m.framebuffer),c.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,c.COLOR_BUFFER_BIT,v?c.NEAREST:c.LINEAR),c.bindFramebuffer(c.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const r=e.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),t||(s.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&s.deleteRenderbuffer(r.msaaBuffer),r.stencil&&s.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const r=e.width,s=e.height,a=this.gl,c=t.stencil=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,c);let f,m;this.renderer.context.webGLVersion===1?(f=a.DEPTH_STENCIL_ATTACHMENT,m=a.DEPTH_STENCIL):e.depth?(f=a.DEPTH_STENCIL_ATTACHMENT,m=a.DEPTH24_STENCIL8):(f=a.STENCIL_ATTACHMENT,m=a.STENCIL_INDEX8),t.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,t.multisample,m,r,s):a.renderbufferStorage(a.RENDERBUFFER,m,r,s),a.framebufferRenderbuffer(a.FRAMEBUFFER,f,a.RENDERBUFFER,c)}reset(){this.current=this.unknownFramebuffer,this.viewport=new at}destroy(){this.renderer=null}}I_.extension={type:Me.RendererSystem,name:"framebuffer"};Ve.add(I_);const Tm={5126:4,5123:2,5121:1};class R_{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;Oe.PREFER_ENV===Vl.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=s=>r.bindVertexArrayOES(s),e.deleteVertexArray=s=>r.deleteVertexArrayOES(s)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(s,a)=>r.vertexAttribDivisorANGLE(s,a),e.drawElementsInstanced=(s,a,c,f,m)=>r.drawElementsInstancedANGLE(s,a,c,f,m),e.drawArraysInstanced=(s,a,c,f)=>r.drawArraysInstancedANGLE(s,a,c,f)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:r}=this;let s=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;s||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},a=!0);const c=s[t.program.id]||this.initGeometryVao(e,t,a);this._activeGeometry=e,this._activeVao!==c&&(this._activeVao=c,this.hasVao?r.bindVertexArray(c):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const s=e.buffers[r];t.update(s)}}checkCompatibility(e,t){const r=e.attributes,s=t.attributeData;for(const a in s)if(!r[a])throw new Error(`shader and geometry incompatible, geometry missing the "${a}" attribute`)}getSignature(e,t){const r=e.attributes,s=t.attributeData,a=["g",e.id];for(const c in r)s[c]&&a.push(c,s[c].location);return a.join("-")}initGeometryVao(e,t,r=!0){const s=this.gl,a=this.CONTEXT_UID,c=this.renderer.buffer,f=t.program;f.glPrograms[a]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,f);const m=this.getSignature(e,f),v=e.glVertexArrayObjects[this.CONTEXT_UID];let b=v[m];if(b)return v[f.id]=b,b;const d=e.buffers,y=e.attributes,_={},T={};for(const C in d)_[C]=0,T[C]=0;for(const C in y)!y[C].size&&f.attributeData[C]?y[C].size=f.attributeData[C].size:y[C].size||console.warn(`PIXI Geometry attribute '${C}' size cannot be determined (likely the bound shader does not have the attribute)`),_[y[C].buffer]+=y[C].size*Tm[y[C].type];for(const C in y){const A=y[C],P=A.size;A.stride===void 0&&(_[A.buffer]===P*Tm[A.type]?A.stride=0:A.stride=_[A.buffer]),A.start===void 0&&(A.start=T[A.buffer],T[A.buffer]+=P*Tm[A.type])}b=s.createVertexArray(),s.bindVertexArray(b);for(let C=0;C<d.length;C++){const A=d[C];c.bind(A),r&&A._glBuffers[a].refCount++}return this.activateVao(e,f),v[f.id]=b,v[m]=b,s.bindVertexArray(null),c.unbind(Ps.ARRAY_BUFFER),b}disposeGeometry(e,t){var f;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,a=e.buffers,c=(f=this.renderer)==null?void 0:f.buffer;if(e.disposeRunner.remove(this),!!r){if(c)for(let m=0;m<a.length;m++){const v=a[m]._glBuffers[this.CONTEXT_UID];v&&(v.refCount--,v.refCount===0&&!t&&c.dispose(a[m],t))}if(!t){for(const m in r)if(m[0]==="g"){const v=r[m];this._activeVao===v&&this.unbind(),s.deleteVertexArray(v)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){const r=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,c=e.buffers,f=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);let m=null;for(const v in f){const b=f[v],d=c[b.buffer],y=d._glBuffers[s];if(t.attributeData[v]){m!==y&&(a.bind(d),m=y);const _=t.attributeData[v].location;if(r.enableVertexAttribArray(_),r.vertexAttribPointer(_,b.size,b.type||r.FLOAT,b.normalized,b.stride,b.start),b.instance)if(this.hasInstance)r.vertexAttribDivisor(_,b.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,r,s){const{gl:a}=this,c=this._activeGeometry;if(c.indexBuffer){const f=c.indexBuffer.data.BYTES_PER_ELEMENT,m=f===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;f===2||f===4&&this.canUseUInt32ElementIndex?c.instanced?a.drawElementsInstanced(e,t||c.indexBuffer.data.length,m,(r||0)*f,s||1):a.drawElements(e,t||c.indexBuffer.data.length,m,(r||0)*f):console.warn("unsupported index buffer type: uint32")}else c.instanced?a.drawArraysInstanced(e,r,t||c.getSize(),s||1):a.drawArrays(e,r,t||c.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}R_.extension={type:Me.RendererSystem,name:"geometry"};Ve.add(R_);const ov=new Ht;class jg{constructor(e,t){this._texture=e,this.mapCoord=new Ht,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const r=this.mapCoord;for(let s=0;s<e.length;s+=2){const a=e[s],c=e[s+1];t[s]=a*r.a+c*r.c+r.tx,t[s+1]=a*r.b+c*r.d+r.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const s=t.orig,a=t.trim;a&&(ov.set(s.width/a.width,0,0,s.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(ov));const c=t.baseTexture,f=this.uClampFrame,m=this.clampMargin/c.resolution,v=this.clampOffset;return f[0]=(t._frame.x+m+v)/c.width,f[1]=(t._frame.y+m+v)/c.height,f[2]=(t._frame.x+t._frame.width-m+v)/c.width,f[3]=(t._frame.y+t._frame.height-m+v)/c.height,this.uClampOffset[0]=v/c.realWidth,this.uClampOffset[1]=v/c.realHeight,this.isSimple=t._frame.width===c.width&&t._frame.height===c.height&&t.rotate===0,!0}}var mb=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,gb=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class yb extends fn{constructor(e,t,r){let s=null;typeof e!="string"&&t===void 0&&r===void 0&&(s=e,e=void 0,t=void 0,r=void 0),super(e||gb,t||mb,r),this.maskSprite=s,this.maskMatrix=new Ht}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,s){const a=this._maskSprite,c=a._texture;c.valid&&(c.uvMatrix||(c.uvMatrix=new jg(c,0)),c.uvMatrix.update(),this.uniforms.npmAlpha=c.baseTexture.alphaMode?0:1,this.uniforms.mask=c,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,a).prepend(c.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=c.uvMatrix.uClampFrame,e.applyFilter(this,t,r,s))}}class vb{constructor(e=null){this.type=Er.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=fn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Er.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class k_{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){const a=this.maskDataPool.pop()||new vb;a.pooled=!0,a.maskObject=t,r=a}const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(s),r._colorMask=s?s._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==Er.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Er.SCISSOR:this.renderer.scissor.push(r);break;case Er.STENCIL:this.renderer.stencil.push(r);break;case Er.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Er.COLOR:this.pushColorMask(r);break}r.type===Er.SPRITE&&this.maskStack.push(r)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case Er.SCISSOR:this.renderer.scissor.pop(t);break;case Er.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case Er.SPRITE:this.popSpriteMask(t);break;case Er.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===Er.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=Er.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Er.SCISSOR:e.type=Er.STENCIL:e.type=Er.COLOR}pushSpriteMask(e){const{maskObject:t}=e,r=e._target;let s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new yb])),s[0].resolution=e.resolution,s[0].multisample=e.multisample,s[0].maskSprite=t;const a=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,s),r.filterArea=a,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}k_.extension={type:Me.RendererSystem,name:"mask"};Ve.add(k_);class M_{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;const s=this.getStackLength();s!==r&&(s===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const av=new Ht,lv=[],D_=class Jd extends M_{constructor(e){super(e),this.glConst=Oe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:r}=e,{renderer:s}=this,a=s.renderTexture,c=r.getBounds(!0,lv.pop()??new at);this.roundFrameToPixels(c,a.current?a.current.resolution:s.resolution,a.sourceFrame,a.destinationFrame,s.projection.transform),t&&c.fit(t),e._scissorRectLocal=c}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:r,c:s,d:a}=e;return(Math.abs(r)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(a)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||Jd.isMatrixRotated(t.worldTransform)||Jd.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const r=e._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(e,t,r,s,a){Jd.isMatrixRotated(a)||(a=a?av.copyFrom(a):av.identity(),a.translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.renderer.filter.transformAABB(a,e),e.fit(s),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&lv.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};D_.extension={type:Me.RendererSystem,name:"scissor"};let _b=D_;Ve.add(_b);class N_ extends M_{constructor(e){super(e),this.glConst=Oe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:r}=this.renderer,s=e._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const a=e._colorMask;a!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,s,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,a!==0&&(e._colorMask=a,r.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=r?r._colorMask:15;s!==0&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(r._colorMask=s,t.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}N_.extension={type:Me.RendererSystem,name:"stencil"};Ve.add(N_);class F_{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return ct("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return ct("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return ct("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}F_.extension={type:[Me.RendererSystem,Me.CanvasRendererSystem],name:"_plugin"};Ve.add(F_);class O_{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ht,this.transform=null}update(e,t,r,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,s),this.transform&&this.projectionMatrix.append(this.transform);const a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)}calculateProjection(e,t,r,s){const a=this.projectionMatrix,c=s?-1:1;a.identity(),a.a=1/t.width*2,a.d=c*(1/t.height*2),a.tx=-1-t.x*a.a,a.ty=-c-t.y*a.d}setTransform(e){}destroy(){this.renderer=null}}O_.extension={type:Me.RendererSystem,name:"projection"};Ve.add(O_);const xb=new kf,uv=new at;class B_{constructor(e){this.renderer=e,this._tempMatrix=new Ht}generateTexture(e,t){const{region:r,...s}=t||{},a=(r==null?void 0:r.copyTo(uv))||e.getLocalBounds(uv,!0),c=s.resolution||this.renderer.resolution;a.width=Math.max(a.width,1/c),a.height=Math.max(a.height,1/c),s.width=a.width,s.height=a.height,s.resolution=c,s.multisample??(s.multisample=this.renderer.multisample);const f=Wl.create(s);this._tempMatrix.tx=-a.x,this._tempMatrix.ty=-a.y;const m=e.transform;return e.transform=xb,this.renderer.render(e,{renderTexture:f,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=m,f}destroy(){}}B_.extension={type:[Me.RendererSystem,Me.CanvasRendererSystem],name:"textureGenerator"};Ve.add(B_);const Rl=new at,dc=new at;class L_{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new at,this.destinationFrame=new at,this.viewportFrame=new at}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,r){const s=this.renderer;this.current=e;let a,c,f;e?(a=e.baseTexture,f=a.resolution,t||(Rl.width=e.frame.width,Rl.height=e.frame.height,t=Rl),r||(dc.x=e.frame.x,dc.y=e.frame.y,dc.width=t.width,dc.height=t.height,r=dc),c=a.framebuffer):(f=s.resolution,t||(Rl.width=s._view.screen.width,Rl.height=s._view.screen.height,t=Rl),r||(r=Rl,r.width=t.width,r.height=t.height));const m=this.viewportFrame;m.x=r.x*f,m.y=r.y*f,m.width=r.width*f,m.height=r.height*f,e||(m.y=s.view.height-(m.y+m.height)),m.ceil(),this.renderer.framebuffer.bind(c,m),this.renderer.projection.update(r,t,f,!c),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=Ut.shared.setValue(e||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);const a=this.destinationFrame,c=this.current?this.current.baseTexture:this.renderer._view.screen,f=a.width!==c.width||a.height!==c.height;if(f){let{x:m,y:v,width:b,height:d}=this.viewportFrame;m=Math.round(m),v=Math.round(v),b=Math.round(b),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(m,v,b,d)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,t),f&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}L_.extension={type:Me.RendererSystem,name:"renderTexture"};Ve.add(L_);class wb{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function bb(n,e){const t={},r=e.getProgramParameter(n,e.ACTIVE_ATTRIBUTES);for(let s=0;s<r;s++){const a=e.getActiveAttrib(n,s);if(a.name.startsWith("gl_"))continue;const c=b_(e,a.type),f={type:c,name:a.name,size:w_(c),location:e.getAttribLocation(n,a.name)};t[a.name]=f}return t}function Eb(n,e){const t={},r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<r;s++){const a=e.getActiveUniform(n,s),c=a.name.replace(/\[.*?\]$/,""),f=!!a.name.match(/\[.*?\]$/),m=b_(e,a.type);t[c]={name:c,index:s,type:m,size:a.size,isArray:f,value:__(m,a.size)}}return t}function Sb(n,e){var f;const t=ev(n,n.VERTEX_SHADER,e.vertexSrc),r=ev(n,n.FRAGMENT_SHADER,e.fragmentSrc),s=n.createProgram();n.attachShader(s,t),n.attachShader(s,r);const a=(f=e.extra)==null?void 0:f.transformFeedbackVaryings;if(a&&(typeof n.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):n.transformFeedbackVaryings(s,a.names,a.bufferMode==="separate"?n.SEPARATE_ATTRIBS:n.INTERLEAVED_ATTRIBS)),n.linkProgram(s),n.getProgramParameter(s,n.LINK_STATUS)||Jw(n,s,t,r),e.attributeData=bb(s,n),e.uniformData=Eb(s,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const m=Object.keys(e.attributeData);m.sort((v,b)=>v>b?1:-1);for(let v=0;v<m.length;v++)e.attributeData[m[v]].location=v,n.bindAttribLocation(s,v,m[v]);n.linkProgram(s)}n.deleteShader(t),n.deleteShader(r);const c={};for(const m in e.uniformData){const v=e.uniformData[m];c[m]={location:n.getUniformLocation(s,m),value:__(v.type,v.size)}}return new wb(s,c)}function Tb(n,e,t,r,s){t.buffer.update(s)}const Ab={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},U_={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Cb(n){const e=n.map(a=>({data:a,offset:0,dataLen:0,dirty:0}));let t=0,r=0,s=0;for(let a=0;a<e.length;a++){const c=e[a];if(t=U_[c.data.type],c.data.size>1&&(t=Math.max(t,16)*c.data.size),c.dataLen=t,r%t!==0&&r<16){const f=r%t%16;r+=f,s+=f}r+t>16?(s=Math.ceil(s/16)*16,c.offset=s,s+=t,r=t):(c.offset=s,r+=t,s+=t)}return s=Math.ceil(s/16)*16,{uboElements:e,size:s}}function Pb(n,e){const t=[];for(const r in n)e[r]&&t.push(e[r]);return t.sort((r,s)=>r.index-s.index),t}function Ib(n,e){if(!n.autoManage)return{size:0,syncFunc:Tb};const t=Pb(n.uniforms,e),{uboElements:r,size:s}=Cb(t),a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let c=0;c<r.length;c++){const f=r[c],m=n.uniforms[f.data.name],v=f.data.name;let b=!1;for(let d=0;d<nh.length;d++){const y=nh[d];if(y.codeUbo&&y.test(f.data,m)){a.push(`offset = ${f.offset/4};`,nh[d].codeUbo(f.data.name,m)),b=!0;break}}if(!b)if(f.data.size>1){const d=w_(f.data.type),y=Math.max(U_[f.data.type]/16,1),_=d/y,T=(4-_%4)%4;a.push(`
                cv = ud.${v}.value;
                v = uv.${v};
                offset = ${f.offset/4};

                t = 0;

                for(var i=0; i < ${f.data.size*y}; i++)
                {
                    for(var j = 0; j < ${_}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${T};
                }

                `)}else{const d=Ab[f.data.type];a.push(`
                cv = ud.${v}.value;
                v = uv.${v};
                offset = ${f.offset/4};
                ${d};
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}let Rb=0;const Od={textureCount:0,uboCount:0};class G_{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Rb++}systemCheck(){if(!tb())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,s=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(s.program)),t||(Od.textureCount=0,Od.uboCount=0,this.syncUniformGroup(e.uniformGroup,Od)),s}setUniforms(e){const t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=Qw(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const s=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),s(r.uniformData,e.uniforms,this.renderer,Od,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){const{gl:s}=this.renderer;this.renderer.buffer.bind(e.buffer);const a=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,s.uniformBlockBinding(t.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;const c=this.getSignature(e,this.shader.program.uniformData,"ubo");let f=this._uboCache[c];if(f||(f=this._uboCache[c]=Ib(e,this.shader.program.uniformData)),e.autoManage){const m=new Float32Array(f.size/4);e.buffer.update(m)}return t.uniformGroups[e.id]=f.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){const s=e.uniforms,a=[`${r}-`];for(const c in s)a.push(c),t[c]&&a.push(t[c].type);return a.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,r=e.program,s=Sb(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}G_.extension={type:Me.RendererSystem,name:"shader"};Ve.add(G_);class df{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.2 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}df.defaultOptions={hello:!1},df.extension={type:[Me.RendererSystem,Me.CanvasRendererSystem],name:"startup"};Ve.add(df);function kb(n,e=[]){return e[et.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.ADD]=[n.ONE,n.ONE],e[et.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.NONE]=[0,0],e[et.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],e[et.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[et.SRC_IN]=[n.DST_ALPHA,n.ZERO],e[et.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],e[et.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[et.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],e[et.DST_IN]=[n.ZERO,n.SRC_ALPHA],e[et.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],e[et.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],e[et.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[et.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],e}const Mb=0,Db=1,Nb=2,Fb=3,Ob=4,Bb=5,H_=class ug{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=et.NONE,this._blendEq=!1,this.map=[],this.map[Mb]=this.setBlend,this.map[Db]=this.setOffset,this.map[Nb]=this.setCullFace,this.map[Fb]=this.setDepthTest,this.map[Ob]=this.setFrontFace,this.map[Bb]=this.setDepthMask,this.checks=[],this.defaultState=new Ns,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=kb(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)t&1&&this.map[r].call(this,!!(e.data&1<<r)),t=t>>1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(ug.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(ug.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],r=this.gl;t.length===2?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const r=this.checks.indexOf(e);t&&r===-1?this.checks.push(e):!t&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};H_.extension={type:Me.RendererSystem,name:"state"};let Lb=H_;Ve.add(Lb);class Ub extends Mc{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(s=>e.systems[s]),r=[...t,...Object.keys(e.systems).filter(s=>!t.includes(s))];for(const s of r)this.addSystem(e.systems[s],s)}addRunners(...e){e.forEach(t=>{this.runners[t]=new $i(t)})}addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const s in this.runners)this.runners[s].add(r);return this}emitWithCustomOptions(e,t){const r=Object.keys(this._systemsHash);e.items.forEach(s=>{const a=r.find(c=>this._systemsHash[c]===s);s[e.name](t[a])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const vc=class ef{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=ef.defaultMaxIdle,this.checkCountMax=ef.defaultCheckCountMax,this.mode=ef.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Ug.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let r=!1;for(let s=0;s<t.length;s++){const a=t[s];a.resource&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),t[s]=null,r=!0)}if(r){let s=0;for(let a=0;a<t.length;a++)t[a]!==null&&(t[s++]=t[a]);t.length=s}}unload(e){const t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let s=e.children.length-1;s>=0;s--)this.unload(e.children[s])}destroy(){this.renderer=null}};vc.defaultMode=Ug.AUTO,vc.defaultMaxIdle=60*60,vc.defaultCheckCountMax=60*10,vc.extension={type:Me.RendererSystem,name:"textureGC"};let Ll=vc;Ve.add(Ll);class Am{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ye.UNSIGNED_BYTE,this.internalFormat=Pe.RGBA,this.samplerType=0}}function Gb(n){let e;return"WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?e={[n.RGB]:Fe.FLOAT,[n.RGBA]:Fe.FLOAT,[n.ALPHA]:Fe.FLOAT,[n.LUMINANCE]:Fe.FLOAT,[n.LUMINANCE_ALPHA]:Fe.FLOAT,[n.R8]:Fe.FLOAT,[n.R8_SNORM]:Fe.FLOAT,[n.RG8]:Fe.FLOAT,[n.RG8_SNORM]:Fe.FLOAT,[n.RGB8]:Fe.FLOAT,[n.RGB8_SNORM]:Fe.FLOAT,[n.RGB565]:Fe.FLOAT,[n.RGBA4]:Fe.FLOAT,[n.RGB5_A1]:Fe.FLOAT,[n.RGBA8]:Fe.FLOAT,[n.RGBA8_SNORM]:Fe.FLOAT,[n.RGB10_A2]:Fe.FLOAT,[n.RGB10_A2UI]:Fe.FLOAT,[n.SRGB8]:Fe.FLOAT,[n.SRGB8_ALPHA8]:Fe.FLOAT,[n.R16F]:Fe.FLOAT,[n.RG16F]:Fe.FLOAT,[n.RGB16F]:Fe.FLOAT,[n.RGBA16F]:Fe.FLOAT,[n.R32F]:Fe.FLOAT,[n.RG32F]:Fe.FLOAT,[n.RGB32F]:Fe.FLOAT,[n.RGBA32F]:Fe.FLOAT,[n.R11F_G11F_B10F]:Fe.FLOAT,[n.RGB9_E5]:Fe.FLOAT,[n.R8I]:Fe.INT,[n.R8UI]:Fe.UINT,[n.R16I]:Fe.INT,[n.R16UI]:Fe.UINT,[n.R32I]:Fe.INT,[n.R32UI]:Fe.UINT,[n.RG8I]:Fe.INT,[n.RG8UI]:Fe.UINT,[n.RG16I]:Fe.INT,[n.RG16UI]:Fe.UINT,[n.RG32I]:Fe.INT,[n.RG32UI]:Fe.UINT,[n.RGB8I]:Fe.INT,[n.RGB8UI]:Fe.UINT,[n.RGB16I]:Fe.INT,[n.RGB16UI]:Fe.UINT,[n.RGB32I]:Fe.INT,[n.RGB32UI]:Fe.UINT,[n.RGBA8I]:Fe.INT,[n.RGBA8UI]:Fe.UINT,[n.RGBA16I]:Fe.INT,[n.RGBA16UI]:Fe.UINT,[n.RGBA32I]:Fe.INT,[n.RGBA32UI]:Fe.UINT,[n.DEPTH_COMPONENT16]:Fe.FLOAT,[n.DEPTH_COMPONENT24]:Fe.FLOAT,[n.DEPTH_COMPONENT32F]:Fe.FLOAT,[n.DEPTH_STENCIL]:Fe.FLOAT,[n.DEPTH24_STENCIL8]:Fe.FLOAT,[n.DEPTH32F_STENCIL8]:Fe.FLOAT}:e={[n.RGB]:Fe.FLOAT,[n.RGBA]:Fe.FLOAT,[n.ALPHA]:Fe.FLOAT,[n.LUMINANCE]:Fe.FLOAT,[n.LUMINANCE_ALPHA]:Fe.FLOAT,[n.DEPTH_STENCIL]:Fe.FLOAT},e}function Hb(n){let e;return"WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?e={[Ye.UNSIGNED_BYTE]:{[Pe.RGBA]:n.RGBA8,[Pe.RGB]:n.RGB8,[Pe.RG]:n.RG8,[Pe.RED]:n.R8,[Pe.RGBA_INTEGER]:n.RGBA8UI,[Pe.RGB_INTEGER]:n.RGB8UI,[Pe.RG_INTEGER]:n.RG8UI,[Pe.RED_INTEGER]:n.R8UI,[Pe.ALPHA]:n.ALPHA,[Pe.LUMINANCE]:n.LUMINANCE,[Pe.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[Ye.BYTE]:{[Pe.RGBA]:n.RGBA8_SNORM,[Pe.RGB]:n.RGB8_SNORM,[Pe.RG]:n.RG8_SNORM,[Pe.RED]:n.R8_SNORM,[Pe.RGBA_INTEGER]:n.RGBA8I,[Pe.RGB_INTEGER]:n.RGB8I,[Pe.RG_INTEGER]:n.RG8I,[Pe.RED_INTEGER]:n.R8I},[Ye.UNSIGNED_SHORT]:{[Pe.RGBA_INTEGER]:n.RGBA16UI,[Pe.RGB_INTEGER]:n.RGB16UI,[Pe.RG_INTEGER]:n.RG16UI,[Pe.RED_INTEGER]:n.R16UI,[Pe.DEPTH_COMPONENT]:n.DEPTH_COMPONENT16},[Ye.SHORT]:{[Pe.RGBA_INTEGER]:n.RGBA16I,[Pe.RGB_INTEGER]:n.RGB16I,[Pe.RG_INTEGER]:n.RG16I,[Pe.RED_INTEGER]:n.R16I},[Ye.UNSIGNED_INT]:{[Pe.RGBA_INTEGER]:n.RGBA32UI,[Pe.RGB_INTEGER]:n.RGB32UI,[Pe.RG_INTEGER]:n.RG32UI,[Pe.RED_INTEGER]:n.R32UI,[Pe.DEPTH_COMPONENT]:n.DEPTH_COMPONENT24},[Ye.INT]:{[Pe.RGBA_INTEGER]:n.RGBA32I,[Pe.RGB_INTEGER]:n.RGB32I,[Pe.RG_INTEGER]:n.RG32I,[Pe.RED_INTEGER]:n.R32I},[Ye.FLOAT]:{[Pe.RGBA]:n.RGBA32F,[Pe.RGB]:n.RGB32F,[Pe.RG]:n.RG32F,[Pe.RED]:n.R32F,[Pe.DEPTH_COMPONENT]:n.DEPTH_COMPONENT32F},[Ye.HALF_FLOAT]:{[Pe.RGBA]:n.RGBA16F,[Pe.RGB]:n.RGB16F,[Pe.RG]:n.RG16F,[Pe.RED]:n.R16F},[Ye.UNSIGNED_SHORT_5_6_5]:{[Pe.RGB]:n.RGB565},[Ye.UNSIGNED_SHORT_4_4_4_4]:{[Pe.RGBA]:n.RGBA4},[Ye.UNSIGNED_SHORT_5_5_5_1]:{[Pe.RGBA]:n.RGB5_A1},[Ye.UNSIGNED_INT_2_10_10_10_REV]:{[Pe.RGBA]:n.RGB10_A2,[Pe.RGBA_INTEGER]:n.RGB10_A2UI},[Ye.UNSIGNED_INT_10F_11F_11F_REV]:{[Pe.RGB]:n.R11F_G11F_B10F},[Ye.UNSIGNED_INT_5_9_9_9_REV]:{[Pe.RGB]:n.RGB9_E5},[Ye.UNSIGNED_INT_24_8]:{[Pe.DEPTH_STENCIL]:n.DEPTH24_STENCIL8},[Ye.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Pe.DEPTH_STENCIL]:n.DEPTH32F_STENCIL8}}:e={[Ye.UNSIGNED_BYTE]:{[Pe.RGBA]:n.RGBA,[Pe.RGB]:n.RGB,[Pe.ALPHA]:n.ALPHA,[Pe.LUMINANCE]:n.LUMINANCE,[Pe.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[Ye.UNSIGNED_SHORT_5_6_5]:{[Pe.RGB]:n.RGB},[Ye.UNSIGNED_SHORT_4_4_4_4]:{[Pe.RGBA]:n.RGBA},[Ye.UNSIGNED_SHORT_5_5_5_1]:{[Pe.RGBA]:n.RGBA}},e}class z_{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new st,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Hb(e),this.samplerTypes=Gb(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let s=0;s<t;s++)this.boundTextures[s]=null;this.emptyTextures={};const r=new Am(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Am(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let s=0;s<6;s++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(e,t=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const s=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,s.texture)),s.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):s.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<r.length;s++)r[s]===this.unknownTexture&&this.bind(null,s)}for(let s=0;s<r.length;s++)r[s]===e&&(this.currentLocation!==s&&(t.activeTexture(t.TEXTURE0+s),this.currentLocation=s),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[s]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:s}=this;if(r)for(let a=e-1;a>=0;--a){const c=t[a];c&&c._glTextures[s].samplerType!==Fe.FLOAT&&this.renderer.texture.unbind(c)}}initTexture(e){const t=new Am(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var r;t.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??Fe.FLOAT,this.webGLVersion===2&&e.type===Ye.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var s;const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const r=this.renderer;if(this.initTextureType(e,t),(s=e.resource)==null?void 0:s.upload(r,e,t))t.samplerType!==Fe.FLOAT&&(this.hasIntegerTextures=!0);else{const a=e.realWidth,c=e.realHeight,f=r.gl;(t.width!==a||t.height!==c||t.dirtyId<0)&&(t.width=a,t.height=c,f.texImage2D(e.target,0,t.internalFormat,a,c,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const s=this.managedTextures.indexOf(e);s!==-1&&rh(this.managedTextures,s,1)}}updateTextureStyle(e){var r;const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===Rs.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=wo.CLAMP:t.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const r=this.gl;if(t.mipmap&&e.mipmap!==Rs.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===As.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const s=this.renderer.context.extensions.anisotropicFiltering;if(s&&e.anisotropicLevel>0&&e.scaleMode===As.LINEAR){const a=Math.min(e.anisotropicLevel,r.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,s.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===As.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===As.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}z_.extension={type:Me.RendererSystem,name:"texture"};Ve.add(z_);class j_{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:r,renderer:s}=this;t&&s.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:r,CONTEXT_UID:s}=this,a=t.createTransformFeedback();e._glTransformFeedbacks[s]=a,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,a);for(let c=0;c<e.buffers.length;c++){const f=e.buffers[c];f&&(r.buffer.update(f),f._glBuffers[s].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,c,f._glBuffers[s].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),a}disposeTransformFeedback(e,t){const r=e._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this);const a=this.renderer.buffer;if(a)for(let c=0;c<e.buffers.length;c++){const f=e.buffers[c];if(!f)continue;const m=f._glBuffers[this.CONTEXT_UID];m&&(m.refCount--,m.refCount===0&&!t&&a.dispose(f,t))}r&&(t||s.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}j_.extension={type:Me.RendererSystem,name:"transformFeedback"};Ve.add(j_);class ff{constructor(e){this.renderer=e}init(e){this.screen=new at(0,0,e.width,e.height),this.element=e.view||Oe.ADAPTER.createCanvas(),this.resolution=e.resolution||Oe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const r=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=r,this.screen.height=s,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${s}px`),this.renderer.emit("resize",r,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&((t=this.element.parentNode)==null||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}ff.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},ff.extension={type:[Me.RendererSystem,Me.CanvasRendererSystem],name:"_view"};Ve.add(ff);Oe.PREFER_ENV=Vl.WEBGL2;Oe.STRICT_TEXTURE_CACHE=!1;Oe.RENDER_OPTIONS={...cf.defaultOptions,...hf.defaultOptions,...ff.defaultOptions,...df.defaultOptions};Object.defineProperties(Oe,{WRAP_MODE:{get(){return st.defaultOptions.wrapMode},set(n){ct("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),st.defaultOptions.wrapMode=n}},SCALE_MODE:{get(){return st.defaultOptions.scaleMode},set(n){ct("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),st.defaultOptions.scaleMode=n}},MIPMAP_TEXTURES:{get(){return st.defaultOptions.mipmap},set(n){ct("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),st.defaultOptions.mipmap=n}},ANISOTROPIC_LEVEL:{get(){return st.defaultOptions.anisotropicLevel},set(n){ct("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),st.defaultOptions.anisotropicLevel=n}},FILTER_RESOLUTION:{get(){return ct("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),fn.defaultResolution},set(n){fn.defaultResolution=n}},FILTER_MULTISAMPLE:{get(){return ct("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),fn.defaultMultisample},set(n){fn.defaultMultisample=n}},SPRITE_MAX_TEXTURES:{get(){return Bl.defaultMaxTextures},set(n){ct("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Bl.defaultMaxTextures=n}},SPRITE_BATCH_SIZE:{get(){return Bl.defaultBatchSize},set(n){ct("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Bl.defaultBatchSize=n}},CAN_UPLOAD_SAME_BUFFER:{get(){return Bl.canUploadSameBuffer},set(n){ct("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Bl.canUploadSameBuffer=n}},GC_MODE:{get(){return Ll.defaultMode},set(n){ct("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Ll.defaultMode=n}},GC_MAX_IDLE:{get(){return Ll.defaultMaxIdle},set(n){ct("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Ll.defaultMaxIdle=n}},GC_MAX_CHECK_COUNT:{get(){return Ll.defaultCheckCountMax},set(n){ct("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Ll.defaultCheckCountMax=n}},PRECISION_VERTEX:{get(){return _o.defaultVertexPrecision},set(n){ct("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),_o.defaultVertexPrecision=n}},PRECISION_FRAGMENT:{get(){return _o.defaultFragmentPrecision},set(n){ct("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),_o.defaultFragmentPrecision=n}}});var Aa=(n=>(n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(Aa||{});class Cm{constructor(e,t=null,r=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=s}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const V_=class Zn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Cm(null,null,1/0),this.deltaMS=1/Zn.targetFPMS,this.elapsedMS=1/Zn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=Aa.NORMAL){return this._addListener(new Cm(e,t,r))}addOnce(e,t,r=Aa.NORMAL){return this._addListener(new Cm(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r.match(e,t)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Zn.targetFPMS;const r=this._head;let s=r.next;for(;s;)s=s.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,Zn.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Zn._shared){const e=Zn._shared=new Zn;e.autoStart=!0,e._protected=!0}return Zn._shared}static get system(){if(!Zn._system){const e=Zn._system=new Zn;e.autoStart=!0,e._protected=!0}return Zn._system}};V_.targetFPMS=.06;let Sr=V_;Object.defineProperties(Oe,{TARGET_FPMS:{get(){return Sr.targetFPMS},set(n){ct("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Sr.targetFPMS=n}}});class W_{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Aa.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Sr.shared:new Sr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}W_.extension=Me.Application;Ve.add(W_);const $_=[];Ve.handleByList(Me.Renderer,$_);function zb(n){for(const e of $_)if(e.test(n))return new e(n);throw new Error("Unable to auto-detect a suitable renderer.")}var jb=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Vb=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Wb=jb,X_=Vb;class Y_{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=yr.HIGH?this.multisample=yr.HIGH:t>=yr.MEDIUM?this.multisample=yr.MEDIUM:t>=yr.LOW?this.multisample=yr.LOW:this.multisample=yr.NONE}destroy(){}}Y_.extension={type:Me.RendererSystem,name:"_multisample"};Ve.add(Y_);class $b{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class q_{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,s.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:r,CONTEXT_UID:s}=this;if(this.boundBufferBases[t]!==e){const a=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,a.buffer)}}bindBufferRange(e,t,r){const{gl:s,CONTEXT_UID:a}=this;r=r||0;const c=e._glBuffers[a]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,t||0,c.buffer,r*256,256)}update(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==s.updateID)if(s.updateID=e._updateID,t.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const a=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,a)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this),r&&(t||s.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new $b(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}q_.extension={type:Me.RendererSystem,name:"buffer"};Ve.add(q_);class Q_{constructor(e){this.renderer=e}render(e,t){const r=this.renderer;let s,a,c,f;if(t&&(s=t.renderTexture,a=t.clear,c=t.transform,f=t.skipUpdateTransform),this.renderingToScreen=!s,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=c,!r.context.isLost){if(s||(this.lastObjectRendered=e),!f){const m=e.enableTempParent();e.updateTransform(),e.disableTempParent(m)}r.renderTexture.bind(s),r.batch.currentRenderer.start(),(a??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),s&&(t.blit&&r.framebuffer.blit(),s.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Q_.extension={type:Me.RendererSystem,name:"objectRenderer"};Ve.add(Q_);const tf=class hg extends Ub{constructor(e){super(),this.type=n_.WEBGL,e=Object.assign({},Oe.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Xi({projectionMatrix:new Ht},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:hg.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(ct("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=hg.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:mw()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return ct("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return ct("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return ct("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return ct("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){ct("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return ct("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){ct("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return ct("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};tf.extension={type:Me.Renderer,priority:1},tf.__plugins={},tf.__systems={};let Vg=tf;Ve.handleByMap(Me.RendererPlugin,Vg.__plugins);Ve.handleByMap(Me.RendererSystem,Vg.__systems);Ve.add(Vg);class K_ extends Cc{constructor(e,t){const{width:r,height:s}=t||{};super(r,s),this.items=[],this.itemDirtyIds=[];for(let a=0;a<e;a++){const c=new st;this.items.push(c),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof Cc?this.addResourceAt(e[r],r):this.addResourceAt(g_(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:r}=this.items[0];return this.resize(t,r),this.update(),Promise.resolve(this)}),this._load}}class Xb extends K_{constructor(e,t){const{width:r,height:s}=t||{};let a,c;Array.isArray(e)?(a=e,c=e.length):c=e,super(c,{width:r,height:s}),a&&this.initFromArray(a,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=th.TEXTURE_2D_ARRAY}upload(e,t,r){const{length:s,itemDirtyIds:a,items:c}=this,{gl:f}=e;r.dirtyId<0&&f.texImage3D(f.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,t.format,r.type,null);for(let m=0;m<s;m++){const v=c[m];a[m]<v.dirtyId&&(a[m]=v.dirtyId,v.valid&&f.texSubImage3D(f.TEXTURE_2D_ARRAY,0,0,0,m,v.resource.width,v.resource.height,1,t.format,r.type,v.resource.source))}return!0}}class Yb extends Eo{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Z_=class _c extends K_{constructor(e,t){const{width:r,height:s,autoLoad:a,linkBaseTexture:c}=t||{};if(e&&e.length!==_c.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:r,height:s});for(let f=0;f<_c.SIDES;f++)this.items[f].target=th.TEXTURE_CUBE_MAP_POSITIVE_X+f;this.linkBaseTexture=c!==!1,e&&this.initFromArray(e,t),a!==!1&&this.load()}bind(e){super.bind(e),e.target=th.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=th.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,r){const s=this.itemDirtyIds;for(let a=0;a<_c.SIDES;a++){const c=this.items[a];(s[a]<c.dirtyId||r.dirtyId<t.dirtyId)&&(c.valid&&c.resource?(c.resource.upload(e,c,r),s[a]=c.dirtyId):s[a]<-1&&(e.gl.texImage2D(c.target,0,r.internalFormat,t.realWidth,t.realHeight,0,t.format,r.type,null),s[a]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===_c.SIDES}};Z_.SIDES=6;let qb=Z_;class Qu extends Eo{constructor(e,t){t=t||{};let r,s,a;typeof e=="string"?(r=Qu.EMPTY,s=e,a=!0):(r=e,s=null,a=!1),super(r),this.url=s,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??a,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const r=await Oe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const s=await r.blob();if(this.destroyed)return;const a=await createImageBitmap(s,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Bn.UNPACK?"premultiply":"none"});if(this.destroyed){a.close();return}this.source=a,this.update(),e(this)}catch(r){if(this.destroyed)return;t(r),this.onError.emit(r)}}),this._load)}upload(e,t,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Qu._EMPTY=Qu._EMPTY??Oe.ADAPTER.createCanvas(0,0),Qu._EMPTY}}const cg=class rf extends Eo{constructor(e,t){t=t||{},super(Oe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},rf.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Eo.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,r=e.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=t*this.scale,a=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/r*t,a=this._overrideHeight||this._overrideWidth/t*r),s=Math.round(s),a=Math.round(a);const c=this.source;c.width=s,c.height=a,c._pixiId=`canvas_${jl()}`,c.getContext("2d").drawImage(e,0,0,t,r,0,0,s,a),this._resolve(),this._resolve=null}}static getSize(e){const t=rf.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&rf.SVG_XML.test(e)}};cg.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,cg.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let dg=cg;class Qb extends Eo{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const fg=class pg extends Eo{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const r=document.createElement("video");t.autoLoad!==!1&&r.setAttribute("preload","auto"),t.playsinline!==!1&&(r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","")),t.muted===!0&&(r.setAttribute("muted",""),r.muted=!0),t.loop===!0&&r.setAttribute("loop",""),t.autoPlay!==!1&&r.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const s=e[0].src||e[0];Eo.crossOrigin(r,s,t.crossorigin);for(let a=0;a<e.length;++a){const c=document.createElement("source");let{src:f,mime:m}=e[a];if(f=f||e[a],f.startsWith("data:"))m=f.slice(5,f.indexOf(";"));else if(!f.startsWith("blob:")){const v=f.split("?").shift().toLowerCase(),b=v.slice(v.lastIndexOf(".")+1);m=m||pg.MIME_TYPES[b]||`video/${b}`}c.src=f,m&&(c.type=m),r.appendChild(c)}e=r}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const t=Sr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,r)=>{this.valid?t(this):(this._resolve=t,this._reject=r,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Sr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Sr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Sr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||pg.TYPES.includes(t)}};fg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],fg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let J_=fg;eg.push(Qu,T_,Yb,J_,Qb,dg,Cf,qb,Xb);class pf{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?at.EMPTY:(e=e||new at(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:r,b:s,c:a,d:c,tx:f,ty:m}=e,v=r*t.x+a*t.y+f,b=s*t.x+c*t.y+m;this.minX=Math.min(this.minX,v),this.maxX=Math.max(this.maxX,v),this.minY=Math.min(this.minY,b),this.maxY=Math.max(this.maxY,b)}addQuad(e){let t=this.minX,r=this.minY,s=this.maxX,a=this.maxY,c=e[0],f=e[1];t=c<t?c:t,r=f<r?f:r,s=c>s?c:s,a=f>a?f:a,c=e[2],f=e[3],t=c<t?c:t,r=f<r?f:r,s=c>s?c:s,a=f>a?f:a,c=e[4],f=e[5],t=c<t?c:t,r=f<r?f:r,s=c>s?c:s,a=f>a?f:a,c=e[6],f=e[7],t=c<t?c:t,r=f<r?f:r,s=c>s?c:s,a=f>a?f:a,this.minX=t,this.minY=r,this.maxX=s,this.maxY=a}addFrame(e,t,r,s,a){this.addFrameMatrix(e.worldTransform,t,r,s,a)}addFrameMatrix(e,t,r,s,a){const c=e.a,f=e.b,m=e.c,v=e.d,b=e.tx,d=e.ty;let y=this.minX,_=this.minY,T=this.maxX,C=this.maxY,A=c*t+m*r+b,P=f*t+v*r+d;y=A<y?A:y,_=P<_?P:_,T=A>T?A:T,C=P>C?P:C,A=c*s+m*r+b,P=f*s+v*r+d,y=A<y?A:y,_=P<_?P:_,T=A>T?A:T,C=P>C?P:C,A=c*t+m*a+b,P=f*t+v*a+d,y=A<y?A:y,_=P<_?P:_,T=A>T?A:T,C=P>C?P:C,A=c*s+m*a+b,P=f*s+v*a+d,y=A<y?A:y,_=P<_?P:_,T=A>T?A:T,C=P>C?P:C,this.minX=y,this.minY=_,this.maxX=T,this.maxY=C}addVertexData(e,t,r){let s=this.minX,a=this.minY,c=this.maxX,f=this.maxY;for(let m=t;m<r;m+=2){const v=e[m],b=e[m+1];s=v<s?v:s,a=b<a?b:a,c=v>c?v:c,f=b>f?b:f}this.minX=s,this.minY=a,this.maxX=c,this.maxY=f}addVertices(e,t,r,s){this.addVerticesMatrix(e.worldTransform,t,r,s)}addVerticesMatrix(e,t,r,s,a=0,c=a){const f=e.a,m=e.b,v=e.c,b=e.d,d=e.tx,y=e.ty;let _=this.minX,T=this.minY,C=this.maxX,A=this.maxY;for(let P=r;P<s;P+=2){const N=t[P],D=t[P+1],j=f*N+v*D+d,O=b*D+m*N+y;_=Math.min(_,j-a),C=Math.max(C,j+a),T=Math.min(T,O-c),A=Math.max(A,O+c)}this.minX=_,this.minY=T,this.maxX=C,this.maxY=A}addBounds(e){const t=this.minX,r=this.minY,s=this.maxX,a=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>a?e.maxY:a}addBoundsMask(e,t){const r=e.minX>t.minX?e.minX:t.minX,s=e.minY>t.minY?e.minY:t.minY,a=e.maxX<t.maxX?e.maxX:t.maxX,c=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=a&&s<=c){const f=this.minX,m=this.minY,v=this.maxX,b=this.maxY;this.minX=r<f?r:f,this.minY=s<m?s:m,this.maxX=a>v?a:v,this.maxY=c>b?c:b}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const r=e.minX>t.x?e.minX:t.x,s=e.minY>t.y?e.minY:t.y,a=e.maxX<t.x+t.width?e.maxX:t.x+t.width,c=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=a&&s<=c){const f=this.minX,m=this.minY,v=this.maxX,b=this.maxY;this.minX=r<f?r:f,this.minY=s<m?s:m,this.maxX=a>v?a:v,this.maxY=c>b?c:b}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,s,a,c){e-=a,t-=c,r+=a,s+=c,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>s?this.maxY:s}}class $t extends Mc{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new kf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new pf,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let r=0;r<t.length;++r){const s=t[r];Object.defineProperty($t.prototype,s,Object.getOwnPropertyDescriptor(e,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new at),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new at),e=this._localBoundsRect),this._localBounds||(this._localBounds=new pf);const t=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(r==null?void 0:r.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,a=this._boundsID;this._bounds=this._localBounds;const c=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=s,this._bounds.updateID+=this._boundsID-a,c}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,s){return t&&(e=t.toGlobal(e,r,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,t=0,r=1,s=1,a=0,c=0,f=0,m=0,v=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=s||1,this.rotation=a,this.skew.x=c,this.skew.y=f,this.pivot.x=m,this.pivot.y=v,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Kb),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*jw}set angle(e){this.transform.rotation=e*Vw}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class Kb extends $t{constructor(){super(...arguments),this.sortDirty=null}}$t.prototype.displayObjectUpdateTransform=$t.prototype.updateTransform;const Zb=new Ht;function Jb(n,e){return n.zIndex===e.zIndex?n._lastSortedIndex-e._lastSortedIndex:n.zIndex-e.zIndex}const e1=class mg extends $t{constructor(){super(),this.children=[],this.sortableChildren=mg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const r=this.getChildIndex(e),s=this.getChildIndex(t);this.children[r]=t,this.children[s]=e,this.onChildrenChange(r<s?r:s)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(e);rh(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],r=this.children.indexOf(t);if(r===-1)return null;t.parent=null,t.transform._parentID=-1,rh(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,rh(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const r=e,s=t,a=s-r;let c;if(a>0&&a<=s){c=this.children.splice(r,a);for(let f=0;f<c.length;++f)c[f].parent=null,c[f].transform&&(c[f].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let f=0;f<c.length;++f)c[f].emit("removed",this),this.emit("childRemoved",c[f],this,f);return c}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,r=this.children.length;t<r;++t){const s=this.children[t];s._lastSortedIndex=t,!e&&s.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(Jb),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const r=this.children[e];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const r=t._mask.isMaskData?t._mask.maskObject:t._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const r=super.getLocalBounds(e);if(!t)for(let s=0,a=this.children.length;s<a;++s){const c=this.children[s];c.visible&&c.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let r,s;this.cullArea?(r=this.cullArea,s=this.worldTransform):this._render!==mg.prototype._render&&(r=this.getBounds(!0));const a=e.projection.transform;if(a&&(s?(s=Zb.copyFrom(s),s.prepend(a)):s=a),r&&t.intersects(r,s))this._render(e);else if(this.cullArea)return;for(let c=0,f=this.children.length;c<f;++c){const m=this.children[c],v=m.cullable;m.cullable=v||!this.cullArea,m.render(e),m.cullable=v}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(t=this.filters)!=null&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let r=0,s=this.children.length;r<s;++r)this.children[r].render(e)}}renderAdvanced(e){var a,c,f;const t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let m=0;m<t.length;m++)t[m].enabled&&this._enabledFilters.push(t[m])}const s=t&&((a=this._enabledFilters)==null?void 0:a.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Er.NONE));if(s&&e.batch.flush(),t&&((c=this._enabledFilters)!=null&&c.length)&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let m=0,v=this.children.length;m<v;++m)this.children[m].render(e)}s&&e.batch.flush(),r&&e.mask.pop(this),t&&((f=this._enabledFilters)!=null&&f.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e==null?void 0:e.children,r=this.removeChildren(0,this.children.length);if(t)for(let s=0;s<r.length;++s)r[s].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};e1.defaultSortableChildren=!1;let pn=e1;pn.prototype.containerUpdateTransform=pn.prototype.updateTransform;Object.defineProperties(Oe,{SORTABLE_CHILDREN:{get(){return pn.defaultSortableChildren},set(n){ct("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),pn.defaultSortableChildren=n}}});var Df=(n=>(n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",n))(Df||{});const fc=new dt,eE=new Uint16Array([0,1,2,0,2,3]);class Fs extends pn{constructor(e){super(),this._anchor=new Cs(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Ut(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=et.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Re.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=eE,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Oe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ba(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ba(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,r=t.a,s=t.b,a=t.c,c=t.d,f=t.tx,m=t.ty,v=this.vertexData,b=e.trim,d=e.orig,y=this._anchor;let _=0,T=0,C=0,A=0;if(b?(T=b.x-y._x*d.width,_=T+b.width,A=b.y-y._y*d.height,C=A+b.height):(T=-y._x*d.width,_=T+d.width,A=-y._y*d.height,C=A+d.height),v[0]=r*T+a*A+f,v[1]=c*A+s*T+m,v[2]=r*_+a*A+f,v[3]=c*A+s*_+m,v[4]=r*_+a*C+f,v[5]=c*C+s*_+m,v[6]=r*T+a*C+f,v[7]=c*C+s*T+m,this._roundPixels){const P=Oe.RESOLUTION;for(let N=0;N<v.length;++N)v[N]=Math.round(v[N]*P)/P}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,r=e.orig,s=this._anchor,a=this.transform.worldTransform,c=a.a,f=a.b,m=a.c,v=a.d,b=a.tx,d=a.ty,y=-s._x*r.width,_=y+r.width,T=-s._y*r.height,C=T+r.height;if(t[0]=c*y+m*T+b,t[1]=v*T+f*y+d,t[2]=c*_+m*T+b,t[3]=v*T+f*_+d,t[4]=c*_+m*C+b,t[5]=v*C+f*_+d,t[6]=c*y+m*C+b,t[7]=v*C+f*y+d,this._roundPixels){const A=Oe.RESOLUTION;for(let P=0;P<t.length;++P)t[P]=Math.round(t[P]*A)/A}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new pf),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new at),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,fc);const t=this._texture.orig.width,r=this._texture.orig.height,s=-t*this.anchor.x;let a=0;return fc.x>=s&&fc.x<s+t&&(a=-r*this.anchor.y,fc.y>=a&&fc.y<a+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const t=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const r=e instanceof Re?e:Re.from(e,t);return new Fs(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=ba(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=ba(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Re.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Bd={willReadFrequently:!0},bs=class $e{static get experimentalLetterSpacingSupported(){let e=$e._experimentalLetterSpacingSupported;if(e!==void 0){const t=Oe.ADAPTER.getCanvasRenderingContext2D().prototype;e=$e._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,r,s,a,c,f,m,v){this.text=e,this.style=t,this.width=r,this.height=s,this.lines=a,this.lineWidths=c,this.lineHeight=f,this.maxLineWidth=m,this.fontProperties=v}static measureText(e,t,r,s=$e._canvas){r=r??t.wordWrap;const a=t.toFontString(),c=$e.measureFont(a);c.fontSize===0&&(c.fontSize=t.fontSize,c.ascent=t.fontSize);const f=s.getContext("2d",Bd);f.font=a;const m=(r?$e.wordWrap(e,t,s):e).split(/(?:\r\n|\r|\n)/),v=new Array(m.length);let b=0;for(let T=0;T<m.length;T++){const C=$e._measureText(m[T],t.letterSpacing,f);v[T]=C,b=Math.max(b,C)}let d=b+t.strokeThickness;t.dropShadow&&(d+=t.dropShadowDistance);const y=t.lineHeight||c.fontSize+t.strokeThickness;let _=Math.max(y,c.fontSize+t.strokeThickness*2)+t.leading+(m.length-1)*(y+t.leading);return t.dropShadow&&(_+=t.dropShadowDistance),new $e(e,t,d,_,m,v,y+t.leading,b,c)}static _measureText(e,t,r){let s=!1;$e.experimentalLetterSpacingSupported&&($e.experimentalLetterSpacing?(r.letterSpacing=`${t}px`,r.textLetterSpacing=`${t}px`,s=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let a=r.measureText(e).width;return a>0&&(s?a-=t:a+=($e.graphemeSegmenter(e).length-1)*t),a}static wordWrap(e,t,r=$e._canvas){const s=r.getContext("2d",Bd);let a=0,c="",f="";const m=Object.create(null),{letterSpacing:v,whiteSpace:b}=t,d=$e.collapseSpaces(b),y=$e.collapseNewlines(b);let _=!d;const T=t.wordWrapWidth+v,C=$e.tokenize(e);for(let A=0;A<C.length;A++){let P=C[A];if($e.isNewline(P)){if(!y){f+=$e.addLine(c),_=!d,c="",a=0;continue}P=" "}if(d){const D=$e.isBreakingSpace(P),j=$e.isBreakingSpace(c[c.length-1]);if(D&&j)continue}const N=$e.getFromCache(P,v,m,s);if(N>T)if(c!==""&&(f+=$e.addLine(c),c="",a=0),$e.canBreakWords(P,t.breakWords)){const D=$e.wordWrapSplit(P);for(let j=0;j<D.length;j++){let O=D[j],q=O,U=1;for(;D[j+U];){const se=D[j+U];if(!$e.canBreakChars(q,se,P,j,t.breakWords))O+=se;else break;q=se,U++}j+=U-1;const J=$e.getFromCache(O,v,m,s);J+a>T&&(f+=$e.addLine(c),_=!1,c="",a=0),c+=O,a+=J}}else{c.length>0&&(f+=$e.addLine(c),c="",a=0);const D=A===C.length-1;f+=$e.addLine(P,!D),_=!1,c="",a=0}else N+a>T&&(_=!1,f+=$e.addLine(c),c="",a=0),(c.length>0||!$e.isBreakingSpace(P)||_)&&(c+=P,a+=N)}return f+=$e.addLine(c,!1),f}static addLine(e,t=!0){return e=$e.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,r,s){let a=r[e];return typeof a!="number"&&(a=$e._measureText(e,t,s)+t,r[e]=a),a}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const r=e[t];if(!$e.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:$e._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:$e._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let r="";if(typeof e!="string")return t;for(let s=0;s<e.length;s++){const a=e[s],c=e[s+1];if($e.isBreakingSpace(a,c)||$e.isNewline(a)){r!==""&&(t.push(r),r=""),t.push(a);continue}r+=a}return r!==""&&t.push(r),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,s,a){return!0}static wordWrapSplit(e){return $e.graphemeSegmenter(e)}static measureFont(e){if($e._fonts[e])return $e._fonts[e];const t={ascent:0,descent:0,fontSize:0},r=$e._canvas,s=$e._context;s.font=e;const a=$e.METRICS_STRING+$e.BASELINE_SYMBOL,c=Math.ceil(s.measureText(a).width);let f=Math.ceil(s.measureText($e.BASELINE_SYMBOL).width);const m=Math.ceil($e.HEIGHT_MULTIPLIER*f);if(f=f*$e.BASELINE_MULTIPLIER|0,c===0||m===0)return $e._fonts[e]=t,t;r.width=c,r.height=m,s.fillStyle="#f00",s.fillRect(0,0,c,m),s.font=e,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(a,0,f);const v=s.getImageData(0,0,c,m).data,b=v.length,d=c*4;let y=0,_=0,T=!1;for(y=0;y<f;++y){for(let C=0;C<d;C+=4)if(v[_+C]!==255){T=!0;break}if(!T)_+=d;else break}for(t.ascent=f-y,_=b-d,T=!1,y=m;y>f;--y){for(let C=0;C<d;C+=4)if(v[_+C]!==255){T=!0;break}if(!T)_-=d;else break}return t.descent=y-f,t.fontSize=t.ascent+t.descent,$e._fonts[e]=t,t}static clearMetrics(e=""){e?delete $e._fonts[e]:$e._fonts={}}static get _canvas(){var e;if(!$e.__canvas){let t;try{const r=new OffscreenCanvas(0,0);if((e=r.getContext("2d",Bd))!=null&&e.measureText)return $e.__canvas=r,r;t=Oe.ADAPTER.createCanvas()}catch{t=Oe.ADAPTER.createCanvas()}t.width=t.height=10,$e.__canvas=t}return $e.__canvas}static get _context(){return $e.__context||($e.__context=$e._canvas.getContext("2d",Bd)),$e.__context}};bs.METRICS_STRING="|Ã‰qÃ…",bs.BASELINE_SYMBOL="M",bs.BASELINE_MULTIPLIER=1.4,bs.HEIGHT_MULTIPLIER=2,bs.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const n=new Intl.Segmenter;return e=>[...n.segment(e)].map(t=>t.segment)}return n=>[...n]})(),bs.experimentalLetterSpacing=!1,bs._fonts={},bs._newlines=[10,13],bs._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let xa=bs;const tE=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],t1=class xc{constructor(e){this.styleID=0,this.reset(),Im(this,e,e)}clone(){const e={};return Im(e,this,xc.defaultStyle),new xc(e)}reset(){Im(this,xc.defaultStyle,xc.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=Pm(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=Pm(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){rE(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=Pm(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let r=t.length-1;r>=0;r--){let s=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!tE.includes(s)&&(s=`"${s}"`),t[r]=s}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};t1.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Df.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let ks=t1;function Pm(n){const e=Ut.shared,t=r=>{const s=e.setValue(r);return s.alpha===1?s.toHex():s.toRgbaString()};return Array.isArray(n)?n.map(t):t(n)}function rE(n,e){if(!Array.isArray(n)||!Array.isArray(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t])return!1;return!0}function Im(n,e,t){for(const r in t)Array.isArray(e[r])?n[r]=e[r].slice():n[r]=e[r]}const nE={texture:!0,children:!1,baseTexture:!0},r1=class gg extends Fs{constructor(e,t,r){let s=!1;r||(r=Oe.ADAPTER.createCanvas(),s=!0),r.width=3,r.height=3;const a=Re.from(r);a.orig=new at,a.trim=new at,super(a),this._ownCanvas=s,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=gg.defaultResolution??Oe.RESOLUTION,this._autoResolution=gg.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return xa.experimentalLetterSpacing}static set experimentalLetterSpacing(e){ct("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),xa.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const r=this.context,s=xa.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,c=s.height,f=s.lines,m=s.lineHeight,v=s.lineWidths,b=s.maxLineWidth,d=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,c)+t.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;let y,_;const T=t.dropShadow?2:1;for(let C=0;C<T;++C){const A=t.dropShadow&&C===0,P=A?Math.ceil(Math.max(1,c)+t.padding*2):0,N=P*this._resolution;if(A){r.fillStyle="black",r.strokeStyle="black";const j=t.dropShadowColor,O=t.dropShadowBlur*this._resolution,q=t.dropShadowDistance*this._resolution;r.shadowColor=Ut.shared.setValue(j).setAlpha(t.dropShadowAlpha).toRgbaString(),r.shadowBlur=O,r.shadowOffsetX=Math.cos(t.dropShadowAngle)*q,r.shadowOffsetY=Math.sin(t.dropShadowAngle)*q+N}else r.fillStyle=this._generateFillStyle(t,f,s),r.strokeStyle=t.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let D=(m-d.fontSize)/2;m-d.fontSize<0&&(D=0);for(let j=0;j<f.length;j++)y=t.strokeThickness/2,_=t.strokeThickness/2+j*m+d.ascent+D,t.align==="right"?y+=b-v[j]:t.align==="center"&&(y+=(b-v[j])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(f[j],y+t.padding,_+t.padding-P,!0),t.fill&&this.drawLetterSpacing(f[j],y+t.padding,_+t.padding-P)}this.updateTexture()}drawLetterSpacing(e,t,r,s=!1){const a=this._style.letterSpacing;let c=!1;if(xa.experimentalLetterSpacingSupported&&(xa.experimentalLetterSpacing?(this.context.letterSpacing=`${a}px`,this.context.textLetterSpacing=`${a}px`,c=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),a===0||c){s?this.context.strokeText(e,t,r):this.context.fillText(e,t,r);return}let f=t;const m=xa.graphemeSegmenter(e);let v=this.context.measureText(e).width,b=0;for(let d=0;d<m.length;++d){const y=m[d];s?this.context.strokeText(y,f,r):this.context.fillText(y,f,r);let _="";for(let T=d+1;T<m.length;++T)_+=m[T];b=this.context.measureText(_).width,f+=v-b+a,v=b}}updateTexture(){const e=this.canvas;if(this._style.trim){const c=Mw(e);c.data&&(e.width=c.width,e.height=c.height,this.context.putImageData(c.data,0,0))}const t=this._texture,r=this._style,s=r.trim?0:r.padding,a=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-s,t.trim.y=-s,t.orig.width=t._frame.width-s*2,t.orig.height=t._frame.height-s*2,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,r){const s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let a;const c=e.dropShadow?e.dropShadowDistance:0,f=e.padding||0,m=this.canvas.width/this._resolution-c-f*2,v=this.canvas.height/this._resolution-c-f*2,b=s.slice(),d=e.fillGradientStops.slice();if(!d.length){const y=b.length+1;for(let _=1;_<y;++_)d.push(_/y)}if(b.unshift(s[0]),d.unshift(0),b.push(s[s.length-1]),d.push(1),e.fillGradientType===Df.LINEAR_VERTICAL){a=this.context.createLinearGradient(m/2,f,m/2,v+f);const y=r.fontProperties.fontSize+e.strokeThickness;for(let _=0;_<t.length;_++){const T=r.lineHeight*(_-1)+y,C=r.lineHeight*_;let A=C;_>0&&T>C&&(A=(C+T)/2);const P=C+y,N=r.lineHeight*(_+1);let D=P;_+1<t.length&&N<P&&(D=(P+N)/2);const j=(D-A)/v;for(let O=0;O<b.length;O++){let q=0;typeof d[O]=="number"?q=d[O]:q=O/b.length;let U=Math.min(1,Math.max(0,A/v+q*j));U=Number(U.toFixed(5)),a.addColorStop(U,b[O])}}}else{a=this.context.createLinearGradient(f,v/2,m+f,v/2);const y=b.length+1;let _=1;for(let T=0;T<b.length;T++){let C;typeof d[T]=="number"?C=d[T]:C=_/y,a.addColorStop(C,b[T]),_++}}return a}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},nE,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=ba(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=ba(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof ks?this._style=e:this._style=new ks(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};r1.defaultAutoResolution=!0;let Wg=r1;class mf{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class nf{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const a in t){const c=t[a].match(/^[a-z]+/gm)[0],f=t[a].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),m={};for(const v in f){const b=f[v].split("="),d=b[0],y=b[1].replace(/"/gm,""),_=parseFloat(y),T=isNaN(_)?y:_;m[d]=T}r[c].push(m)}const s=new mf;return r.info.forEach(a=>s.info.push({face:a.face,size:parseInt(a.size,10)})),r.common.forEach(a=>s.common.push({lineHeight:parseInt(a.lineHeight,10)})),r.page.forEach(a=>s.page.push({id:parseInt(a.id,10),file:a.file})),r.char.forEach(a=>s.char.push({id:parseInt(a.id,10),page:parseInt(a.page,10),x:parseInt(a.x,10),y:parseInt(a.y,10),width:parseInt(a.width,10),height:parseInt(a.height,10),xoffset:parseInt(a.xoffset,10),yoffset:parseInt(a.yoffset,10),xadvance:parseInt(a.xadvance,10)})),r.kerning.forEach(a=>s.kerning.push({first:parseInt(a.first,10),second:parseInt(a.second,10),amount:parseInt(a.amount,10)})),r.distanceField.forEach(a=>s.distanceField.push({distanceRange:parseInt(a.distanceRange,10),fieldType:a.fieldType})),s}}class yg{static test(e){const t=e;return typeof e!="string"&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new mf,r=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),c=e.getElementsByTagName("char"),f=e.getElementsByTagName("kerning"),m=e.getElementsByTagName("distanceField");for(let v=0;v<r.length;v++)t.info.push({face:r[v].getAttribute("face"),size:parseInt(r[v].getAttribute("size"),10)});for(let v=0;v<s.length;v++)t.common.push({lineHeight:parseInt(s[v].getAttribute("lineHeight"),10)});for(let v=0;v<a.length;v++)t.page.push({id:parseInt(a[v].getAttribute("id"),10)||0,file:a[v].getAttribute("file")});for(let v=0;v<c.length;v++){const b=c[v];t.char.push({id:parseInt(b.getAttribute("id"),10),page:parseInt(b.getAttribute("page"),10)||0,x:parseInt(b.getAttribute("x"),10),y:parseInt(b.getAttribute("y"),10),width:parseInt(b.getAttribute("width"),10),height:parseInt(b.getAttribute("height"),10),xoffset:parseInt(b.getAttribute("xoffset"),10),yoffset:parseInt(b.getAttribute("yoffset"),10),xadvance:parseInt(b.getAttribute("xadvance"),10)})}for(let v=0;v<f.length;v++)t.kerning.push({first:parseInt(f[v].getAttribute("first"),10),second:parseInt(f[v].getAttribute("second"),10),amount:parseInt(f[v].getAttribute("amount"),10)});for(let v=0;v<m.length;v++)t.distanceField.push({fieldType:m[v].getAttribute("fieldType"),distanceRange:parseInt(m[v].getAttribute("distanceRange"),10)});return t}}class vg{static test(e){return typeof e=="string"&&e.includes("<font>")?yg.test(Oe.ADAPTER.parseXML(e)):!1}static parse(e){return yg.parse(Oe.ADAPTER.parseXML(e))}}const Rm=[nf,yg,vg];function iE(n){for(let e=0;e<Rm.length;e++)if(Rm[e].test(n))return Rm[e];return null}function sE(n,e,t,r,s,a){const c=t.fill;if(Array.isArray(c)){if(c.length===1)return c[0]}else return c;let f;const m=t.dropShadow?t.dropShadowDistance:0,v=t.padding||0,b=n.width/r-m-v*2,d=n.height/r-m-v*2,y=c.slice(),_=t.fillGradientStops.slice();if(!_.length){const T=y.length+1;for(let C=1;C<T;++C)_.push(C/T)}if(y.unshift(c[0]),_.unshift(0),y.push(c[c.length-1]),_.push(1),t.fillGradientType===Df.LINEAR_VERTICAL){f=e.createLinearGradient(b/2,v,b/2,d+v);let T=0;const C=(a.fontProperties.fontSize+t.strokeThickness)/d;for(let A=0;A<s.length;A++){const P=a.lineHeight*A;for(let N=0;N<y.length;N++){let D=0;typeof _[N]=="number"?D=_[N]:D=N/y.length;const j=P/d+D*C;let O=Math.max(T,j);O=Math.min(O,1),f.addColorStop(O,y[N]),T=O}}}else{f=e.createLinearGradient(v,d/2,b+v,d/2);const T=y.length+1;let C=1;for(let A=0;A<y.length;A++){let P;typeof _[A]=="number"?P=_[A]:P=C/T,f.addColorStop(P,y[A]),C++}}return f}function oE(n,e,t,r,s,a,c){const f=t.text,m=t.fontProperties;e.translate(r,s),e.scale(a,a);const v=c.strokeThickness/2,b=-(c.strokeThickness/2);if(e.font=c.toFontString(),e.lineWidth=c.strokeThickness,e.textBaseline=c.textBaseline,e.lineJoin=c.lineJoin,e.miterLimit=c.miterLimit,e.fillStyle=sE(n,e,c,a,[f],t),e.strokeStyle=c.stroke,c.dropShadow){const d=c.dropShadowColor,y=c.dropShadowBlur*a,_=c.dropShadowDistance*a;e.shadowColor=Ut.shared.setValue(d).setAlpha(c.dropShadowAlpha).toRgbaString(),e.shadowBlur=y,e.shadowOffsetX=Math.cos(c.dropShadowAngle)*_,e.shadowOffsetY=Math.sin(c.dropShadowAngle)*_}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;c.stroke&&c.strokeThickness&&e.strokeText(f,v,b+t.lineHeight-m.descent),c.fill&&e.fillText(f,v,b+t.lineHeight-m.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function sf(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}function n1(n){return Array.from?Array.from(n):n.split("")}function aE(n){typeof n=="string"&&(n=[n]);const e=[];for(let t=0,r=n.length;t<r;t++){const s=n[t];if(Array.isArray(s)){if(s.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);const a=s[0].charCodeAt(0),c=s[1].charCodeAt(0);if(c<a)throw new Error("[BitmapFont]: Invalid character range.");for(let f=a,m=c;f<=m;f++)e.push(String.fromCharCode(f))}else e.push(...n1(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const va=class Es{constructor(e,t,r){var b;const[s]=e.info,[a]=e.common,[c]=e.page,[f]=e.distanceField,m=bo(c.file),v={};this._ownsTextures=r,this.font=s.face,this.size=s.size,this.lineHeight=a.lineHeight/m,this.chars={},this.pageTextures=v;for(let d=0;d<e.page.length;d++){const{id:y,file:_}=e.page[d];v[y]=t instanceof Array?t[d]:t[_],f!=null&&f.fieldType&&f.fieldType!=="none"&&(v[y].baseTexture.alphaMode=Bn.NO_PREMULTIPLIED_ALPHA,v[y].baseTexture.mipmap=Rs.OFF)}for(let d=0;d<e.char.length;d++){const{id:y,page:_}=e.char[d];let{x:T,y:C,width:A,height:P,xoffset:N,yoffset:D,xadvance:j}=e.char[d];T/=m,C/=m,A/=m,P/=m,N/=m,D/=m,j/=m;const O=new at(T+v[_].frame.x/m,C+v[_].frame.y/m,A,P);this.chars[y]={xOffset:N,yOffset:D,xAdvance:j,kerning:{},texture:new Re(v[_].baseTexture,O),page:_}}for(let d=0;d<e.kerning.length;d++){let{first:y,second:_,amount:T}=e.kerning[d];y/=m,_/=m,T/=m,this.chars[_]&&(this.chars[_].kerning[y]=T)}this.distanceFieldRange=f==null?void 0:f.distanceRange,this.distanceFieldType=((b=f==null?void 0:f.fieldType)==null?void 0:b.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,r){let s;if(e instanceof mf)s=e;else{const c=iE(e);if(!c)throw new Error("Unrecognized data format for font.");s=c.parse(e)}t instanceof Re&&(t=[t]);const a=new Es(s,t,r);return Es.available[a.font]=a,a}static uninstall(e){const t=Es.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete Es.available[e]}static from(e,t,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:a,resolution:c,textureWidth:f,textureHeight:m,...v}=Object.assign({},Es.defaultOptions,r),b=aE(s),d=t instanceof ks?t:new ks(t),y=f,_=new mf;_.info[0]={face:d.fontFamily,size:d.fontSize},_.common[0]={lineHeight:d.fontSize};let T=0,C=0,A,P,N,D=0;const j=[];for(let q=0;q<b.length;q++){A||(A=Oe.ADAPTER.createCanvas(),A.width=f,A.height=m,P=A.getContext("2d"),N=new st(A,{resolution:c,...v}),j.push(new Re(N)),_.page.push({id:j.length-1,file:""}));const U=b[q],J=xa.measureText(U,d,!1,A),se=J.width,de=Math.ceil(J.height),Se=Math.ceil((d.fontStyle==="italic"?2:1)*se);if(C>=m-de*c){if(C===0)throw new Error(`[BitmapFont] textureHeight ${m}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${U}')`);--q,A=null,P=null,N=null,C=0,T=0,D=0;continue}if(D=Math.max(de+J.fontProperties.descent,D),Se*c+T>=y){if(T===0)throw new Error(`[BitmapFont] textureWidth ${f}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${U}')`);--q,C+=D*c,C=Math.ceil(C),T=0,D=0;continue}oE(A,P,J,T,C,c,d);const Q=sf(J.text);_.char.push({id:Q,page:j.length-1,x:T/c,y:C/c,width:Se,height:de,xoffset:0,yoffset:0,xadvance:se-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0)}),T+=(Se+2*a)*c,T=Math.ceil(T)}if(!(r!=null&&r.skipKerning))for(let q=0,U=b.length;q<U;q++){const J=b[q];for(let se=0;se<U;se++){const de=b[se],Se=P.measureText(J).width,Q=P.measureText(de).width,Z=P.measureText(J+de).width-(Se+Q);Z&&_.kerning.push({first:sf(J),second:sf(de),amount:Z})}}const O=new Es(_,j,!0);return Es.available[e]!==void 0&&Es.uninstall(e),Es.available[e]=O,O}};va.ALPHA=[["a","z"],["A","Z"]," "],va.NUMERIC=[["0","9"]],va.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],va.ASCII=[[" ","~"]],va.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:va.ALPHANUMERIC},va.available={};let _a=va;class lE{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const km=new dt,hv=new Hl,i1=class s1 extends pn{constructor(e,t,r,s=Vi.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||Ns.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Oe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Vi.TRIANGLES&&t.length<s1.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const s=this.transform.worldTransform,a=s.a,c=s.b,f=s.c,m=s.d,v=s.tx,b=s.ty,d=this.vertexData;for(let y=0;y<d.length/2;y++){const _=t[y*2],T=t[y*2+1];d[y*2]=a*_+f*T+v,d[y*2+1]=c*_+m*T+b}if(this._roundPixels){const y=Oe.RESOLUTION;for(let _=0;_<d.length;++_)d[_]=Math.round(d[_]*y)/y}this.vertexDirty=r}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new lE(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,km);const t=this.geometry.getBuffer("aVertexPosition").data,r=hv.points,s=this.geometry.getIndex().data,a=s.length,c=this.drawMode===4?3:1;for(let f=0;f+2<a;f+=c){const m=s[f]*2,v=s[f+1]*2,b=s[f+2]*2;if(r[0]=t[m],r[1]=t[m+1],r[2]=t[v],r[3]=t[v+1],r[4]=t[b],r[5]=t[b+1],hv.contains(km.x,km.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};i1.BATCHABLE_SIZE=100;let Pc=i1;class Nf extends Ta{constructor(e,t,r){super();const s=new pr(e),a=new pr(t,!0),c=new pr(r,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,Ye.FLOAT).addAttribute("aTextureCoord",a,2,!1,Ye.FLOAT).addIndex(c),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var uE=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,hE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Ic extends Is{constructor(e,t){const r={uSampler:e,alpha:1,uTextureMatrix:Ht.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(r,t.uniforms),super(t.program||_o.from(hE,uE),r),this._colorDirty=!1,this.uvMatrix=new jg(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new Ut(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Ut.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var cE=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,dE=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const cv=[],dv=[],fv=[],o1=class a1 extends pn{constructor(e,t={}){super();const{align:r,tint:s,maxWidth:a,letterSpacing:c,fontName:f,fontSize:m}=Object.assign({},a1.styleDefaults,t);if(!_a.available[f])throw new Error(`Missing BitmapFont "${f}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new Ut(s),this._font=void 0,this._fontName=f,this._fontSize=m,this.text=e,this._maxWidth=a,this._maxLineHeight=0,this._letterSpacing=c,this._anchor=new Cs(()=>{this.dirty=!0},this,0,0),this._roundPixels=Oe.ROUND_PIXELS,this.dirty=!0,this._resolution=Oe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Se;const e=_a.available[this._fontName],t=this.fontSize,r=t/e.size,s=new dt,a=[],c=[],f=[],m=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",v=n1(m),b=this._maxWidth*e.size/t,d=e.distanceFieldType==="none"?cv:dv;let y=null,_=0,T=0,C=0,A=-1,P=0,N=0,D=0,j=0;for(let Q=0;Q<v.length;Q++){const Z=v[Q],he=sf(Z);if(/(?:\s)/.test(Z)&&(A=Q,P=_,j++),Z==="\r"||Z===`
`){c.push(_),f.push(-1),T=Math.max(T,_),++C,++N,s.x=0,s.y+=e.lineHeight,y=null,j=0;continue}const _e=e.chars[he];if(!_e)continue;y&&_e.kerning[y]&&(s.x+=_e.kerning[y]);const B=fv.pop()||{texture:Re.EMPTY,line:0,charCode:0,prevSpaces:0,position:new dt};B.texture=_e.texture,B.line=C,B.charCode=he,B.position.x=Math.round(s.x+_e.xOffset+this._letterSpacing/2),B.position.y=Math.round(s.y+_e.yOffset),B.prevSpaces=j,a.push(B),_=B.position.x+Math.max(_e.xAdvance-_e.xOffset,_e.texture.orig.width),s.x+=_e.xAdvance+this._letterSpacing,D=Math.max(D,_e.yOffset+_e.texture.height),y=he,A!==-1&&b>0&&s.x>b&&(++N,rh(a,1+A-N,1+Q-A),Q=A,A=-1,c.push(P),f.push(a.length>0?a[a.length-1].prevSpaces:0),T=Math.max(T,P),C++,s.x=0,s.y+=e.lineHeight,y=null,j=0)}const O=v[v.length-1];O!=="\r"&&O!==`
`&&(/(?:\s)/.test(O)&&(_=P),c.push(_),T=Math.max(T,_),f.push(-1));const q=[];for(let Q=0;Q<=C;Q++){let Z=0;this._align==="right"?Z=T-c[Q]:this._align==="center"?Z=(T-c[Q])/2:this._align==="justify"&&(Z=f[Q]<0?0:(T-c[Q])/f[Q]),q.push(Z)}const U=a.length,J={},se=[],de=this._activePagesMeshData;d.push(...de);for(let Q=0;Q<U;Q++){const Z=a[Q].texture,he=Z.baseTexture.uid;if(!J[he]){let _e=d.pop();if(!_e){const H=new Nf;let R,z;e.distanceFieldType==="none"?(R=new Ic(Re.EMPTY),z=et.NORMAL):(R=new Ic(Re.EMPTY,{program:_o.from(dE,cE),uniforms:{uFWidth:0}}),z=et.NORMAL_NPM);const F=new Pc(H,R);F.blendMode=z,_e={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:F,vertices:null,uvs:null,indices:null}}_e.index=0,_e.indexCount=0,_e.vertexCount=0,_e.uvsCount=0,_e.total=0;const{_textureCache:B}=this;B[he]=B[he]||new Re(Z.baseTexture),_e.mesh.texture=B[he],_e.mesh.tint=this._tintColor.value,se.push(_e),J[he]=_e}J[he].total++}for(let Q=0;Q<de.length;Q++)se.includes(de[Q])||this.removeChild(de[Q].mesh);for(let Q=0;Q<se.length;Q++)se[Q].mesh.parent!==this&&this.addChild(se[Q].mesh);this._activePagesMeshData=se;for(const Q in J){const Z=J[Q],he=Z.total;if(!(((Se=Z.indices)==null?void 0:Se.length)>6*he)||Z.vertices.length<Pc.BATCHABLE_SIZE*2)Z.vertices=new Float32Array(4*2*he),Z.uvs=new Float32Array(4*2*he),Z.indices=new Uint16Array(6*he);else{const _e=Z.total,B=Z.vertices;for(let H=_e*4*2;H<B.length;H++)B[H]=0}Z.mesh.size=6*he}for(let Q=0;Q<U;Q++){const Z=a[Q];let he=Z.position.x+q[Z.line]*(this._align==="justify"?Z.prevSpaces:1);this._roundPixels&&(he=Math.round(he));const _e=he*r,B=Z.position.y*r,H=Z.texture,R=J[H.baseTexture.uid],z=H.frame,F=H._uvs,k=R.index++;R.indices[k*6+0]=0+k*4,R.indices[k*6+1]=1+k*4,R.indices[k*6+2]=2+k*4,R.indices[k*6+3]=0+k*4,R.indices[k*6+4]=2+k*4,R.indices[k*6+5]=3+k*4,R.vertices[k*8+0]=_e,R.vertices[k*8+1]=B,R.vertices[k*8+2]=_e+z.width*r,R.vertices[k*8+3]=B,R.vertices[k*8+4]=_e+z.width*r,R.vertices[k*8+5]=B+z.height*r,R.vertices[k*8+6]=_e,R.vertices[k*8+7]=B+z.height*r,R.uvs[k*8+0]=F.x0,R.uvs[k*8+1]=F.y0,R.uvs[k*8+2]=F.x1,R.uvs[k*8+3]=F.y1,R.uvs[k*8+4]=F.x2,R.uvs[k*8+5]=F.y2,R.uvs[k*8+6]=F.x3,R.uvs[k*8+7]=F.y3}this._textWidth=T*r,this._textHeight=(s.y+e.lineHeight)*r;for(const Q in J){const Z=J[Q];if(this.anchor.x!==0||this.anchor.y!==0){let H=0;const R=this._textWidth*this.anchor.x,z=this._textHeight*this.anchor.y;for(let F=0;F<Z.total;F++)Z.vertices[H++]-=R,Z.vertices[H++]-=z,Z.vertices[H++]-=R,Z.vertices[H++]-=z,Z.vertices[H++]-=R,Z.vertices[H++]-=z,Z.vertices[H++]-=R,Z.vertices[H++]-=z}this._maxLineHeight=D*r;const he=Z.mesh.geometry.getBuffer("aVertexPosition"),_e=Z.mesh.geometry.getBuffer("aTextureCoord"),B=Z.mesh.geometry.getIndex();he.data=Z.vertices,_e.data=Z.uvs,B.data=Z.indices,he.update(),_e.update(),B.update()}for(let Q=0;Q<a.length;Q++)fv.push(a[Q]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:r,size:s}=_a.available[this._fontName];if(r!=="none"){const{a,b:c,c:f,d:m}=this.worldTransform,v=Math.sqrt(a*a+c*c),b=Math.sqrt(f*f+m*m),d=(Math.abs(v)+Math.abs(b))/2,y=this.fontSize/s,_=e._view.resolution;for(const T of this._activePagesMeshData)T.mesh.shader.uniforms.uFWidth=d*t*y*_}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=_a.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!_a.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??_a.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,r=_a.available[this._fontName].distanceFieldType==="none"?cv:dv;r.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],r.filter(s=>t[s.mesh.texture.baseTexture.uid]).forEach(s=>{s.mesh.texture=Re.EMPTY});for(const s in t)t[s].destroy(),delete t[s];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};o1.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let fE=o1;const pv={loader:Me.LoadParser,resolver:Me.ResolveParser,cache:Me.CacheParser,detection:Me.DetectionParser};Ve.handle(Me.Asset,n=>{const e=n.ref;Object.entries(pv).filter(([t])=>!!e[t]).forEach(([t,r])=>Ve.add(Object.assign(e[t],{extension:e[t].extension??r})))},n=>{const e=n.ref;Object.keys(pv).filter(t=>!!e[t]).forEach(t=>Ve.remove(e[t]))});class pE{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function lh(n,e){if(Array.isArray(e)){for(const t of e)if(n.startsWith(`data:${t}`))return!0;return!1}return n.startsWith(`data:${e}`)}function Ca(n,e){const t=n.split("?")[0],r=Fr.extname(t).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const ji=(n,e,t=!1)=>(Array.isArray(n)||(n=[n]),e?n.map(r=>typeof r=="string"||t?e(r):r):n),_g=(n,e)=>{const t=e.split("?")[1];return t&&(n+=`?${t}`),n};function l1(n,e,t,r,s){const a=e[t];for(let c=0;c<a.length;c++){const f=a[c];t<e.length-1?l1(n.replace(r[t],f),e,t+1,r,s):s.push(n.replace(r[t],f))}}function mE(n){const e=/\{(.*?)\}/g,t=n.match(e),r=[];if(t){const s=[];t.forEach(a=>{const c=a.substring(1,a.length-1).split(",");s.push(c)}),l1(n,s,0,t,r)}else r.push(n);return r}const gf=n=>!Array.isArray(n);class gE{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const r=ji(e);let s;for(let f=0;f<this.parsers.length;f++){const m=this.parsers[f];if(m.test(t)){s=m.getCacheableAssets(r,t);break}}s||(s={},r.forEach(f=>{s[f]=t}));const a=Object.keys(s),c={cacheKeys:a,keys:r};if(r.forEach(f=>{this._cacheMap.set(f,c)}),a.forEach(f=>{this._cache.has(f)&&this._cache.get(f)!==t&&console.warn("[Cache] already has key:",f),this._cache.set(f,s[f])}),t instanceof Re){const f=t;r.forEach(m=>{f.baseTexture!==Re.EMPTY.baseTexture&&st.addToCache(f.baseTexture,m),Re.addToCache(f,m)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(r=>{this._cache.delete(r)}),t.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}}const Ul=new gE;class yE{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const r={promise:null,parser:null};return r.promise=(async()=>{var c,f;let s=null,a=null;if(t.loadParser&&(a=this._parserHash[t.loadParser],a||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!a){for(let m=0;m<this.parsers.length;m++){const v=this.parsers[m];if(v.load&&((c=v.test)!=null&&c.call(v,e,t,this))){a=v;break}}if(!a)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await a.load(e,t,this),r.parser=a;for(let m=0;m<this.parsers.length;m++){const v=this.parsers[m];v.parse&&v.parse&&await((f=v.testParse)==null?void 0:f.call(v,s,t,this))&&(s=await v.parse(s,t,this)||s,r.parser=v)}return s})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0;const s={},a=gf(e),c=ji(e,v=>({alias:[v],src:v})),f=c.length,m=c.map(async v=>{const b=Fr.toAbsolute(v.src);if(!s[v.src])try{this.promiseCache[b]||(this.promiseCache[b]=this._getLoadPromiseAndParser(b,v)),s[v.src]=await this.promiseCache[b].promise,t&&t(++r/f)}catch(d){throw delete this.promiseCache[b],delete s[v.src],new Error(`[Loader.load] Failed to load ${b}.
${d}`)}});return await Promise.all(m),a?s[c[0].src]:s}async unload(e){const t=ji(e,r=>({alias:[r],src:r})).map(async r=>{var c,f;const s=Fr.toAbsolute(r.src),a=this.promiseCache[s];if(a){const m=await a.promise;delete this.promiseCache[s],(f=(c=a.parser)==null?void 0:c.unload)==null||f.call(c,m,r,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var Yi=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))(Yi||{});const vE=".json",_E="application/json",xE={extension:{type:Me.LoadParser,priority:Yi.Low},name:"loadJson",test(n){return lh(n,_E)||Ca(n,vE)},async load(n){return await(await Oe.ADAPTER.fetch(n)).json()}};Ve.add(xE);const wE=".txt",bE="text/plain",EE={name:"loadTxt",extension:{type:Me.LoadParser,priority:Yi.Low},test(n){return lh(n,bE)||Ca(n,wE)},async load(n){return await(await Oe.ADAPTER.fetch(n)).text()}};Ve.add(EE);const SE=["normal","bold","100","200","300","400","500","600","700","800","900"],TE=[".ttf",".otf",".woff",".woff2"],AE=["font/ttf","font/otf","font/woff","font/woff2"],CE=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function PE(n){const e=Fr.extname(n),t=Fr.basename(n,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let r=t.length>0;for(const a of t)if(!a.match(CE)){r=!1;break}let s=t.join(" ");return r||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const IE=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function RE(n){return IE.test(n)?n:encodeURI(n)}const kE={extension:{type:Me.LoadParser,priority:Yi.Low},name:"loadWebFont",test(n){return lh(n,AE)||Ca(n,TE)},async load(n,e){var r,s,a;const t=Oe.ADAPTER.getFontFaceSet();if(t){const c=[],f=((r=e.data)==null?void 0:r.family)??PE(n),m=((a=(s=e.data)==null?void 0:s.weights)==null?void 0:a.filter(b=>SE.includes(b)))??["normal"],v=e.data??{};for(let b=0;b<m.length;b++){const d=m[b],y=new FontFace(f,`url(${RE(n)})`,{...v,weight:d});await y.load(),t.add(y),c.push(y)}return c.length===1?c[0]:c}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(n){(Array.isArray(n)?n:[n]).forEach(e=>Oe.ADAPTER.getFontFaceSet().delete(e))}};Ve.add(kE);const ME=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let ih=null,xg=class{constructor(){ih||(ih=URL.createObjectURL(new Blob([ME],{type:"application/javascript"}))),this.worker=new Worker(ih)}};xg.revokeObjectURL=function(){ih&&(URL.revokeObjectURL(ih),ih=null)};const DE=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let sh=null;class u1{constructor(){sh||(sh=URL.createObjectURL(new Blob([DE],{type:"application/javascript"}))),this.worker=new Worker(sh)}}u1.revokeObjectURL=function(){sh&&(URL.revokeObjectURL(sh),sh=null)};let mv=0,Mm;class NE{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new xg;t.addEventListener("message",r=>{t.terminate(),xg.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Mm===void 0&&(Mm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Mm&&(this._createdWorkers++,e=new u1().worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const r=new Promise((s,a)=>{this.queue.push({id:e,arguments:t,resolve:s,reject:a})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),r=t.id;this.resolveHash[mv]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:mv++,id:r})}}const gv=new NE;function Fc(n,e,t){n.resource.internal=!0;const r=new Re(n),s=()=>{delete e.promiseCache[t],Ul.has(t)&&Ul.remove(t)};return r.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),r.once("destroyed",()=>{n.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),r}const FE=[".jpeg",".jpg",".png",".webp",".avif"],OE=["image/jpeg","image/png","image/webp","image/avif"];async function BE(n){const e=await Oe.ADAPTER.fetch(n);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const Ff={name:"loadTextures",extension:{type:Me.LoadParser,priority:Yi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(n){return lh(n,OE)||Ca(n,FE)},async load(n,e,t){var f;const r=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let s;r?this.config.preferWorkers&&await gv.isImageBitmapSupported()?s=await gv.loadImageBitmap(n):s=await BE(n):s=await new Promise((m,v)=>{const b=new Image;b.crossOrigin=this.config.crossOrigin,b.src=n,b.complete?m(b):(b.onload=()=>m(b),b.onerror=d=>v(d))});const a={...e.data};a.resolution??(a.resolution=bo(n)),r&&((f=a.resourceOptions)==null?void 0:f.ownsImageBitmap)===void 0&&(a.resourceOptions={...a.resourceOptions},a.resourceOptions.ownsImageBitmap=!0);const c=new st(s,a);return c.resource.src=n,Fc(c,t,n)},unload(n){n.destroy(!0)}};Ve.add(Ff);const LE=".svg",UE="image/svg+xml",GE={extension:{type:Me.LoadParser,priority:Yi.High},name:"loadSVG",test(n){return lh(n,UE)||Ca(n,LE)},async testParse(n){return dg.test(n)},async parse(n,e,t){var a;const r=new dg(n,(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions);await r.load();const s=new st(r,{resolution:bo(n),...e==null?void 0:e.data});return s.resource.src=e.src,Fc(s,t,e.src)},async load(n,e){return(await Oe.ADAPTER.fetch(n)).text()},unload:Ff.unload};Ve.add(GE);const HE=[".mp4",".m4v",".webm",".ogv"],zE=["video/mp4","video/webm","video/ogg"],jE={name:"loadVideo",extension:{type:Me.LoadParser,priority:Yi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(n){return lh(n,zE)||Ca(n,HE)},async load(n,e,t){var c;let r;const s=await(await Oe.ADAPTER.fetch(n)).blob(),a=URL.createObjectURL(s);try{const f={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(c=e==null?void 0:e.data)==null?void 0:c.resourceOptions,autoLoad:!0},m=new J_(a,f);await m.load();const v=new st(m,{alphaMode:await pw(),resolution:bo(n),...e==null?void 0:e.data});v.resource.src=n,r=Fc(v,t,n),r.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(a)})}catch(f){throw URL.revokeObjectURL(a),f}return r},unload(n){n.destroy(!0)}};Ve.add(jE);class VE{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}getAlias(e){const{alias:t,name:r,src:s,srcs:a}=e;return ji(t||r||s||a,c=>typeof c=="string"?c:Array.isArray(c)?c.map(f=>(f==null?void 0:f.src)??(f==null?void 0:f.srcs)??f):c!=null&&c.src||c!=null&&c.srcs?c.src??c.srcs:c,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const r=[];Array.isArray(t)?t.forEach(s=>{const a=s.src??s.srcs,c=s.alias??s.name;let f;if(typeof c=="string"){const m=this._createBundleAssetId(e,c);r.push(m),f=[c,m]}else{const m=c.map(v=>this._createBundleAssetId(e,v));r.push(...m),f=[...c,...m]}this.add({...s,alias:f,src:a})}):Object.keys(t).forEach(s=>{const a=[s,this._createBundleAssetId(e,s)];if(typeof t[s]=="string")this.add({alias:a,src:t[s]});else if(Array.isArray(t[s]))this.add({alias:a,src:t[s]});else{const c=t[s],f=c.src??c.srcs;this.add({...c,alias:a,src:Array.isArray(f)?f:[f]})}r.push(...a)}),this._bundles[e]=r}add(e,t,r,s,a){const c=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(ct("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),c.push({alias:e,src:t,data:r,format:s,loadParser:a})):Array.isArray(e)?c.push(...e):c.push(e);let f;f=m=>{this.hasKey(m)&&console.warn(`[Resolver] already has key: ${m} overwriting`)},ji(c).forEach(m=>{const{src:v,srcs:b}=m;let{data:d,format:y,loadParser:_}=m;const T=ji(v||b).map(P=>typeof P=="string"?mE(P):Array.isArray(P)?P:[P]),C=this.getAlias(m);Array.isArray(C)?C.forEach(f):f(C);const A=[];T.forEach(P=>{P.forEach(N=>{let D={};if(typeof N!="object"){D.src=N;for(let j=0;j<this._parsers.length;j++){const O=this._parsers[j];if(O.test(N)){D=O.parse(N);break}}}else d=N.data??d,y=N.format??y,_=N.loadParser??_,D={...D,...N};if(!C)throw new Error(`[Resolver] alias is undefined for this asset: ${D.src}`);D=this.buildResolvedAsset(D,{aliases:C,data:d,format:y,loadParser:_}),A.push(D)})}),C.forEach(P=>{this._assetMap[P]=A})})}resolveBundle(e){const t=gf(e);e=ji(e);const r={};return e.forEach(s=>{const a=this._bundles[s];if(a){const c=this.resolve(a),f={};for(const m in c){const v=c[m];f[this._extractAssetIdFromBundle(s,m)]=v}r[s]=f}}),t?r[e[0]]:r}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const r={};for(const s in t)r[s]=t[s].src;return r}return t.src}resolve(e){const t=gf(e);e=ji(e);const r={};return e.forEach(s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let a=this._assetMap[s];const c=a[0],f=this._getPreferredOrder(a);f==null||f.priority.forEach(m=>{f.params[m].forEach(v=>{const b=a.filter(d=>d[m]?d[m]===v:!1);b.length&&(a=b)})}),this._resolverHash[s]=a[0]??c}else this._resolverHash[s]=this.buildResolvedAsset({alias:[s],src:s},{});r[s]=this._resolverHash[s]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const r=e[0],s=this._preferredOrder.find(a=>a.params.format.includes(r.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){const{aliases:r,data:s,loadParser:a,format:c}=t;return(this._basePath||this._rootPath)&&(e.src=Fr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=a??e.loadParser,e.format=c??e.format??Fr.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class WE{constructor(){this._detections=[],this._initialized=!1,this.resolver=new VE,this.loader=new yE,this.cache=Ul,this._backgroundLoader=new pE(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var a,c;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let f=e.manifest;typeof f=="string"&&(f=await this.load(f)),this.resolver.addManifest(f)}const t=((a=e.texturePreference)==null?void 0:a.resolution)??1,r=typeof t=="number"?[t]:t,s=await this._detectFormats({preferredFormats:(c=e.texturePreference)==null?void 0:c.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,r,s,a){this.resolver.add(e,t,r,s,a)}async load(e,t){this._initialized||await this.init();const r=gf(e),s=ji(e).map(f=>{if(typeof f!="string"){const m=this.resolver.getAlias(f);return m.some(v=>!this.resolver.hasKey(v))&&this.add(f),Array.isArray(m)?m[0]:m}return this.resolver.hasKey(f)||this.add({alias:f,src:f}),f}),a=this.resolver.resolve(s),c=await this._mapLoadToResolve(a,t);return r?c[s[0]]:c}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const s=this.resolver.resolveBundle(e),a={},c=Object.keys(s);let f=0,m=0;const v=()=>{t==null||t(++f/m)},b=c.map(d=>{const y=s[d];return m+=Object.keys(y).length,this._mapLoadToResolve(y,v).then(_=>{a[d]=_})});return await Promise.all(b),r?a[e[0]]:a}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Ul.get(e);const t={};for(let r=0;r<e.length;r++)t[r]=Ul.get(e[r]);return t}async _mapLoadToResolve(e,t){const r=Object.values(e),s=Object.keys(e);this._backgroundLoader.active=!1;const a=await this.loader.load(r,t);this._backgroundLoader.active=!0;const c={};return r.forEach((f,m)=>{const v=a[f.src],b=[f.src];f.alias&&b.push(...f.alias),c[s[m]]=v,Ul.set(b,v)}),c}async unload(e){this._initialized||await this.init();const t=ji(e).map(s=>typeof s!="string"?s.src:s),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=ji(e);const t=this.resolver.resolveBundle(e),r=Object.keys(t).map(s=>this._unloadFromResolved(t[s]));await Promise.all(r)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(r=>{Ul.remove(r.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter((r,s)=>t.indexOf(r)===s),t}get detections(){return this._detections}get preferWorkers(){return Ff.config.preferWorkers}set preferWorkers(e){ct("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(r=>r in e).forEach(r=>{t.config[r]=e[r]})})}}const Ld=new WE;Ve.handleByList(Me.LoadParser,Ld.loader.parsers).handleByList(Me.ResolveParser,Ld.resolver.parsers).handleByList(Me.CacheParser,Ld.cache.parsers).handleByList(Me.DetectionParser,Ld.detections);const $E={extension:Me.CacheParser,test:n=>Array.isArray(n)&&n.every(e=>e instanceof Re),getCacheableAssets:(n,e)=>{const t={};return n.forEach(r=>{e.forEach((s,a)=>{t[r+(a===0?"":a+1)]=s})}),t}};Ve.add($E);async function h1(n){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=n});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(n)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const XE={extension:{type:Me.DetectionParser,priority:1},test:async()=>h1("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async n=>[...n,"avif"],remove:async n=>n.filter(e=>e!=="avif")};Ve.add(XE);const YE={extension:{type:Me.DetectionParser,priority:0},test:async()=>h1("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async n=>[...n,"webp"],remove:async n=>n.filter(e=>e!=="webp")};Ve.add(YE);const yv=["png","jpg","jpeg"],qE={extension:{type:Me.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async n=>[...n,...yv],remove:async n=>n.filter(e=>!yv.includes(e))};Ve.add(qE);const QE="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function $g(n){return QE?!1:document.createElement("video").canPlayType(n)!==""}const KE={extension:{type:Me.DetectionParser,priority:0},test:async()=>$g("video/webm"),add:async n=>[...n,"webm"],remove:async n=>n.filter(e=>e!=="webm")};Ve.add(KE);const ZE={extension:{type:Me.DetectionParser,priority:0},test:async()=>$g("video/mp4"),add:async n=>[...n,"mp4","m4v"],remove:async n=>n.filter(e=>e!=="mp4"&&e!=="m4v")};Ve.add(ZE);const JE={extension:{type:Me.DetectionParser,priority:0},test:async()=>$g("video/ogg"),add:async n=>[...n,"ogv"],remove:async n=>n.filter(e=>e!=="ogv")};Ve.add(JE);const eS={extension:Me.ResolveParser,test:Ff.test,parse:n=>{var e;return{resolution:parseFloat(((e=Oe.RETINA_PREFIX.exec(n))==null?void 0:e[1])??"1"),format:Fr.extname(n).slice(1),src:n}}};Ve.add(eS);const tS=[".xml",".fnt"],rS={extension:{type:Me.LoadParser,priority:Yi.Normal},name:"loadBitmapFont",test(n){return tS.includes(Fr.extname(n).toLowerCase())},async testParse(n){return nf.test(n)||vg.test(n)},async parse(n,e,t){const r=nf.test(n)?nf.parse(n):vg.parse(n),{src:s}=e,{page:a}=r,c=[];for(let v=0;v<a.length;++v){const b=a[v].file;let d=Fr.join(Fr.dirname(s),b);d=_g(d,s),c.push(d)}const f=await t.load(c),m=c.map(v=>f[v]);return _a.install(r,m,!0)},async load(n,e){return(await Oe.ADAPTER.fetch(n)).text()},unload(n){n.destroy()}};Ve.add(rS);const yf={build(n){const e=n.points;let t,r,s,a,c,f;if(n.type===zr.CIRC){const T=n.shape;t=T.x,r=T.y,c=f=T.radius,s=a=0}else if(n.type===zr.ELIP){const T=n.shape;t=T.x,r=T.y,c=T.width,f=T.height,s=a=0}else{const T=n.shape,C=T.width/2,A=T.height/2;t=T.x+C,r=T.y+A,c=f=Math.max(0,Math.min(T.radius,Math.min(C,A))),s=C-c,a=A-f}if(!(c>=0&&f>=0&&s>=0&&a>=0)){e.length=0;return}const m=Math.ceil(2.3*Math.sqrt(c+f)),v=m*8+(s?4:0)+(a?4:0);if(e.length=v,v===0)return;if(m===0){e.length=8,e[0]=e[6]=t+s,e[1]=e[3]=r+a,e[2]=e[4]=t-s,e[5]=e[7]=r-a;return}let b=0,d=m*4+(s?2:0)+2,y=d,_=v;{const T=s+c,C=a,A=t+T,P=t-T,N=r+C;if(e[b++]=A,e[b++]=N,e[--d]=N,e[--d]=P,a){const D=r-C;e[y++]=P,e[y++]=D,e[--_]=D,e[--_]=A}}for(let T=1;T<m;T++){const C=Math.PI/2*(T/m),A=s+Math.cos(C)*c,P=a+Math.sin(C)*f,N=t+A,D=t-A,j=r+P,O=r-P;e[b++]=N,e[b++]=j,e[--d]=j,e[--d]=D,e[y++]=D,e[y++]=O,e[--_]=O,e[--_]=N}{const T=s,C=a+f,A=t+T,P=t-T,N=r+C,D=r-C;e[b++]=A,e[b++]=N,e[--_]=D,e[--_]=A,s&&(e[b++]=P,e[b++]=N,e[--_]=D,e[--_]=P)}},triangulate(n,e){const t=n.points,r=e.points,s=e.indices;if(t.length===0)return;let a=r.length/2;const c=a;let f,m;if(n.type!==zr.RREC){const b=n.shape;f=b.x,m=b.y}else{const b=n.shape;f=b.x+b.width/2,m=b.y+b.height/2}const v=n.matrix;r.push(n.matrix?v.a*f+v.c*m+v.tx:f,n.matrix?v.b*f+v.d*m+v.ty:m),a++,r.push(t[0],t[1]);for(let b=2;b<t.length;b+=2)r.push(t[b],t[b+1]),s.push(a++,c,a);s.push(c+1,c,a)}};function vv(n,e=!1){const t=n.length;if(t<6)return;let r=0;for(let s=0,a=n[t-2],c=n[t-1];s<t;s+=2){const f=n[s],m=n[s+1];r+=(f-a)*(m+c),a=f,c=m}if(!e&&r>0||e&&r<=0){const s=t/2;for(let a=s+s%2;a<t;a+=2){const c=t-a-2,f=t-a-1,m=a,v=a+1;[n[c],n[m]]=[n[m],n[c]],[n[f],n[v]]=[n[v],n[f]]}}}const c1={build(n){n.points=n.shape.points.slice()},triangulate(n,e){let t=n.points;const r=n.holes,s=e.points,a=e.indices;if(t.length>=6){vv(t,!1);const c=[];for(let v=0;v<r.length;v++){const b=r[v];vv(b.points,!0),c.push(t.length/2),t=t.concat(b.points)}const f=Nx(t,c,2);if(!f)return;const m=s.length/2;for(let v=0;v<f.length;v+=3)a.push(f[v]+m),a.push(f[v+1]+m),a.push(f[v+2]+m);for(let v=0;v<t.length;v++)s.push(t[v])}}},nS={build(n){const e=n.shape,t=e.x,r=e.y,s=e.width,a=e.height,c=n.points;c.length=0,s>=0&&a>=0&&c.push(t,r,t+s,r,t+s,r+a,t,r+a)},triangulate(n,e){const t=n.points,r=e.points;if(t.length===0)return;const s=r.length/2;r.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}},iS={build(n){yf.build(n)},triangulate(n,e){yf.triangulate(n,e)}};var di=(n=>(n.MITER="miter",n.BEVEL="bevel",n.ROUND="round",n))(di||{}),Ea=(n=>(n.BUTT="butt",n.ROUND="round",n.SQUARE="square",n))(Ea||{});const ah={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(n,e=20){if(!this.adaptive||!n||isNaN(n))return e;let t=Math.ceil(n/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class _v{static curveTo(e,t,r,s,a,c){const f=c[c.length-2],m=c[c.length-1]-t,v=f-e,b=s-t,d=r-e,y=Math.abs(m*d-v*b);if(y<1e-8||a===0)return(c[c.length-2]!==e||c[c.length-1]!==t)&&c.push(e,t),null;const _=m*m+v*v,T=b*b+d*d,C=m*b+v*d,A=a*Math.sqrt(_)/y,P=a*Math.sqrt(T)/y,N=A*C/_,D=P*C/T,j=A*d+P*v,O=A*b+P*m,q=v*(P+N),U=m*(P+N),J=d*(A+D),se=b*(A+D),de=Math.atan2(U-O,q-j),Se=Math.atan2(se-O,J-j);return{cx:j+e,cy:O+t,radius:a,startAngle:de,endAngle:Se,anticlockwise:v*b>d*m}}static arc(e,t,r,s,a,c,f,m,v){const b=f-c,d=ah._segmentsCount(Math.abs(b)*a,Math.ceil(Math.abs(b)/uf)*40),y=b/(d*2),_=y*2,T=Math.cos(y),C=Math.sin(y),A=d-1,P=A%1/A;for(let N=0;N<=A;++N){const D=N+P*N,j=y+c+_*D,O=Math.cos(j),q=-Math.sin(j);v.push((T*O+C*q)*a+r,(T*-q+C*O)*a+s)}}}class sS{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Xg{static curveLength(e,t,r,s,a,c,f,m){let v=0,b=0,d=0,y=0,_=0,T=0,C=0,A=0,P=0,N=0,D=0,j=e,O=t;for(let q=1;q<=10;++q)b=q/10,d=b*b,y=d*b,_=1-b,T=_*_,C=T*_,A=C*e+3*T*b*r+3*_*d*a+y*f,P=C*t+3*T*b*s+3*_*d*c+y*m,N=j-A,D=O-P,j=A,O=P,v+=Math.sqrt(N*N+D*D);return v}static curveTo(e,t,r,s,a,c,f){const m=f[f.length-2],v=f[f.length-1];f.length-=2;const b=ah._segmentsCount(Xg.curveLength(m,v,e,t,r,s,a,c));let d=0,y=0,_=0,T=0,C=0;f.push(m,v);for(let A=1,P=0;A<=b;++A)P=A/b,d=1-P,y=d*d,_=y*d,T=P*P,C=T*P,f.push(_*m+3*y*P*e+3*d*T*r+C*a,_*v+3*y*P*t+3*d*T*s+C*c)}}function xv(n,e,t,r,s,a,c,f){const m=n-t*s,v=e-r*s,b=n+t*a,d=e+r*a;let y,_;c?(y=r,_=-t):(y=-r,_=t);const T=m+y,C=v+_,A=b+y,P=d+_;return f.push(T,C,A,P),2}function kl(n,e,t,r,s,a,c,f){const m=t-n,v=r-e;let b=Math.atan2(m,v),d=Math.atan2(s-n,a-e);f&&b<d?b+=Math.PI*2:!f&&b>d&&(d+=Math.PI*2);let y=b;const _=d-b,T=Math.abs(_),C=Math.sqrt(m*m+v*v),A=(15*T*Math.sqrt(C)/Math.PI>>0)+1,P=_/A;if(y+=P,f){c.push(n,e,t,r);for(let N=1,D=y;N<A;N++,D+=P)c.push(n,e,n+Math.sin(D)*C,e+Math.cos(D)*C);c.push(n,e,s,a)}else{c.push(t,r,n,e);for(let N=1,D=y;N<A;N++,D+=P)c.push(n+Math.sin(D)*C,e+Math.cos(D)*C,n,e);c.push(s,a,n,e)}return A*2}function oS(n,e){const t=n.shape;let r=n.points||t.points.slice();const s=e.closePointEps;if(r.length===0)return;const a=n.lineStyle,c=new dt(r[0],r[1]),f=new dt(r[r.length-2],r[r.length-1]),m=t.type!==zr.POLY||t.closeStroke,v=Math.abs(c.x-f.x)<s&&Math.abs(c.y-f.y)<s;if(m){r=r.slice(),v&&(r.pop(),r.pop(),f.set(r[r.length-2],r[r.length-1]));const H=(c.x+f.x)*.5,R=(f.y+c.y)*.5;r.unshift(H,R),r.push(H,R)}const b=e.points,d=r.length/2;let y=r.length;const _=b.length/2,T=a.width/2,C=T*T,A=a.miterLimit*a.miterLimit;let P=r[0],N=r[1],D=r[2],j=r[3],O=0,q=0,U=-(N-j),J=P-D,se=0,de=0,Se=Math.sqrt(U*U+J*J);U/=Se,J/=Se,U*=T,J*=T;const Q=a.alignment,Z=(1-Q)*2,he=Q*2;m||(a.cap===Ea.ROUND?y+=kl(P-U*(Z-he)*.5,N-J*(Z-he)*.5,P-U*Z,N-J*Z,P+U*he,N+J*he,b,!0)+2:a.cap===Ea.SQUARE&&(y+=xv(P,N,U,J,Z,he,!0,b))),b.push(P-U*Z,N-J*Z,P+U*he,N+J*he);for(let H=1;H<d-1;++H){P=r[(H-1)*2],N=r[(H-1)*2+1],D=r[H*2],j=r[H*2+1],O=r[(H+1)*2],q=r[(H+1)*2+1],U=-(N-j),J=P-D,Se=Math.sqrt(U*U+J*J),U/=Se,J/=Se,U*=T,J*=T,se=-(j-q),de=D-O,Se=Math.sqrt(se*se+de*de),se/=Se,de/=Se,se*=T,de*=T;const R=D-P,z=N-j,F=D-O,k=q-j,G=R*F+z*k,X=z*F-k*R,ee=X<0;if(Math.abs(X)<.001*Math.abs(G)){b.push(D-U*Z,j-J*Z,D+U*he,j+J*he),G>=0&&(a.join===di.ROUND?y+=kl(D,j,D-U*Z,j-J*Z,D-se*Z,j-de*Z,b,!1)+4:y+=2,b.push(D-se*he,j-de*he,D+se*Z,j+de*Z));continue}const ce=(-U+P)*(-J+j)-(-U+D)*(-J+N),me=(-se+O)*(-de+j)-(-se+D)*(-de+q),le=(R*me-F*ce)/X,ge=(k*ce-z*me)/X,Ae=(le-D)*(le-D)+(ge-j)*(ge-j),Ce=D+(le-D)*Z,Be=j+(ge-j)*Z,Ue=D-(le-D)*he,Je=j-(ge-j)*he,_t=Math.min(R*R+z*z,F*F+k*k),qe=ee?Z:he,Qe=_t+qe*qe*C,or=Ae<=Qe;let Un=a.join;if(Un===di.MITER&&Ae/C>A&&(Un=di.BEVEL),or)switch(Un){case di.MITER:{b.push(Ce,Be,Ue,Je);break}case di.BEVEL:{ee?b.push(Ce,Be,D+U*he,j+J*he,Ce,Be,D+se*he,j+de*he):b.push(D-U*Z,j-J*Z,Ue,Je,D-se*Z,j-de*Z,Ue,Je),y+=2;break}case di.ROUND:{ee?(b.push(Ce,Be,D+U*he,j+J*he),y+=kl(D,j,D+U*he,j+J*he,D+se*he,j+de*he,b,!0)+4,b.push(Ce,Be,D+se*he,j+de*he)):(b.push(D-U*Z,j-J*Z,Ue,Je),y+=kl(D,j,D-U*Z,j-J*Z,D-se*Z,j-de*Z,b,!1)+4,b.push(D-se*Z,j-de*Z,Ue,Je));break}}else{switch(b.push(D-U*Z,j-J*Z,D+U*he,j+J*he),Un){case di.MITER:{ee?b.push(Ue,Je,Ue,Je):b.push(Ce,Be,Ce,Be),y+=2;break}case di.ROUND:{ee?y+=kl(D,j,D+U*he,j+J*he,D+se*he,j+de*he,b,!0)+2:y+=kl(D,j,D-U*Z,j-J*Z,D-se*Z,j-de*Z,b,!1)+2;break}}b.push(D-se*Z,j-de*Z,D+se*he,j+de*he),y+=2}}P=r[(d-2)*2],N=r[(d-2)*2+1],D=r[(d-1)*2],j=r[(d-1)*2+1],U=-(N-j),J=P-D,Se=Math.sqrt(U*U+J*J),U/=Se,J/=Se,U*=T,J*=T,b.push(D-U*Z,j-J*Z,D+U*he,j+J*he),m||(a.cap===Ea.ROUND?y+=kl(D-U*(Z-he)*.5,j-J*(Z-he)*.5,D-U*Z,j-J*Z,D+U*he,j+J*he,b,!1)+2:a.cap===Ea.SQUARE&&(y+=xv(D,j,U,J,Z,he,!1,b)));const _e=e.indices,B=ah.epsilon*ah.epsilon;for(let H=_;H<y+_-2;++H)P=b[H*2],N=b[H*2+1],D=b[(H+1)*2],j=b[(H+1)*2+1],O=b[(H+2)*2],q=b[(H+2)*2+1],!(Math.abs(P*(j-q)+D*(q-N)+O*(N-j))<B)&&_e.push(H,H+1,H+2)}function aS(n,e){let t=0;const r=n.shape,s=n.points||r.points,a=r.type!==zr.POLY||r.closeStroke;if(s.length===0)return;const c=e.points,f=e.indices,m=s.length/2,v=c.length/2;let b=v;for(c.push(s[0],s[1]),t=1;t<m;t++)c.push(s[t*2],s[t*2+1]),f.push(b,b+1),b++;a&&f.push(b,v)}function wv(n,e){n.lineStyle.native?aS(n,e):oS(n,e)}class Yg{static curveLength(e,t,r,s,a,c){const f=e-2*r+a,m=t-2*s+c,v=2*r-2*e,b=2*s-2*t,d=4*(f*f+m*m),y=4*(f*v+m*b),_=v*v+b*b,T=2*Math.sqrt(d+y+_),C=Math.sqrt(d),A=2*d*C,P=2*Math.sqrt(_),N=y/C;return(A*T+C*y*(T-P)+(4*_*d-y*y)*Math.log((2*C+N+T)/(N+P)))/(4*A)}static curveTo(e,t,r,s,a){const c=a[a.length-2],f=a[a.length-1],m=ah._segmentsCount(Yg.curveLength(c,f,e,t,r,s));let v=0,b=0;for(let d=1;d<=m;++d){const y=d/m;v=c+(e-c)*y,b=f+(t-f)*y,a.push(v+(e+(r-e)*y-v)*y,b+(t+(s-t)*y-b)*y)}}}const Dm={[zr.POLY]:c1,[zr.CIRC]:yf,[zr.ELIP]:yf,[zr.RECT]:nS,[zr.RREC]:iS},bv=[],Ud=[];class vf{constructor(e,t=null,r=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=s,this.type=e.type}clone(){return new vf(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const zu=new dt,d1=class f1 extends y_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new pf,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Ud.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),bv.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,s=null){const a=new vf(e,t,r,s);return this.graphicsData.push(a),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const r=new vf(e,null,null,t),s=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=s.lineStyle,s.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let r=0;r<t.length;++r){const s=t[r];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,zu):zu.copyFrom(e),s.shape.contains(zu.x,zu.y))){let a=!1;if(s.holes){for(let c=0;c<s.holes.length;c++)if(s.holes[c].shape.contains(zu.x,zu.y)){a=!0;break}}if(!a)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let r=null,s=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],s=r.style);for(let m=this.shapeIndex;m<t.length;m++){this.shapeIndex++;const v=t[m],b=v.fillStyle,d=v.lineStyle;Dm[v.type].build(v),v.matrix&&this.transformPoints(v.points,v.matrix),(b.visible||d.visible)&&this.processHoles(v.holes);for(let y=0;y<2;y++){const _=y===0?b:d;if(!_.visible)continue;const T=_.texture.baseTexture,C=this.indices.length,A=this.points.length/2;T.wrapMode=wo.REPEAT,y===0?this.processFill(v):this.processLine(v);const P=this.points.length/2-A;P!==0&&(r&&!this._compareStyles(s,_)&&(r.end(C,A),r=null),r||(r=bv.pop()||new sS,r.begin(_,C,A),this.batches.push(r),s=_),this.addUvs(this.points,e,_.texture,A,P,_.matrix))}}const a=this.indices.length,c=this.points.length/2;if(r&&r.end(a,c),this.batches.length===0){this.batchable=!0;return}const f=c>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&f===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=f?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const r=this.graphicsData[e],s=r.fillStyle,a=r.lineStyle;if(s&&!s.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,r=e.length;t<r;t++){const s=e[t];for(let a=0;a<s.size;a++){const c=s.start+a;this.indicesUint16[c]=this.indicesUint16[c]-s.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<f1.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++st._globalBatch;for(let d=0;d<this.drawCalls.length;d++)this.drawCalls[d].texArray.clear(),Ud.push(this.drawCalls[d]);this.drawCalls.length=0;const t=this.colors,r=this.textureIds;let s=Ud.pop();s||(s=new rg,s.texArray=new og),s.texArray.count=0,s.start=0,s.size=0,s.type=Vi.TRIANGLES;let a=0,c=null,f=0,m=!1,v=Vi.TRIANGLES,b=0;this.drawCalls.push(s);for(let d=0;d<this.batches.length;d++){const y=this.batches[d],_=8,T=y.style,C=T.texture.baseTexture;m!==!!T.native&&(m=!!T.native,v=m?Vi.LINES:Vi.TRIANGLES,c=null,a=_,e++),c!==C&&(c=C,C._batchEnabled!==e&&(a===_&&(e++,a=0,s.size>0&&(s=Ud.pop(),s||(s=new rg,s.texArray=new og),this.drawCalls.push(s)),s.start=b,s.size=0,s.texArray.count=0,s.type=v),C.touched=1,C._batchEnabled=e,C._batchLocation=a,C.wrapMode=wo.REPEAT,s.texArray.elements[s.texArray.count++]=C,a++)),s.size+=y.size,b+=y.size,f=C._batchLocation,this.addColors(t,T.color,T.alpha,y.attribSize,y.attribStart),this.addTextureIds(r,f,y.attribSize,y.attribStart)}st._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,r=this.colors,s=this.textureIds,a=new ArrayBuffer(e.length*3*4),c=new Float32Array(a),f=new Uint32Array(a);let m=0;for(let v=0;v<e.length/2;v++)c[m++]=e[v*2],c[m++]=e[v*2+1],c[m++]=t[v*2],c[m++]=t[v*2+1],f[m++]=r[v],c[m++]=s[v];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?c1.triangulate(e,this):Dm[e.type].triangulate(e,this)}processLine(e){wv(e,this);for(let t=0;t<e.holes.length;t++)wv(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const r=e[t];Dm[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){const s=e[r*2],a=e[r*2+1];e[r*2]=t.a*s+t.c*a+t.tx,e[r*2+1]=t.b*s+t.d*a+t.ty}}addColors(e,t,r,s,a=0){const c=Ut.shared.setValue(t).toLittleEndianNumber(),f=Ut.shared.setValue(c).toPremultiplied(r);e.length=Math.max(e.length,a+s);for(let m=0;m<s;m++)e[a+m]=f}addTextureIds(e,t,r,s=0){e.length=Math.max(e.length,s+r);for(let a=0;a<r;a++)e[s+a]=t}addUvs(e,t,r,s,a,c=null){let f=0;const m=t.length,v=r.frame;for(;f<a;){let d=e[(s+f)*2],y=e[(s+f)*2+1];if(c){const _=c.a*d+c.c*y+c.tx;y=c.b*d+c.d*y+c.ty,d=_}f++,t.push(d/v.width,y/v.height)}const b=r.baseTexture;(v.width<b.width||v.height<b.height)&&this.adjustUvs(t,r,m,a)}adjustUvs(e,t,r,s){const a=t.baseTexture,c=1e-6,f=r+s*2,m=t.frame,v=m.width/a.width,b=m.height/a.height;let d=m.x/m.width,y=m.y/m.height,_=Math.floor(e[r]+c),T=Math.floor(e[r+1]+c);for(let C=r+2;C<f;C+=2)_=Math.min(_,Math.floor(e[C]+c)),T=Math.min(T,Math.floor(e[C+1]+c));d-=_,y-=T;for(let C=r;C<f;C+=2)e[C]=(e[C]+d)*v,e[C+1]=(e[C+1]+y)*b}};d1.BATCHABLE_SIZE=100;let lS=d1;class Of{constructor(){this.color=16777215,this.alpha=1,this.texture=Re.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Of;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Re.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class qg extends Of{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ea.BUTT,this.join=di.MITER,this.miterLimit=10}clone(){const e=new qg;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Ea.BUTT,this.join=di.MITER,this.miterLimit=10}}const Nm={},wg=class of extends pn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Of,this._lineStyle=new qg,this._matrix=null,this._holeMode=!1,this.state=Ns.for2d(),this._geometry=e||new lS,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Ut(16777215),this.blendMode=et.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new of(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,s=.5,a=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:r,alignment:s,native:a}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:Re.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ea.BUTT,join:di.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new Hl,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new Hl,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,s=r[r.length-2],a=r[r.length-1];return(s!==e||a!==t)&&r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,s){this._initCurve();const a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),Yg.curveTo(e,t,r,s,a),this}bezierCurveTo(e,t,r,s,a,c){return this._initCurve(),Xg.curveTo(e,t,r,s,a,c,this.currentPath.points),this}arcTo(e,t,r,s,a){this._initCurve(e,t);const c=this.currentPath.points,f=_v.curveTo(e,t,r,s,a,c);if(f){const{cx:m,cy:v,radius:b,startAngle:d,endAngle:y,anticlockwise:_}=f;this.arc(m,v,b,d,y,_)}return this}arc(e,t,r,s,a,c=!1){if(s===a)return this;if(!c&&a<=s?a+=uf:c&&s<=a&&(s+=uf),a-s===0)return this;const f=e+Math.cos(s)*r,m=t+Math.sin(s)*r,v=this._geometry.closePointEps;let b=this.currentPath?this.currentPath.points:null;if(b){const d=Math.abs(b[b.length-2]-f),y=Math.abs(b[b.length-1]-m);d<v&&y<v||b.push(f,m)}else this.moveTo(f,m),b=this.currentPath.points;return _v.arc(f,m,e,t,r,s,a,c,b),this}beginFill(e=0,t){return this.beginTextureFill({texture:Re.WHITE,color:e,alpha:t})}normalizeColor(e){const t=Ut.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:Re.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,s){return this.drawShape(new at(e,t,r,s))}drawRoundedRect(e,t,r,s,a){return this.drawShape(new Rf(e,t,r,s,a))}drawCircle(e,t,r){return this.drawShape(new Pf(e,t,r))}drawEllipse(e,t,r,s){return this.drawShape(new If(e,t,r,s))}drawPolygon(...e){let t,r=!0;const s=e[0];s.points?(r=s.closeStroke,t=s.points):Array.isArray(e[0])?t=e[0]:t=e;const a=new Hl(t);return a.closeStroke=r,this.drawShape(a),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===zr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let s=0;s<r;s++){const a=e.batches[s],c=a.style.color,f=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),m=new Float32Array(e.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),v=new Uint16Array(e.indicesUint16.buffer,a.start*2,a.size),b={vertexData:f,blendMode:t,indices:v,uvs:m,_batchRGB:Ut.shared.setValue(c).toRgbArray(),_tintRGB:c,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[s]=b}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){const s=this.batches[t];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}}_renderDirect(e){const t=this._resolveDirectShader(e),r=this._geometry,s=this.worldAlpha,a=t.uniforms,c=r.drawCalls;a.translationMatrix=this.transform.worldTransform,Ut.shared.setValue(this._tintColor).premultiply(s).toArray(a.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let f=0,m=c.length;f<m;f++)this._renderDrawCallDirect(e,r.drawCalls[f])}_renderDrawCallDirect(e,t){const{texArray:r,type:s,size:a,start:c}=t,f=r.count;for(let m=0;m<f;m++)e.texture.bind(r.elements[m],m);e.geometry.draw(s,a,c)}_resolveDirectShader(e){let t=this.shader;const r=this.pluginName;if(!t){if(!Nm[r]){const{maxTextures:s}=e.plugins[r],a=new Int32Array(s);for(let m=0;m<s;m++)a[m]=m;const c={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ht,default:Xi.from({uSamplers:a},!0)},f=e.plugins[r]._shader.program;Nm[r]=new Is(f,c)}t=Nm[r]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:r,maxX:s,maxY:a}=e.bounds;this._bounds.addFrame(this.transform,t,r,s,a)}containsPoint(e){return this.worldTransform.applyInverse(e,of._TEMP_POINT),this._geometry.containsPoint(of._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=Ut.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,r=t.a,s=t.b,a=t.c,c=t.d,f=t.tx,m=t.ty,v=this._geometry.points,b=this.vertexData;let d=0;for(let y=0;y<v.length;y+=2){const _=v[y],T=v[y+1];b[d++]=r*_+a*T+f,b[d++]=c*T+s*_+m}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};wg.curves=ah,wg._TEMP_POINT=new dt;let Ac=wg;class uS extends Nf{constructor(e=100,t=100,r=10,s=10){super(),this.segWidth=r,this.segHeight=s,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],r=[],s=[],a=this.segWidth-1,c=this.segHeight-1,f=this.width/a,m=this.height/c;for(let b=0;b<e;b++){const d=b%this.segWidth,y=b/this.segWidth|0;t.push(d*f,y*m),r.push(d/a,y/c)}const v=a*c;for(let b=0;b<v;b++){const d=b%a,y=b/a|0,_=y*this.segWidth+d,T=y*this.segWidth+d+1,C=(y+1)*this.segWidth+d,A=(y+1)*this.segWidth+d+1;s.push(_,T,C,T,A,C)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class hS extends Nf{constructor(e=200,t,r=0){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),s=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),s.data=new Uint16Array((e.length-1)*6));const a=r.data,c=s.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;let f=0,m=e[0];const v=this._width*this.textureScale,b=e.length;for(let y=0;y<b;y++){const _=y*4;if(this.textureScale>0){const T=m.x-e[y].x,C=m.y-e[y].y,A=Math.sqrt(T*T+C*C);m=e[y],f+=A/v}else f=y/(b-1);a[_]=f,a[_+1]=0,a[_+2]=f,a[_+3]=1}let d=0;for(let y=0;y<b-1;y++){const _=y*2;c[d++]=_,c[d++]=_+1,c[d++]=_+2,c[d++]=_+2,c[d++]=_+1,c[d++]=_+3}r.update(),s.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t=e[0],r,s=0,a=0;const c=this.buffers[0].data,f=e.length,m=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let v=0;v<f;v++){const b=e[v],d=v*4;v<e.length-1?r=e[v+1]:r=b,a=-(r.x-t.x),s=r.y-t.y;const y=Math.sqrt(s*s+a*a);y<1e-6?(s=0,a=0):(s/=y,a/=y,s*=m,a*=m),c[d]=b.x+s,c[d+1]=b.y+a,c[d+2]=b.x-s,c[d+3]=b.y-a,t=b}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class cS extends Pc{constructor(e,t,r){const s=new uS(e.width,e.height,t,r),a=new Ic(Re.WHITE);super(s,a),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:r}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Gd=10;class dS extends cS{constructor(e,t,r,s,a){var c,f,m,v;super(Re.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??((c=e.defaultBorders)==null?void 0:c.left)??Gd,this._rightWidth=s??((f=e.defaultBorders)==null?void 0:f.right)??Gd,this._topHeight=r??((m=e.defaultBorders)==null?void 0:m.top)??Gd,this._bottomHeight=a??((v=e.defaultBorders)==null?void 0:v.bottom)??Gd,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,s=this._height>r?1:this._height/r;return Math.min(t,s)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,s=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=s*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class fS extends Pc{constructor(e=Re.EMPTY,t,r,s,a){const c=new Nf(t,r,s);c.getBuffer("aVertexPosition").static=!1;const f=new Ic(e);super(c,f,null,a),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class pS extends Pc{constructor(e,t,r=0){const s=new hS(e.height,t,r),a=new Ic(e);r>0&&(e.baseTexture.wrapMode=wo.REPEAT),super(s,a),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}class mS extends pn{constructor(e=1500,t,r=16384,s=!1){super();const a=16384;r>a&&(r=a),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=et.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new Ut(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Ev{constructor(e,t,r){this.geometry=new Ta,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let s=0;s<e.length;++s){let a=e[s];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||Ye.FLOAT,offset:a.offset},t[s]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new pr(Pw(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let c=0;c<this.dynamicProperties.length;++c){const f=this.dynamicProperties[c];f.offset=t,t+=f.size,this.dynamicStride+=f.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new pr(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let c=0;c<this.staticProperties.length;++c){const f=this.staticProperties[c];f.offset=s,s+=f.size,this.staticStride+=f.size}const a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new pr(this.staticData,!0,!1);for(let c=0;c<this.dynamicProperties.length;++c){const f=this.dynamicProperties[c];e.addAttribute(f.attributeName,this.dynamicBuffer,0,f.type===Ye.UNSIGNED_BYTE,f.type,this.dynamicStride*4,f.offset*4)}for(let c=0;c<this.staticProperties.length;++c){const f=this.staticProperties[c];e.addAttribute(f.attributeName,this.staticBuffer,0,f.type===Ye.UNSIGNED_BYTE,f.type,this.staticStride*4,f.offset*4)}}uploadDynamic(e,t,r){for(let s=0;s<this.dynamicProperties.length;s++){const a=this.dynamicProperties[s];a.uploadFunction(e,t,r,a.type===Ye.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,r){for(let s=0;s<this.staticProperties.length;s++){const a=this.staticProperties[s];a.uploadFunction(e,t,r,a.type===Ye.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var gS=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,yS=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class p1 extends Mf{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ht,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ye.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Is.from(yS,gS,{}),this.state=Ns.for2d()}render(e){const t=e.children,r=e._maxSize,s=e._batchSize,a=this.renderer;let c=t.length;if(c===0)return;c>r&&!e.autoResize&&(c=r);let f=e._buffers;f||(f=e._buffers=this.generateBuffers(e));const m=t[0]._texture.baseTexture,v=m.alphaMode>0;this.state.blendMode=p_(e.blendMode,v),a.state.set(this.state);const b=a.gl,d=e.worldTransform.copyTo(this.tempMatrix);d.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=d.toArray(!0),this.shader.uniforms.uColor=Ut.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,v).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=m,this.renderer.shader.bind(this.shader);let y=!1;for(let _=0,T=0;_<c;_+=s,T+=1){let C=c-_;C>s&&(C=s),T>=f.length&&f.push(this._generateOneMoreBuffer(e));const A=f[T];A.uploadDynamic(t,_,C);const P=e._bufferUpdateIDs[T]||0;y=y||A._updateID<P,y&&(A._updateID=e._updateID,A.uploadStatic(t,_,C)),a.geometry.bind(A.geometry),b.drawElements(b.TRIANGLES,C*6,b.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],r=e._maxSize,s=e._batchSize,a=e._properties;for(let c=0;c<r;c+=s)t.push(new Ev(this.properties,a,s));return t}_generateOneMoreBuffer(e){const t=e._batchSize,r=e._properties;return new Ev(this.properties,r,t)}uploadVertices(e,t,r,s,a,c){let f=0,m=0,v=0,b=0;for(let d=0;d<r;++d){const y=e[t+d],_=y._texture,T=y.scale.x,C=y.scale.y,A=_.trim,P=_.orig;A?(m=A.x-y.anchor.x*P.width,f=m+A.width,b=A.y-y.anchor.y*P.height,v=b+A.height):(f=P.width*(1-y.anchor.x),m=P.width*-y.anchor.x,v=P.height*(1-y.anchor.y),b=P.height*-y.anchor.y),s[c]=m*T,s[c+1]=b*C,s[c+a]=f*T,s[c+a+1]=b*C,s[c+a*2]=f*T,s[c+a*2+1]=v*C,s[c+a*3]=m*T,s[c+a*3+1]=v*C,c+=a*4}}uploadPosition(e,t,r,s,a,c){for(let f=0;f<r;f++){const m=e[t+f].position;s[c]=m.x,s[c+1]=m.y,s[c+a]=m.x,s[c+a+1]=m.y,s[c+a*2]=m.x,s[c+a*2+1]=m.y,s[c+a*3]=m.x,s[c+a*3+1]=m.y,c+=a*4}}uploadRotation(e,t,r,s,a,c){for(let f=0;f<r;f++){const m=e[t+f].rotation;s[c]=m,s[c+a]=m,s[c+a*2]=m,s[c+a*3]=m,c+=a*4}}uploadUvs(e,t,r,s,a,c){for(let f=0;f<r;++f){const m=e[t+f]._texture._uvs;m?(s[c]=m.x0,s[c+1]=m.y0,s[c+a]=m.x1,s[c+a+1]=m.y1,s[c+a*2]=m.x2,s[c+a*2+1]=m.y2,s[c+a*3]=m.x3,s[c+a*3+1]=m.y3,c+=a*4):(s[c]=0,s[c+1]=0,s[c+a]=0,s[c+a+1]=0,s[c+a*2]=0,s[c+a*2+1]=0,s[c+a*3]=0,s[c+a*3+1]=0,c+=a*4)}}uploadTint(e,t,r,s,a,c){for(let f=0;f<r;++f){const m=e[t+f],v=Ut.shared.setValue(m._tintRGB).toPremultiplied(m.alpha,m.texture.baseTexture.alphaMode>0);s[c]=v,s[c+a]=v,s[c+a*2]=v,s[c+a*3]=v,c+=a*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}p1.extension={name:"particle",type:Me.RendererPlugin};Ve.add(p1);class Rc extends Fs{constructor(e,t=!0){super(e[0]instanceof Re?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Sr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Sr.shared.add(this.update,this,Aa.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=t/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const a=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let r=0;r<e.length;++r)t.push(Re.from(e[r]));return new Rc(t)}static fromImages(e){const t=[];for(let r=0;r<e.length;++r)t.push(Re.from(e[r]));return new Rc(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof Re)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Sr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Sr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const pc=new dt;class Qg extends Fs{constructor(e,t=100,r=100){super(e),this.tileTransform=new kf,this._width=t,this._height=r,this.uvMatrix=this.texture.uvMatrix||new jg(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,s)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new at),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,pc);const t=this._width,r=this._height,s=-t*this.anchor._x;if(pc.x>=s&&pc.x<s+t){const a=-r*this.anchor._y;if(pc.y>=a&&pc.y<a+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const r=e instanceof Re?e:Re.from(e,t);return new Qg(r,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var vS=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,_S=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,xS=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Sv=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,wS=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Hd=new Ht;class m1 extends Mf{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new C_,this.state=Ns.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Is.from(Sv,wS,t),this.shader=e.context.webGLVersion>1?Is.from(_S,vS,t):Is.from(Sv,xS,t)}render(e){const t=this.renderer,r=this.quad;let s=r.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);const a=e.uvRespectAnchor?e.anchor.x:0,c=e.uvRespectAnchor?e.anchor.y:0;s=r.uvs,s[0]=s[6]=-a,s[1]=s[3]=-c,s[2]=s[4]=1-a,s[5]=s[7]=1-c,r.invalidate();const f=e._texture,m=f.baseTexture,v=m.alphaMode>0,b=e.tileTransform.localTransform,d=e.uvMatrix;let y=m.isPowerOfTwo&&f.frame.width===m.width&&f.frame.height===m.height;y&&(m._glTextures[t.CONTEXT_UID]?y=m.wrapMode!==wo.CLAMP:m.wrapMode===wo.CLAMP&&(m.wrapMode=wo.REPEAT));const _=y?this.simpleShader:this.shader,T=f.width,C=f.height,A=e._width,P=e._height;Hd.set(b.a*T/A,b.b*T/P,b.c*C/A,b.d*C/P,b.tx/A,b.ty/P),Hd.invert(),y?Hd.prepend(d.mapCoord):(_.uniforms.uMapCoord=d.mapCoord.toArray(!0),_.uniforms.uClampFrame=d.uClampFrame,_.uniforms.uClampOffset=d.uClampOffset),_.uniforms.uTransform=Hd.toArray(!0),_.uniforms.uColor=Ut.shared.setValue(e.tint).premultiply(e.worldAlpha,v).toArray(_.uniforms.uColor),_.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),_.uniforms.uSampler=f,t.shader.bind(_),t.geometry.bind(r),this.state.blendMode=p_(e.blendMode,v),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}m1.extension={name:"tilingSprite",type:Me.RendererPlugin};Ve.add(m1);const g1=class bg{constructor(e){this.stage=new pn,e=Object.assign({forceCanvas:!1},e),this.renderer=zb(e),bg._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,t){const r=bg._plugins.slice(0);r.reverse(),r.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};g1._plugins=[];let Bf=g1;Ve.handleByList(Me.Application,Bf._plugins);class y1{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,r;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:a}=this._resizeTo;t=s,r=a}this.renderer.resize(t,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}y1.extension=Me.Application;Ve.add(y1);var Fm={exports:{}},Om,Tv;function bS(){if(Tv)return Om;Tv=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Om=n,Om}var Bm,Av;function ES(){if(Av)return Bm;Av=1;var n=bS();function e(){}function t(){}return t.resetWarningCache=e,Bm=function(){function r(c,f,m,v,b,d){if(d!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Bm}var Cv;function SS(){return Cv||(Cv=1,Fm.exports=ES()()),Fm.exports}var TS=SS();const Gt=Tf(TS);function Jn(n){return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(n)}function v1(n){var e=function(t,r){if(Jn(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r||"default");if(Jn(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}(n,"string");return Jn(e)==="symbol"?e:String(e)}function dr(n,e,t){return(e=v1(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Lm(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function So(n){return function(e){if(Array.isArray(e))return Lm(e)}(n)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||function(e,t){if(e){if(typeof e=="string")return Lm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lm(e,t):void 0}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sr(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s]}var AS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var PS=function(n){return n==null};function wc(n){var e=[];if(n===void 0)return e;if(typeof n=="string")e=n.split(",");else if(typeof n=="number")e=[n];else if(Array.isArray(n))e=So(n);else{if(n===null||Jn(n)!=="object")return e;e=[n&&(n==null?void 0:n.x)||0,n&&(n==null?void 0:n.y)||0]}return e.filter(function(t){return!PS(t)&&!isNaN(t)}).map(Number)}function Pv(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Um(n){return n instanceof dt||n instanceof Cs}var _f=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Gm(n,e,t){if(Um(n[e])&&Um(t))n[e].copyFrom(t);else if(Um(n[e])){var r=wc(t);sr(r!==void 0&&r.length>0&&r.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(t),Jn(t)),n[e].set(r.shift(),r.shift())}else n[e]=t}var ju,_1=function(n){var e,t=n;if(!Array.isArray(t)){if(e=n,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");t=Object.keys(n)}var r={};return t.forEach(function(s){r[s]=!0}),function(s){return r[s]!==void 0}},x1=function(n){return function(){return!n.apply(void 0,arguments)}},Eg="children",IS=(dr(ju={},Eg,!0),dr(ju,"parent",!0),dr(ju,"worldAlpha",!0),dr(ju,"worldTransform",!0),dr(ju,"worldVisible",!0),ju),Sg={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Ms=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(f){return requestAnimationFrame(function(){var m,v;f==null||(m=f.__reactpixi)===null||m===void 0||(v=m.root)===null||v===void 0||v.emit("__REACT_PIXI_REQUEST_RENDER__")})},s=function(f,m){if(t.hasOwnProperty(f))return sr(m.typeofs.some(function(v){return Jn(t[f])===v})||m.instanceofs.some(function(v){return t[f]instanceof v}),"".concat(n," ").concat(f," prop is invalid")),t[f]};if(t.texture)return sr(t.texture instanceof Re,"".concat(n," texture needs to be typeof `Texture`")),t.texture;var a=s("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||s("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||s("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,Re]});sr(!!a,"".concat(n," could not get texture from props"));var c=Re.from(a);return c.__reactpixi={root:e},c.once("update",r),c.once("loaded",r),c.valid&&r(c),c},RS=x1(_1([].concat(So(Object.keys(IS)),So(_f))));function Ds(n,e,t){var r=!1;if(sr($t.prototype.isPrototypeOf(n),"instance needs to be typeof `DisplayObject`, got `%s`",Jn(n)),!t.ignoreEvents)for(var s=typeof n.removeListener=="function",a=typeof n.on=="function",c=0;c<_f.length;c++){var f=_f[c];e[f]!==t[f]&&(r=!0,typeof e[f]=="function"&&s&&n.removeListener(f,e[f]),typeof t[f]=="function"&&a&&n.on(f,t[f]))}var m=Object.keys(t||{});if(t.overwriteProps){for(var v=0;v<m.length;v++){var b=m[v];e[b]!==t[b]&&(r=!0,Gm(n,b,t[b]))}return r}for(var d=m.filter(RS),y=0;y<d.length;y++){var _=d[y],T=t[_];t[_]!==e[_]&&(r=!0),T!==void 0?Gm(n,_,T):_ in Sg?(console.warn("setting default value: ".concat(_,", from: ").concat(n[_]," to: ").concat(T," for"),n),r=!0,Gm(n,_,Sg[_])):console.warn("ignoring prop: ".concat(_,", from ").concat(n[_]," to ").concat(T," for"),n)}return r}var kS=function(n,e){var t=e.text,r=e.style;return new fE(t,r)},MS=function(){return new pn};function Pa(n,e){if(n==null)return{};var t,r,s=function(c,f){if(c==null)return{};var m,v,b={},d=Object.keys(c);for(v=0;v<d.length;v++)m=d[v],f.indexOf(m)>=0||(b[m]=c[m]);return b}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var DS=["draw","geometry"],NS=function(n,e){var t=e.geometry;sr(!t||t instanceof Ac,"Graphics geometry needs to be a `Graphics`");var r=t?new Ac(t.geometry):new Ac;return r.applyProps=function(s,a,c){var f=c.draw;c.geometry;var m=Ds(s,a,Pa(c,DS));return a.draw!==f&&typeof f=="function"&&(m=!0,f.call(r,r)),m},r},FS=["image","texture"],OS=function(n,e){var t=e.leftWidth,r=t===void 0?10:t,s=e.topHeight,a=s===void 0?10:s,c=e.rightWidth,f=c===void 0?10:c,m=e.bottomHeight,v=m===void 0?10:m,b=Ms("NineSlicePlane",n,e),d=new dS(b,r,a,f,v);return d.applyProps=function(y,_,T){var C=T.image,A=T.texture,P=Ds(y,_,Pa(T,FS));return(C||A)&&(A!==_.texture&&(P=!0),y.texture=Ms("NineSlicePlane",n,T)),P},d};function Iv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function zd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Iv(Object(t),!0).forEach(function(r){dr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Iv(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var BS=function(n,e){var t=e.maxSize,r=t===void 0?1500:t,s=e.batchSize,a=s===void 0?16384:s,c=e.autoResize,f=c!==void 0&&c,m=zd(zd({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),v=zd(zd({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),b=new mS(r,m,a,f);return b.willUnmount=function(d,y,_){d.destroy(v)},b},LS=["image","texture"],US=function(n,e){var t=new Fs(Ms("Sprite",n,e));return t.applyProps=function(r,s,a){var c=a.image,f=a.texture,m=Ds(r,s,Pa(a,LS));return(f&&s.texture!==a.texture||c&&s.image!==a.image)&&(s.texture!==a.texture&&(m=!0),r.texture=Ms("Sprite",n,a)),m},t},GS=["textures","isPlaying","initialFrame","images"],HS=function(n,e){var t=e.textures,r=e.images,s=e.isPlaying,a=s===void 0||s,c=e.initialFrame,f=function(v){return v.map(function(b){return sr(b instanceof Re||(b==null?void 0:b.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),b})},m=r?Rc.fromImages(r):new Rc(f(t));return m[a?"gotoAndPlay":"gotoAndStop"](c||0),m.applyProps=function(v,b,d){var y=d.textures,_=d.isPlaying,T=d.initialFrame,C=d.images,A=Ds(v,b,Pa(d,GS));if(C&&b.images!==C){for(var P=[],N=0;N<C.length;++N)P.push(Re.from(C[N]));v.textures=P,A=!0}if(y&&b.textures!==y&&(v.textures=f(y),A=!0),_!==b.isPlaying||T!==b.initialFrame){var D=typeof T=="number"?T:m.currentFrame||0;m[_?"gotoAndPlay":"gotoAndStop"](D),A=!0}return A},m},zS=function(n,e){var t=e.text,r=t===void 0?"":t,s=e.style,a=s===void 0?{}:s,c=e.isSprite,f=new Wg(r,a);return c?(f.updateText(),new Fs(f.texture)):f},jS=["tileScale","tilePosition","image","texture"],VS=function(n,e){var t=e.width,r=t===void 0?100:t,s=e.height,a=s===void 0?100:s,c=Ms("TilingSprite",n,e),f=new Qg(c,r,a);return f.applyProps=function(m,v,b){var d=b.tileScale,y=b.tilePosition,_=b.image,T=b.texture,C=Ds(m,v,Pa(b,jS));if(y){var A,P=wc(y);(A=m.tilePosition).set.apply(A,So(P)),C=!Pv(wc(v.tilePosition),P)||C}if(d){var N,D=wc(d);(N=m.tileScale).set.apply(N,So(D)),C=!Pv(wc(v.tileScale),D)||C}return(_||T)&&(T!==v.texture&&(C=!0),m.texture=Ms("Sprite",n,b)),C},f},WS=["image","texture"],$S=function(n,e){var t=Ms("Mesh",n,e),r=e.vertices,s=e.uvs,a=e.indices,c=e.drawMode,f=c===void 0?Vi.TRIANGLES:c,m=new fS(t,r,s,a,f);return m.applyProps=function(v,b,d){var y=d.image,_=d.texture,T=Ds(v,b,Pa(d,WS));return(y||_)&&(_!==b.texture&&(T=!0),v.texture=Ms("Mesh",n,d)),T},m},XS=["image","texture"],YS=function(n,e){var t=Ms("SimpleRope",n,e),r=e.points,s=new pS(t,r);return s.applyProps=function(a,c,f){var m=f.image,v=f.texture,b=Pa(f,XS);sr(Array.isArray(f.points),"SimpleRope points needs to be %s","Array<Point>");var d=Ds(a,c,b);return(m||v)&&(v!==c.texture&&(d=!0),a.texture=Ms("SimpleRope",n,f)),d},s},qS=Object.freeze({__proto__:null,BitmapText:kS,Container:MS,Graphics:NS,NineSlicePlane:OS,ParticleContainer:BS,Sprite:US,Text:zS,TilingSprite:VS,SimpleMesh:$S,SimpleRope:YS,AnimatedSprite:HS});function Rv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function kv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rv(Object(t),!0).forEach(function(r){dr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rv(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Ln={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},QS=Object.keys(Ln).reduce(function(n,e){return kv(kv({},n),{},dr({},e,qS[e]))},{}),w1={};function KS(n,e){return sr(!!n,"Expect type to be defined, got `%s`",n),sr(!Ln[n],"Component `%s` could not be created, already exists in default components.",n),w1[n]=e,n}var Mv,Dv,Nv,Fv,Tg={},Ag={},ZS={get exports(){return Ag},set exports(n){Ag=n}},Ov={};function JS(){return Dv||(Dv=1,ZS.exports=(Mv||(Mv=1,function(n){function e(R,z){var F=R.length;R.push(z);e:for(;0<F;){var k=F-1>>>1,G=R[k];if(!(0<s(G,z)))break e;R[k]=z,R[F]=G,F=k}}function t(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var z=R[0],F=R.pop();if(F!==z){R[0]=F;e:for(var k=0,G=R.length,X=G>>>1;k<X;){var ee=2*(k+1)-1,ce=R[ee],me=ee+1,le=R[me];if(0>s(ce,F))me<G&&0>s(le,ce)?(R[k]=le,R[me]=F,k=me):(R[k]=ce,R[ee]=F,k=ee);else{if(!(me<G&&0>s(le,F)))break e;R[k]=le,R[me]=F,k=me}}}return z}function s(R,z){var F=R.sortIndex-z.sortIndex;return F!==0?F:R.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],v=[],b=1,d=null,y=3,_=!1,T=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(R){for(var z=t(v);z!==null;){if(z.callback===null)r(v);else{if(!(z.startTime<=R))break;r(v),z.sortIndex=z.expirationTime,e(m,z)}z=t(v)}}function j(R){if(C=!1,D(R),!T)if(t(m)!==null)T=!0,B(O);else{var z=t(v);z!==null&&H(j,z.startTime-R)}}function O(R,z){T=!1,C&&(C=!1,P(se),se=-1),_=!0;var F=y;try{for(D(z),d=t(m);d!==null&&(!(d.expirationTime>z)||R&&!Q());){var k=d.callback;if(typeof k=="function"){d.callback=null,y=d.priorityLevel;var G=k(d.expirationTime<=z);z=n.unstable_now(),typeof G=="function"?d.callback=G:d===t(m)&&r(m),D(z)}else r(m);d=t(m)}if(d!==null)var X=!0;else{var ee=t(v);ee!==null&&H(j,ee.startTime-z),X=!1}return X}finally{d=null,y=F,_=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var q,U=!1,J=null,se=-1,de=5,Se=-1;function Q(){return!(n.unstable_now()-Se<de)}function Z(){if(J!==null){var R=n.unstable_now();Se=R;var z=!0;try{z=J(!0,R)}finally{z?q():(U=!1,J=null)}}else U=!1}if(typeof N=="function")q=function(){N(Z)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,_e=he.port2;he.port1.onmessage=Z,q=function(){_e.postMessage(null)}}else q=function(){A(Z,0)};function B(R){J=R,U||(U=!0,q())}function H(R,z){se=A(function(){R(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_continueExecution=function(){T||_||(T=!0,B(O))},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(R){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var F=y;y=z;try{return R()}finally{y=F}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(R,z){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=y;y=R;try{return z()}finally{y=F}},n.unstable_scheduleCallback=function(R,z,F){var k=n.unstable_now();switch(F=typeof F=="object"&&F!==null&&typeof(F=F.delay)=="number"&&0<F?k+F:k,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return R={id:b++,callback:z,priorityLevel:R,startTime:F,expirationTime:G=F+G,sortIndex:-1},F>k?(R.sortIndex=F,e(v,R),t(m)===null&&R===t(v)&&(C?(P(se),se=-1):C=!0,H(j,F-k))):(R.sortIndex=G,e(m,R),T||_||(T=!0,B(O))),R},n.unstable_shouldYield=Q,n.unstable_wrapCallback=function(R){var z=y;return function(){var F=y;y=z;try{return R.apply(this,arguments)}finally{y=F}}}}(Ov)),Ov)),Ag}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function eT(){return Fv||(Fv=1,Nv=function(n){var e={},t=xo,r=JS(),s=Object.assign;function a(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,g=1;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,f=Symbol.for("react.element"),m=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),j=Symbol.iterator;function O(l){return l===null||typeof l!="object"?null:typeof(l=j&&l[j]||l["@@iterator"])=="function"?l:null}function q(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case v:return"Fragment";case m:return"Portal";case d:return"Profiler";case b:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case _:return(l.displayName||"Context")+".Consumer";case y:return(l._context.displayName||"Context")+".Provider";case T:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case P:return(u=l.displayName||null)!==null?u:q(l.type)||"Memo";case N:u=l._payload,l=l._init;try{return q(l(u))}catch{}}return null}function U(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(u);case 8:return u===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function J(l){var u=l,g=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do 4098&(u=l).flags&&(g=u.return),l=u.return;while(l)}return u.tag===3?g:null}function se(l){if(J(l)!==l)throw Error(a(188))}function de(l){var u=l.alternate;if(!u){if((u=J(l))===null)throw Error(a(188));return u!==l?null:l}for(var g=l,w=u;;){var E=g.return;if(E===null)break;var I=E.alternate;if(I===null){if((w=E.return)!==null){g=w;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===g)return se(E),l;if(I===w)return se(E),u;I=I.sibling}throw Error(a(188))}if(g.return!==w.return)g=E,w=I;else{for(var L=!1,$=E.child;$;){if($===g){L=!0,g=E,w=I;break}if($===w){L=!0,w=E,g=I;break}$=$.sibling}if(!L){for($=I.child;$;){if($===g){L=!0,g=I,w=E;break}if($===w){L=!0,w=I,g=E;break}$=$.sibling}if(!L)throw Error(a(189))}}if(g.alternate!==w)throw Error(a(190))}if(g.tag!==3)throw Error(a(188));return g.stateNode.current===g?l:u}function Se(l){return(l=de(l))!==null?Q(l):null}function Q(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Q(l);if(u!==null)return u;l=l.sibling}return null}function Z(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=Z(l);if(u!==null)return u}l=l.sibling}return null}var he,_e=Array.isArray,B=n.getPublicInstance,H=n.getRootHostContext,R=n.getChildHostContext,z=n.prepareForCommit,F=n.resetAfterCommit,k=n.createInstance,G=n.appendInitialChild,X=n.finalizeInitialChildren,ee=n.prepareUpdate,ce=n.shouldSetTextContent,me=n.createTextInstance,le=n.scheduleTimeout,ge=n.cancelTimeout,Ae=n.noTimeout,Ce=n.isPrimaryRenderer,Be=n.supportsMutation,Ue=n.supportsPersistence,Je=n.supportsHydration,_t=n.getInstanceFromNode,qe=n.preparePortalMount,Qe=n.getCurrentEventPriority,or=n.detachDeletedInstance,Un=n.supportsMicrotasks,To=n.scheduleMicrotask,Gn=n.supportsTestSelectors,qi=n.findFiberRoot,Ia=n.getBoundingRect,$l=n.getTextContent,Qi=n.isHiddenSubtree,Xl=n.matchAccessibilityRole,Ra=n.setFocusIfFocusable,ka=n.setupIntersectionObserver,ei=n.appendChild,Ao=n.appendChildToContainer,Ki=n.commitTextUpdate,Os=n.commitMount,hh=n.commitUpdate,Co=n.insertBefore,Bs=n.insertInContainerBefore,ne=n.removeChild,oe=n.removeChildFromContainer,lt=n.resetTextContent,xt=n.hideInstance,Et=n.hideTextInstance,nt=n.unhideInstance,Or=n.unhideTextInstance,Vr=n.clearContainer,Tr=n.cloneInstance,mn=n.createContainerChildSet,Ls=n.appendChildToContainerChildSet,mi=n.finalizeContainerChildren,Ar=n.replaceContainerChildren,Us=n.cloneHiddenInstance,Po=n.cloneHiddenTextInstance,Zi=n.canHydrateInstance,gi=n.canHydrateTextInstance,yi=n.canHydrateSuspenseInstance,Gs=n.isSuspenseInstancePending,Hn=n.isSuspenseInstanceFallback,Ji=n.getSuspenseInstanceFallbackErrorDetails,Hs=n.registerSuspenseInstanceRetry,vi=n.getNextHydratableSibling,Ma=n.getFirstHydratableChild,Yl=n.getFirstHydratableChildWithinContainer,Da=n.getFirstHydratableChildWithinSuspenseInstance,ti=n.hydrateInstance,ql=n.hydrateTextInstance,Io=n.hydrateSuspenseInstance,es=n.getNextHydratableInstanceAfterSuspenseInstance,zs=n.commitHydratedContainer,Ql=n.commitHydratedSuspenseInstance,Na=n.clearSuspenseBoundary,Lc=n.clearSuspenseBoundaryFromContainer,Uf=n.shouldDeleteUnhydratedTailInstances,Gf=n.didNotMatchHydratedContainerTextInstance,Xt=n.didNotMatchHydratedTextInstance;function Fa(l){if(he===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);he=u&&u[1]||""}return`
`+he+l}var Oa=!1;function Kl(l,u){if(!l||Oa)return"";Oa=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(fe){var w=fe}Reflect.construct(l,[],u)}else{try{u.call()}catch(fe){w=fe}l.call(u.prototype)}else{try{throw Error()}catch(fe){w=fe}l()}}catch(fe){if(fe&&w&&typeof fe.stack=="string"){for(var E=fe.stack.split(`
`),I=w.stack.split(`
`),L=E.length-1,$=I.length-1;1<=L&&0<=$&&E[L]!==I[$];)$--;for(;1<=L&&0<=$;L--,$--)if(E[L]!==I[$]){if(L!==1||$!==1)do if(L--,0>--$||E[L]!==I[$]){var re=`
`+E[L].replace(" at new "," at ");return l.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",l.displayName)),re}while(1<=L&&0<=$);break}}}finally{Oa=!1,Error.prepareStackTrace=g}return(l=l?l.displayName||l.name:"")?Fa(l):""}var Zl=Object.prototype.hasOwnProperty,ch=[],js=-1;function zn(l){return{current:l}}function ft(l){0>js||(l.current=ch[js],ch[js]=null,js--)}function Ct(l,u){js++,ch[js]=l.current,l.current=u}var mr={},Cr=zn(mr),Wr=zn(!1),Vs=mr;function _i(l,u){var g=l.type.contextTypes;if(!g)return mr;var w=l.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===u)return w.__reactInternalMemoizedMaskedChildContext;var E,I={};for(E in g)I[E]=u[E];return w&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=I),I}function Pr(l){return(l=l.childContextTypes)!=null}function Ws(){ft(Wr),ft(Cr)}function Ba(l,u,g){if(Cr.current!==mr)throw Error(a(168));Ct(Cr,u),Ct(Wr,g)}function Uc(l,u,g){var w=l.stateNode;if(u=u.childContextTypes,typeof w.getChildContext!="function")return g;for(var E in w=w.getChildContext())if(!(E in u))throw Error(a(108,U(l)||"Unknown",E));return s({},g,w)}function Jl(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||mr,Vs=Cr.current,Ct(Cr,l),Ct(Wr,Wr.current),!0}function eu(l,u,g){var w=l.stateNode;if(!w)throw Error(a(169));g?(l=Uc(l,u,Vs),w.__reactInternalMemoizedMergedChildContext=l,ft(Wr),ft(Cr),Ct(Cr,l)):ft(Wr),Ct(Wr,g)}var gn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(dh(l)/La|0)|0},dh=Math.log,La=Math.LN2,fh=64,Ua=4194304;function pt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ga(l,u){var g=l.pendingLanes;if(g===0)return 0;var w=0,E=l.suspendedLanes,I=l.pingedLanes,L=268435455&g;if(L!==0){var $=L&~E;$!==0?w=pt($):(I&=L)!==0&&(w=pt(I))}else(L=g&~E)!==0?w=pt(L):I!==0&&(w=pt(I));if(w===0)return 0;if(u!==0&&u!==w&&!(u&E)&&((E=w&-w)>=(I=u&-u)||E===16&&4194240&I))return u;if(4&w&&(w|=16&g),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=w;0<u;)E=1<<(g=31-gn(u)),w|=l[g],u&=~E;return w}function Gc(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function Ha(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function ph(){var l=fh;return!(4194240&(fh<<=1))&&(fh=64),l}function tu(l){for(var u=[],g=0;31>g;g++)u.push(l);return u}function Ro(l,u,g){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-gn(u)]=g}function za(l,u){var g=l.entangledLanes|=u;for(l=l.entanglements;g;){var w=31-gn(g),E=1<<w;E&u|l[w]&u&&(l[w]|=u),g&=~E}}var ht=0;function xi(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var ri=r.unstable_scheduleCallback,wi=r.unstable_cancelCallback,ja=r.unstable_shouldYield,Va=r.unstable_requestPaint,Dt=r.unstable_now,mh=r.unstable_ImmediatePriority,Hc=r.unstable_UserBlockingPriority,ko=r.unstable_NormalPriority,Hf=r.unstable_IdlePriority,Wa=null,rn=null,yn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},bi=null,ts=!1,$s=!1;function Xs(l){bi===null?bi=[l]:bi.push(l)}function nn(){if(!$s&&bi!==null){$s=!0;var l=0,u=ht;try{var g=bi;for(ht=1;l<g.length;l++){var w=g[l];do w=w(!0);while(w!==null)}bi=null,ts=!1}catch(E){throw bi!==null&&(bi=bi.slice(l+1)),ri(mh,nn),E}finally{ht=u,$s=!1}}return null}var Mo=[],Do=0,No=null,Ys=0,$r=[],sn=0,Xr=null,vn=1,_n="";function rs(l,u){Mo[Do++]=Ys,Mo[Do++]=No,No=l,Ys=u}function $a(l,u,g){$r[sn++]=vn,$r[sn++]=_n,$r[sn++]=Xr,Xr=l;var w=vn;l=_n;var E=32-gn(w)-1;w&=~(1<<E),g+=1;var I=32-gn(u)+E;if(30<I){var L=E-E%5;I=(w&(1<<L)-1).toString(32),w>>=L,E-=L,vn=1<<32-gn(u)+E|g<<E|w,_n=I+l}else vn=1<<I|g<<E|w,_n=l}function Fo(l){l.return!==null&&(rs(l,1),$a(l,1,0))}function ru(l){for(;l===No;)No=Mo[--Do],Mo[Do]=null,Ys=Mo[--Do],Mo[Do]=null;for(;l===Xr;)Xr=$r[--sn],$r[sn]=null,_n=$r[--sn],$r[sn]=null,vn=$r[--sn],$r[sn]=null}var Nt=null,vr=null,Pt=!1,Ei=!1,jn=null;function nu(l,u){var g=cn(5,null,null,0);g.elementType="DELETED",g.stateNode=u,g.return=l,(u=l.deletions)===null?(l.deletions=[g],l.flags|=16):u.push(g)}function iu(l,u){switch(l.tag){case 5:return(u=Zi(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Nt=l,vr=Ma(u),!0);case 6:return(u=gi(u,l.pendingProps))!==null&&(l.stateNode=u,Nt=l,vr=null,!0);case 13:if((u=yi(u))!==null){var g=Xr!==null?{id:vn,overflow:_n}:null;return l.memoizedState={dehydrated:u,treeContext:g,retryLane:1073741824},(g=cn(18,null,null,0)).stateNode=u,g.return=l,l.child=g,Nt=l,vr=null,!0}return!1;default:return!1}}function qs(l){return(1&l.mode)!=0&&(128&l.flags)==0}function Oo(l){if(Pt){var u=vr;if(u){var g=u;if(!iu(l,u)){if(qs(l))throw Error(a(418));u=vi(g);var w=Nt;u&&iu(l,u)?nu(w,g):(l.flags=-4097&l.flags|2,Pt=!1,Nt=l)}}else{if(qs(l))throw Error(a(418));l.flags=-4097&l.flags|2,Pt=!1,Nt=l}}}function gh(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Nt=l}function su(l){if(!Je||l!==Nt)return!1;if(!Pt)return gh(l),Pt=!0,!1;if(l.tag!==3&&(l.tag!==5||Uf(l.type)&&!ce(l.type,l.memoizedProps))){var u=vr;if(u){if(qs(l))throw zc(),Error(a(418));for(;u;)nu(l,u),u=vi(u)}}if(gh(l),l.tag===13){if(!Je)throw Error(a(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(a(317));vr=es(l)}else vr=Nt?vi(l.stateNode):null;return!0}function zc(){for(var l=vr;l;)l=vi(l)}function Bo(){Je&&(vr=Nt=null,Ei=Pt=!1)}function Xa(l){jn===null?jn=[l]:jn.push(l)}var zf=c.ReactCurrentBatchConfig;function ou(l,u){if(yn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var g=Object.keys(l),w=Object.keys(u);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var E=g[w];if(!Zl.call(u,E)||!yn(l[E],u[E]))return!1}return!0}function jf(l){switch(l.tag){case 5:return Fa(l.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return l=Kl(l.type,!1);case 11:return l=Kl(l.type.render,!1);case 1:return l=Kl(l.type,!0);default:return""}}function Vn(l,u){if(l&&l.defaultProps){for(var g in u=s({},u),l=l.defaultProps)u[g]===void 0&&(u[g]=l[g]);return u}return u}var au=zn(null),Ya=null,Lo=null,yh=null;function vh(){yh=Lo=Ya=null}function jc(l,u,g){Ce?(Ct(au,u._currentValue),u._currentValue=g):(Ct(au,u._currentValue2),u._currentValue2=g)}function qa(l){var u=au.current;ft(au),Ce?l._currentValue=u:l._currentValue2=u}function _h(l,u,g){for(;l!==null;){var w=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),l===g)break;l=l.return}}function Uo(l,u){Ya=l,yh=Lo=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&u&&(jt=!0),l.firstContext=null)}function xn(l){var u=Ce?l._currentValue:l._currentValue2;if(yh!==l)if(l={context:l,memoizedValue:u,next:null},Lo===null){if(Ya===null)throw Error(a(308));Lo=l,Ya.dependencies={lanes:0,firstContext:l}}else Lo=Lo.next=l;return u}var ns=null;function xh(l){ns===null?ns=[l]:ns.push(l)}function Vc(l,u,g,w){var E=u.interleaved;return E===null?(g.next=g,xh(u)):(g.next=E.next,E.next=g),u.interleaved=g,ni(l,w)}function ni(l,u){l.lanes|=u;var g=l.alternate;for(g!==null&&(g.lanes|=u),g=l,l=l.return;l!==null;)l.childLanes|=u,(g=l.alternate)!==null&&(g.childLanes|=u),g=l,l=l.return;return g.tag===3?g.stateNode:null}var is=!1;function wh(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wc(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Si(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function ii(l,u,g){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(2&it)!=0){var E=w.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),w.pending=u,ni(l,g)}return(E=w.interleaved)===null?(u.next=u,xh(w)):(u.next=E.next,E.next=u),w.interleaved=u,ni(l,g)}function ss(l,u,g){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&g)!=0)){var w=u.lanes;g|=w&=l.pendingLanes,u.lanes=g,za(l,g)}}function $c(l,u){var g=l.updateQueue,w=l.alternate;if(w!==null&&g===(w=w.updateQueue)){var E=null,I=null;if((g=g.firstBaseUpdate)!==null){do{var L={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};I===null?E=I=L:I=I.next=L,g=g.next}while(g!==null);I===null?E=I=u:I=I.next=u}else E=I=u;return g={baseState:w.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:w.shared,effects:w.effects},void(l.updateQueue=g)}(l=g.lastBaseUpdate)===null?g.firstBaseUpdate=u:l.next=u,g.lastBaseUpdate=u}function Qa(l,u,g,w){var E=l.updateQueue;is=!1;var I=E.firstBaseUpdate,L=E.lastBaseUpdate,$=E.shared.pending;if($!==null){E.shared.pending=null;var re=$,fe=re.next;re.next=null,L===null?I=fe:L.next=fe,L=re;var ye=l.alternate;ye!==null&&($=(ye=ye.updateQueue).lastBaseUpdate)!==L&&($===null?ye.firstBaseUpdate=fe:$.next=fe,ye.lastBaseUpdate=re)}if(I!==null){var ke=E.baseState;for(L=0,ye=fe=re=null,$=I;;){var pe=$.lane,Te=$.eventTime;if((w&pe)===pe){ye!==null&&(ye=ye.next={eventTime:Te,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ge=l,ot=$;switch(pe=u,Te=g,ot.tag){case 1:if(typeof(Ge=ot.payload)=="function"){ke=Ge.call(Te,ke,pe);break e}ke=Ge;break e;case 3:Ge.flags=-65537&Ge.flags|128;case 0:if((pe=typeof(Ge=ot.payload)=="function"?Ge.call(Te,ke,pe):Ge)==null)break e;ke=s({},ke,pe);break e;case 2:is=!0}}$.callback!==null&&$.lane!==0&&(l.flags|=64,(pe=E.effects)===null?E.effects=[$]:pe.push($))}else Te={eventTime:Te,lane:pe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ye===null?(fe=ye=Te,re=ke):ye=ye.next=Te,L|=pe;if(($=$.next)===null){if(($=E.shared.pending)===null)break;$=(pe=$).next,pe.next=null,E.lastBaseUpdate=pe,E.shared.pending=null}}if(ye===null&&(re=ke),E.baseState=re,E.firstBaseUpdate=fe,E.lastBaseUpdate=ye,(u=E.shared.interleaved)!==null){E=u;do L|=E.lane,E=E.next;while(E!==u)}else I===null&&(E.shared.lanes=0);ms|=L,l.lanes=L,l.memoizedState=ke}}function bh(l,u,g){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var w=l[u],E=w.callback;if(E!==null){if(w.callback=null,w=g,typeof E!="function")throw Error(a(191,E));E.call(w)}}}var Eh=new t.Component().refs;function lu(l,u,g,w){g=(g=g(w,u=l.memoizedState))==null?u:s({},u,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var Ka={isMounted:function(l){return!!(l=l._reactInternals)&&J(l)===l},enqueueSetState:function(l,u,g){l=l._reactInternals;var w=ur(),E=Mn(l),I=Si(w,E);I.payload=u,g!=null&&(I.callback=g),(u=ii(l,I,E))!==null&&(kr(u,l,E,w),ss(u,l,E))},enqueueReplaceState:function(l,u,g){l=l._reactInternals;var w=ur(),E=Mn(l),I=Si(w,E);I.tag=1,I.payload=u,g!=null&&(I.callback=g),(u=ii(l,I,E))!==null&&(kr(u,l,E,w),ss(u,l,E))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var g=ur(),w=Mn(l),E=Si(g,w);E.tag=2,u!=null&&(E.callback=u),(u=ii(l,E,w))!==null&&(kr(u,l,w,g),ss(u,l,w))}};function Qs(l,u,g,w,E,I,L){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,I,L):!u.prototype||!u.prototype.isPureReactComponent||!ou(g,w)||!ou(E,I)}function Xc(l,u,g){var w=!1,E=mr,I=u.contextType;return typeof I=="object"&&I!==null?I=xn(I):(E=Pr(u)?Vs:Cr.current,I=(w=(w=u.contextTypes)!=null)?_i(l,E):mr),u=new u(g,I),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ka,l.stateNode=u,u._reactInternals=l,w&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=E,l.__reactInternalMemoizedMaskedChildContext=I),u}function Yc(l,u,g,w){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,w),u.state!==l&&Ka.enqueueReplaceState(u,u.state,null)}function Sh(l,u,g,w){var E=l.stateNode;E.props=g,E.state=l.memoizedState,E.refs=Eh,wh(l);var I=u.contextType;typeof I=="object"&&I!==null?E.context=xn(I):(I=Pr(u)?Vs:Cr.current,E.context=_i(l,I)),E.state=l.memoizedState,typeof(I=u.getDerivedStateFromProps)=="function"&&(lu(l,u,I,g),E.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(u=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),u!==E.state&&Ka.enqueueReplaceState(E,E.state,null),Qa(l,g,E,w),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308)}function Go(l,u,g){if((l=g.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(g._owner){if(g=g._owner){if(g.tag!==1)throw Error(a(309));var w=g.stateNode}if(!w)throw Error(a(147,l));var E=w,I=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===I?u.ref:(u=function(L){var $=E.refs;$===Eh&&($=E.refs={}),L===null?delete $[I]:$[I]=L},u._stringRef=I,u)}if(typeof l!="string")throw Error(a(284));if(!g._owner)throw Error(a(290,l))}return l}function Za(l,u){throw l=Object.prototype.toString.call(u),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Ho(l){return(0,l._init)(l._payload)}function zo(l){function u(ve,K){if(l){var ue=ve.deletions;ue===null?(ve.deletions=[K],ve.flags|=16):ue.push(K)}}function g(ve,K){if(!l)return null;for(;K!==null;)u(ve,K),K=K.sibling;return null}function w(ve,K){for(ve=new Map;K!==null;)K.key!==null?ve.set(K.key,K):ve.set(K.index,K),K=K.sibling;return ve}function E(ve,K){return(ve=Fi(ve,K)).index=0,ve.sibling=null,ve}function I(ve,K,ue){return ve.index=ue,l?(ue=ve.alternate)!==null?(ue=ue.index)<K?(ve.flags|=2,K):ue:(ve.flags|=2,K):(ve.flags|=1048576,K)}function L(ve){return l&&ve.alternate===null&&(ve.flags|=2),ve}function $(ve,K,ue,be){return K===null||K.tag!==6?((K=Nu(ue,ve.mode,be)).return=ve,K):((K=E(K,ue)).return=ve,K)}function re(ve,K,ue,be){var Xe=ue.type;return Xe===v?ye(ve,K,ue.props.children,be,ue.key):K!==null&&(K.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===N&&Ho(Xe)===K.type)?((be=E(K,ue.props)).ref=Go(ve,K,ue),be.return=ve,be):((be=bl(ue.type,ue.key,ue.props,null,ve.mode,be)).ref=Go(ve,K,ue),be.return=ve,be)}function fe(ve,K,ue,be){return K===null||K.tag!==4||K.stateNode.containerInfo!==ue.containerInfo||K.stateNode.implementation!==ue.implementation?((K=Jh(ue,ve.mode,be)).return=ve,K):((K=E(K,ue.children||[])).return=ve,K)}function ye(ve,K,ue,be,Xe){return K===null||K.tag!==7?((K=ys(ue,ve.mode,be,Xe)).return=ve,K):((K=E(K,ue)).return=ve,K)}function ke(ve,K,ue){if(typeof K=="string"&&K!==""||typeof K=="number")return(K=Nu(""+K,ve.mode,ue)).return=ve,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case f:return(ue=bl(K.type,K.key,K.props,null,ve.mode,ue)).ref=Go(ve,null,K),ue.return=ve,ue;case m:return(K=Jh(K,ve.mode,ue)).return=ve,K;case N:return ke(ve,(0,K._init)(K._payload),ue)}if(_e(K)||O(K))return(K=ys(K,ve.mode,ue,null)).return=ve,K;Za(ve,K)}return null}function pe(ve,K,ue,be){var Xe=K!==null?K.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Xe!==null?null:$(ve,K,""+ue,be);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case f:return ue.key===Xe?re(ve,K,ue,be):null;case m:return ue.key===Xe?fe(ve,K,ue,be):null;case N:return pe(ve,K,(Xe=ue._init)(ue._payload),be)}if(_e(ue)||O(ue))return Xe!==null?null:ye(ve,K,ue,be,null);Za(ve,ue)}return null}function Te(ve,K,ue,be,Xe){if(typeof be=="string"&&be!==""||typeof be=="number")return $(K,ve=ve.get(ue)||null,""+be,Xe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case f:return re(K,ve=ve.get(be.key===null?ue:be.key)||null,be,Xe);case m:return fe(K,ve=ve.get(be.key===null?ue:be.key)||null,be,Xe);case N:return Te(ve,K,ue,(0,be._init)(be._payload),Xe)}if(_e(be)||O(be))return ye(K,ve=ve.get(ue)||null,be,Xe,null);Za(K,be)}return null}function Ge(ve,K,ue,be){for(var Xe=null,gt=null,ze=K,mt=K=0,hr=null;ze!==null&&mt<ue.length;mt++){ze.index>mt?(hr=ze,ze=null):hr=ze.sibling;var yt=pe(ve,ze,ue[mt],be);if(yt===null){ze===null&&(ze=hr);break}l&&ze&&yt.alternate===null&&u(ve,ze),K=I(yt,K,mt),gt===null?Xe=yt:gt.sibling=yt,gt=yt,ze=hr}if(mt===ue.length)return g(ve,ze),Pt&&rs(ve,mt),Xe;if(ze===null){for(;mt<ue.length;mt++)(ze=ke(ve,ue[mt],be))!==null&&(K=I(ze,K,mt),gt===null?Xe=ze:gt.sibling=ze,gt=ze);return Pt&&rs(ve,mt),Xe}for(ze=w(ve,ze);mt<ue.length;mt++)(hr=Te(ze,ve,mt,ue[mt],be))!==null&&(l&&hr.alternate!==null&&ze.delete(hr.key===null?mt:hr.key),K=I(hr,K,mt),gt===null?Xe=hr:gt.sibling=hr,gt=hr);return l&&ze.forEach(function(ui){return u(ve,ui)}),Pt&&rs(ve,mt),Xe}function ot(ve,K,ue,be){var Xe=O(ue);if(typeof Xe!="function")throw Error(a(150));if((ue=Xe.call(ue))==null)throw Error(a(151));for(var gt=Xe=null,ze=K,mt=K=0,hr=null,yt=ue.next();ze!==null&&!yt.done;mt++,yt=ue.next()){ze.index>mt?(hr=ze,ze=null):hr=ze.sibling;var ui=pe(ve,ze,yt.value,be);if(ui===null){ze===null&&(ze=hr);break}l&&ze&&ui.alternate===null&&u(ve,ze),K=I(ui,K,mt),gt===null?Xe=ui:gt.sibling=ui,gt=ui,ze=hr}if(yt.done)return g(ve,ze),Pt&&rs(ve,mt),Xe;if(ze===null){for(;!yt.done;mt++,yt=ue.next())(yt=ke(ve,yt.value,be))!==null&&(K=I(yt,K,mt),gt===null?Xe=yt:gt.sibling=yt,gt=yt);return Pt&&rs(ve,mt),Xe}for(ze=w(ve,ze);!yt.done;mt++,yt=ue.next())(yt=Te(ze,ve,mt,yt.value,be))!==null&&(l&&yt.alternate!==null&&ze.delete(yt.key===null?mt:yt.key),K=I(yt,K,mt),gt===null?Xe=yt:gt.sibling=yt,gt=yt);return l&&ze.forEach(function(id){return u(ve,id)}),Pt&&rs(ve,mt),Xe}return function ve(K,ue,be,Xe){if(typeof be=="object"&&be!==null&&be.type===v&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case f:e:{for(var gt=be.key,ze=ue;ze!==null;){if(ze.key===gt){if((gt=be.type)===v){if(ze.tag===7){g(K,ze.sibling),(ue=E(ze,be.props.children)).return=K,K=ue;break e}}else if(ze.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===N&&Ho(gt)===ze.type){g(K,ze.sibling),(ue=E(ze,be.props)).ref=Go(K,ze,be),ue.return=K,K=ue;break e}g(K,ze);break}u(K,ze),ze=ze.sibling}be.type===v?((ue=ys(be.props.children,K.mode,Xe,be.key)).return=K,K=ue):((Xe=bl(be.type,be.key,be.props,null,K.mode,Xe)).ref=Go(K,ue,be),Xe.return=K,K=Xe)}return L(K);case m:e:{for(ze=be.key;ue!==null;){if(ue.key===ze){if(ue.tag===4&&ue.stateNode.containerInfo===be.containerInfo&&ue.stateNode.implementation===be.implementation){g(K,ue.sibling),(ue=E(ue,be.children||[])).return=K,K=ue;break e}g(K,ue);break}u(K,ue),ue=ue.sibling}(ue=Jh(be,K.mode,Xe)).return=K,K=ue}return L(K);case N:return ve(K,ue,(ze=be._init)(be._payload),Xe)}if(_e(be))return Ge(K,ue,be,Xe);if(O(be))return ot(K,ue,be,Xe);Za(K,be)}return typeof be=="string"&&be!==""||typeof be=="number"?(be=""+be,ue!==null&&ue.tag===6?(g(K,ue.sibling),(ue=E(ue,be)).return=K,K=ue):(g(K,ue),(ue=Nu(be,K.mode,Xe)).return=K,K=ue),L(K)):g(K,ue)}}var jo=zo(!0),Ja=zo(!1),el={},on=zn(el),Ks=zn(el),os=zn(el);function Wn(l){if(l===el)throw Error(a(174));return l}function uu(l,u){Ct(os,u),Ct(Ks,l),Ct(on,el),l=H(u),ft(on),Ct(on,l)}function Zs(){ft(on),ft(Ks),ft(os)}function qc(l){var u=Wn(os.current),g=Wn(on.current);g!==(u=R(g,l.type,u))&&(Ct(Ks,l),Ct(on,u))}function Th(l){Ks.current===l&&(ft(on),ft(Ks))}var zt=zn(0);function hu(l){for(var u=l;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&((g=g.dehydrated)===null||Gs(g)||Hn(g)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ah=[];function an(){for(var l=0;l<Ah.length;l++){var u=Ah[l];Ce?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Ah.length=0}var as=c.ReactCurrentDispatcher,cu=c.ReactCurrentBatchConfig,ls=0,Lt=null,ar=null,Zt=null,du=!1,tl=!1,si=0,Ch=0;function Jt(){throw Error(a(321))}function rl(l,u){if(u===null)return!1;for(var g=0;g<u.length&&g<l.length;g++)if(!yn(l[g],u[g]))return!1;return!0}function fu(l,u,g,w,E,I){if(ls=I,Lt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,as.current=l===null||l.memoizedState===null?Oh:Bh,l=g(w,E),tl){I=0;do{if(tl=!1,si=0,25<=I)throw Error(a(301));I+=1,Zt=ar=null,u.updateQueue=null,as.current=Lh,l=g(w,E)}while(tl)}if(as.current=Qo,u=ar!==null&&ar.next!==null,ls=0,Zt=ar=Lt=null,du=!1,u)throw Error(a(300));return l}function Vo(){var l=si!==0;return si=0,l}function Br(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Lt.memoizedState=Zt=l:Zt=Zt.next=l,Zt}function Yr(){if(ar===null){var l=Lt.alternate;l=l!==null?l.memoizedState:null}else l=ar.next;var u=Zt===null?Lt.memoizedState:Zt.next;if(u!==null)Zt=u,ar=l;else{if(l===null)throw Error(a(310));l={memoizedState:(ar=l).memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},Zt===null?Lt.memoizedState=Zt=l:Zt=Zt.next=l}return Zt}function Wo(l,u){return typeof u=="function"?u(l):u}function $o(l){var u=Yr(),g=u.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=l;var w=ar,E=w.baseQueue,I=g.pending;if(I!==null){if(E!==null){var L=E.next;E.next=I.next,I.next=L}w.baseQueue=E=I,g.pending=null}if(E!==null){I=E.next,w=w.baseState;var $=L=null,re=null,fe=I;do{var ye=fe.lane;if((ls&ye)===ye)re!==null&&(re=re.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),w=fe.hasEagerState?fe.eagerState:l(w,fe.action);else{var ke={lane:ye,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};re===null?($=re=ke,L=w):re=re.next=ke,Lt.lanes|=ye,ms|=ye}fe=fe.next}while(fe!==null&&fe!==I);re===null?L=w:re.next=$,yn(w,u.memoizedState)||(jt=!0),u.memoizedState=w,u.baseState=L,u.baseQueue=re,g.lastRenderedState=w}if((l=g.interleaved)!==null){E=l;do I=E.lane,Lt.lanes|=I,ms|=I,E=E.next;while(E!==l)}else E===null&&(g.lanes=0);return[u.memoizedState,g.dispatch]}function pu(l){var u=Yr(),g=u.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=l;var w=g.dispatch,E=g.pending,I=u.memoizedState;if(E!==null){g.pending=null;var L=E=E.next;do I=l(I,L.action),L=L.next;while(L!==E);yn(I,u.memoizedState)||(jt=!0),u.memoizedState=I,u.baseQueue===null&&(u.baseState=I),g.lastRenderedState=I}return[I,w]}function Ph(){}function Ih(l,u){var g=Lt,w=Yr(),E=u(),I=!yn(w.memoizedState,E);if(I&&(w.memoizedState=E,jt=!0),w=w.queue,vu(Mh.bind(null,g,w,l),[l]),w.getSnapshot!==u||I||Zt!==null&&1&Zt.memoizedState.tag){if(g.flags|=2048,nl(9,kh.bind(null,g,w,E,u),void 0,null),tr===null)throw Error(a(349));30&ls||Rh(g,u,E)}return E}function Rh(l,u,g){l.flags|=16384,l={getSnapshot:u,value:g},(u=Lt.updateQueue)===null?(u={lastEffect:null,stores:null},Lt.updateQueue=u,u.stores=[l]):(g=u.stores)===null?u.stores=[l]:g.push(l)}function kh(l,u,g,w){u.value=g,u.getSnapshot=w,Ti(u)&&mu(l)}function Mh(l,u,g){return g(function(){Ti(u)&&mu(l)})}function Ti(l){var u=l.getSnapshot;l=l.value;try{var g=u();return!yn(l,g)}catch{return!0}}function mu(l){var u=ni(l,1);u!==null&&kr(u,l,1,-1)}function gu(l){var u=Br();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:l},u.queue=l,l=l.dispatch=Wf.bind(null,Lt,l),[u.memoizedState,l]}function nl(l,u,g,w){return l={tag:l,create:u,destroy:g,deps:w,next:null},(u=Lt.updateQueue)===null?(u={lastEffect:null,stores:null},Lt.updateQueue=u,u.lastEffect=l.next=l):(g=u.lastEffect)===null?u.lastEffect=l.next=l:(w=g.next,g.next=l,l.next=w,u.lastEffect=l),l}function Qc(){return Yr().memoizedState}function us(l,u,g,w){var E=Br();Lt.flags|=l,E.memoizedState=nl(1|u,g,void 0,w===void 0?null:w)}function yu(l,u,g,w){var E=Yr();w=w===void 0?null:w;var I=void 0;if(ar!==null){var L=ar.memoizedState;if(I=L.destroy,w!==null&&rl(w,L.deps))return void(E.memoizedState=nl(u,g,I,w))}Lt.flags|=l,E.memoizedState=nl(1|u,g,I,w)}function Dh(l,u){return us(8390656,8,l,u)}function vu(l,u){return yu(2048,8,l,u)}function It(l,u){return yu(4,2,l,u)}function _u(l,u){return yu(4,4,l,u)}function il(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function Xo(l,u,g){return g=g!=null?g.concat([l]):null,yu(4,4,il.bind(null,u,l),g)}function xu(){}function wu(l,u){var g=Yr();u=u===void 0?null:u;var w=g.memoizedState;return w!==null&&u!==null&&rl(u,w[1])?w[0]:(g.memoizedState=[l,u],l)}function Yo(l,u){var g=Yr();u=u===void 0?null:u;var w=g.memoizedState;return w!==null&&u!==null&&rl(u,w[1])?w[0]:(l=l(),g.memoizedState=[l,u],l)}function sl(l,u,g){return 21&ls?(yn(g,u)||(g=ph(),Lt.lanes|=g,ms|=g,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,jt=!0),l.memoizedState=g)}function qo(l,u){var g=ht;ht=g!==0&&4>g?g:4,l(!0);var w=cu.transition;cu.transition={};try{l(!1),u()}finally{ht=g,cu.transition=w}}function Nh(){return Yr().memoizedState}function Vf(l,u,g){var w=Mn(l);g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},Fh(l)?ol(u,g):(g=Vc(l,u,g,w))!==null&&(kr(g,l,w,ur()),al(g,u,w))}function Wf(l,u,g){var w=Mn(l),E={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(Fh(l))ol(u,E);else{var I=l.alternate;if(l.lanes===0&&(I===null||I.lanes===0)&&(I=u.lastRenderedReducer)!==null)try{var L=u.lastRenderedState,$=I(L,g);if(E.hasEagerState=!0,E.eagerState=$,yn($,L)){var re=u.interleaved;return re===null?(E.next=E,xh(u)):(E.next=re.next,re.next=E),void(u.interleaved=E)}}catch{}(g=Vc(l,u,E,w))!==null&&(kr(g,l,w,E=ur()),al(g,u,w))}}function Fh(l){var u=l.alternate;return l===Lt||u!==null&&u===Lt}function ol(l,u){tl=du=!0;var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}function al(l,u,g){if(4194240&g){var w=u.lanes;g|=w&=l.pendingLanes,u.lanes=g,za(l,g)}}var Qo={readContext:xn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},Oh={readContext:xn,useCallback:function(l,u){return Br().memoizedState=[l,u===void 0?null:u],l},useContext:xn,useEffect:Dh,useImperativeHandle:function(l,u,g){return g=g!=null?g.concat([l]):null,us(4194308,4,il.bind(null,u,l),g)},useLayoutEffect:function(l,u){return us(4194308,4,l,u)},useInsertionEffect:function(l,u){return us(4,2,l,u)},useMemo:function(l,u){var g=Br();return u=u===void 0?null:u,l=l(),g.memoizedState=[l,u],l},useReducer:function(l,u,g){var w=Br();return u=g!==void 0?g(u):u,w.memoizedState=w.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},w.queue=l,l=l.dispatch=Vf.bind(null,Lt,l),[w.memoizedState,l]},useRef:function(l){return l={current:l},Br().memoizedState=l},useState:gu,useDebugValue:xu,useDeferredValue:function(l){return Br().memoizedState=l},useTransition:function(){var l=gu(!1),u=l[0];return l=qo.bind(null,l[1]),Br().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,g){var w=Lt,E=Br();if(Pt){if(g===void 0)throw Error(a(407));g=g()}else{if(g=u(),tr===null)throw Error(a(349));30&ls||Rh(w,u,g)}E.memoizedState=g;var I={value:g,getSnapshot:u};return E.queue=I,Dh(Mh.bind(null,w,I,l),[l]),w.flags|=2048,nl(9,kh.bind(null,w,I,g,u),void 0,null),g},useId:function(){var l=Br(),u=tr.identifierPrefix;if(Pt){var g=_n;u=":"+u+"R"+(g=(vn&~(1<<32-gn(vn)-1)).toString(32)+g),0<(g=si++)&&(u+="H"+g.toString(32)),u+=":"}else u=":"+u+"r"+(g=Ch++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},Bh={readContext:xn,useCallback:wu,useContext:xn,useEffect:vu,useImperativeHandle:Xo,useInsertionEffect:It,useLayoutEffect:_u,useMemo:Yo,useReducer:$o,useRef:Qc,useState:function(){return $o(Wo)},useDebugValue:xu,useDeferredValue:function(l){return sl(Yr(),ar.memoizedState,l)},useTransition:function(){return[$o(Wo)[0],Yr().memoizedState]},useMutableSource:Ph,useSyncExternalStore:Ih,useId:Nh,unstable_isNewReconciler:!1},Lh={readContext:xn,useCallback:wu,useContext:xn,useEffect:vu,useImperativeHandle:Xo,useInsertionEffect:It,useLayoutEffect:_u,useMemo:Yo,useReducer:pu,useRef:Qc,useState:function(){return pu(Wo)},useDebugValue:xu,useDeferredValue:function(l){var u=Yr();return ar===null?u.memoizedState=l:sl(u,ar.memoizedState,l)},useTransition:function(){return[pu(Wo)[0],Yr().memoizedState]},useMutableSource:Ph,useSyncExternalStore:Ih,useId:Nh,unstable_isNewReconciler:!1};function Ko(l,u){try{var g="",w=u;do g+=jf(w),w=w.return;while(w);var E=g}catch(I){E=`
Error generating stack: `+I.message+`
`+I.stack}return{value:l,source:u,stack:E,digest:null}}function bu(l,u,g){return{value:l,source:null,stack:g??null,digest:u??null}}function Uh(l,u){try{console.error(u.value)}catch(g){setTimeout(function(){throw g})}}var $f=typeof WeakMap=="function"?WeakMap:Map;function Eu(l,u,g){(g=Si(-1,g)).tag=3,g.payload={element:null};var w=u.value;return g.callback=function(){kt||(kt=!0,aa=w),Uh(0,u)},g}function Ai(l,u,g){(g=Si(-1,g)).tag=3;var w=l.type.getDerivedStateFromError;if(typeof w=="function"){var E=u.value;g.payload=function(){return w(E)},g.callback=function(){Uh(0,u)}}var I=l.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(g.callback=function(){Uh(0,u),typeof w!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var L=u.stack;this.componentDidCatch(u.value,{componentStack:L!==null?L:""})}),g}function Gh(l,u,g){var w=l.pingCache;if(w===null){w=l.pingCache=new $f;var E=new Set;w.set(u,E)}else(E=w.get(u))===void 0&&(E=new Set,w.set(u,E));E.has(g)||(E.add(g),l=Mu.bind(null,l,u,g),u.then(l,l))}function Js(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function $n(l,u,g,w,E){return 1&l.mode?(l.flags|=65536,l.lanes=E,l):(l===u?l.flags|=65536:(l.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:((u=Si(-1,1)).tag=2,ii(g,u,1))),g.lanes|=1),l)}var ll=c.ReactCurrentOwner,jt=!1;function Ir(l,u,g,w){u.child=l===null?Ja(u,null,g,w):jo(u,l.child,g,w)}function Kc(l,u,g,w,E){g=g.render;var I=u.ref;return Uo(u,E),w=fu(l,u,g,w,I,E),g=Vo(),l===null||jt?(Pt&&g&&Fo(u),u.flags|=1,Ir(l,u,w,E),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~E,En(l,u,E))}function Zc(l,u,g,w,E){if(l===null){var I=g.type;return typeof I!="function"||wl(I)||I.defaultProps!==void 0||g.compare!==null||g.defaultProps!==void 0?((l=bl(g.type,null,w,u,u.mode,E)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=I,hs(l,u,I,w,E))}if(I=l.child,(l.lanes&E)==0){var L=I.memoizedProps;if((g=(g=g.compare)!==null?g:ou)(L,w)&&l.ref===u.ref)return En(l,u,E)}return u.flags|=1,(l=Fi(I,w)).ref=u.ref,l.return=u,u.child=l}function hs(l,u,g,w,E){if(l!==null){var I=l.memoizedProps;if(ou(I,w)&&l.ref===u.ref){if(jt=!1,u.pendingProps=w=I,(l.lanes&E)==0)return u.lanes=l.lanes,En(l,u,E);131072&l.flags&&(jt=!0)}}return Jo(l,u,g,w,E)}function Zo(l,u,g){var w=u.pendingProps,E=w.children,I=l!==null?l.memoizedState:null;if(w.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(ki,rr),rr|=g;else{if(!(1073741824&g))return l=I!==null?I.baseLanes|g:g,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Ct(ki,rr),rr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=I!==null?I.baseLanes:g,Ct(ki,rr),rr|=w}else I!==null?(w=I.baseLanes|g,u.memoizedState=null):w=g,Ct(ki,rr),rr|=w;return Ir(l,u,E,g),u.child}function eo(l,u){var g=u.ref;(l===null&&g!==null||l!==null&&l.ref!==g)&&(u.flags|=512,u.flags|=2097152)}function Jo(l,u,g,w,E){var I=Pr(g)?Vs:Cr.current;return I=_i(u,I),Uo(u,E),g=fu(l,u,g,w,I,E),w=Vo(),l===null||jt?(Pt&&w&&Fo(u),u.flags|=1,Ir(l,u,g,E),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~E,En(l,u,E))}function Su(l,u,g,w,E){if(Pr(g)){var I=!0;Jl(u)}else I=!1;if(Uo(u,E),u.stateNode===null)bn(l,u),Xc(u,g,w),Sh(u,g,w,E),w=!0;else if(l===null){var L=u.stateNode,$=u.memoizedProps;L.props=$;var re=L.context,fe=g.contextType;typeof fe=="object"&&fe!==null?fe=xn(fe):fe=_i(u,fe=Pr(g)?Vs:Cr.current);var ye=g.getDerivedStateFromProps,ke=typeof ye=="function"||typeof L.getSnapshotBeforeUpdate=="function";ke||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||($!==w||re!==fe)&&Yc(u,L,w,fe),is=!1;var pe=u.memoizedState;L.state=pe,Qa(u,w,L,E),re=u.memoizedState,$!==w||pe!==re||Wr.current||is?(typeof ye=="function"&&(lu(u,g,ye,w),re=u.memoizedState),($=is||Qs(u,g,$,w,pe,re,fe))?(ke||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(u.flags|=4194308)):(typeof L.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=re),L.props=w,L.state=re,L.context=fe,w=$):(typeof L.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{L=u.stateNode,Wc(l,u),$=u.memoizedProps,fe=u.type===u.elementType?$:Vn(u.type,$),L.props=fe,ke=u.pendingProps,pe=L.context,typeof(re=g.contextType)=="object"&&re!==null?re=xn(re):re=_i(u,re=Pr(g)?Vs:Cr.current);var Te=g.getDerivedStateFromProps;(ye=typeof Te=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||($!==ke||pe!==re)&&Yc(u,L,w,re),is=!1,pe=u.memoizedState,L.state=pe,Qa(u,w,L,E);var Ge=u.memoizedState;$!==ke||pe!==Ge||Wr.current||is?(typeof Te=="function"&&(lu(u,g,Te,w),Ge=u.memoizedState),(fe=is||Qs(u,g,fe,w,pe,Ge,re)||!1)?(ye||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(w,Ge,re),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(w,Ge,re)),typeof L.componentDidUpdate=="function"&&(u.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof L.componentDidUpdate!="function"||$===l.memoizedProps&&pe===l.memoizedState||(u.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&pe===l.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=Ge),L.props=w,L.state=Ge,L.context=re,w=fe):(typeof L.componentDidUpdate!="function"||$===l.memoizedProps&&pe===l.memoizedState||(u.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&pe===l.memoizedState||(u.flags|=1024),w=!1)}return cs(l,u,g,w,I,E)}function cs(l,u,g,w,E,I){eo(l,u);var L=(128&u.flags)!=0;if(!w&&!L)return E&&eu(u,g,!1),En(l,u,I);w=u.stateNode,ll.current=u;var $=L&&typeof g.getDerivedStateFromError!="function"?null:w.render();return u.flags|=1,l!==null&&L?(u.child=jo(u,l.child,null,I),u.child=jo(u,null,$,I)):Ir(l,u,$,I),u.memoizedState=w.state,E&&eu(u,g,!0),u.child}function Ci(l){var u=l.stateNode;u.pendingContext?Ba(0,u.pendingContext,u.pendingContext!==u.context):u.context&&Ba(0,u.context,!1),uu(l,u.containerInfo)}function Rt(l,u,g,w,E){return Bo(),Xa(E),u.flags|=256,Ir(l,u,g,w),u.child}var wt,wn,lr,_r,Pi={dehydrated:null,treeContext:null,retryLane:0};function ds(l){return{baseLanes:l,cachePool:null,transitions:null}}function Lr(l,u,g){var w,E=u.pendingProps,I=zt.current,L=!1,$=(128&u.flags)!=0;if((w=$)||(w=(l===null||l.memoizedState!==null)&&(2&I)!=0),w?(L=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(I|=1),Ct(zt,1&I),l===null)return Oo(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&u.mode?Hn(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):($=E.children,l=E.fallback,L?(E=u.mode,L=u.child,$={mode:"hidden",children:$},!(1&E)&&L!==null?(L.childLanes=0,L.pendingProps=$):L=Du($,E,0,null),l=ys(l,E,g,null),L.return=u,l.return=u,L.sibling=l,u.child=L,u.child.memoizedState=ds(g),u.memoizedState=Pi,l):ea(u,$));if((I=l.memoizedState)!==null&&(w=I.dehydrated)!==null)return function(fe,ye,ke,pe,Te,Ge,ot){if(ke)return 256&ye.flags?(ye.flags&=-257,ul(fe,ye,ot,pe=bu(Error(a(422))))):ye.memoizedState!==null?(ye.child=fe.child,ye.flags|=128,null):(Ge=pe.fallback,Te=ye.mode,pe=Du({mode:"visible",children:pe.children},Te,0,null),(Ge=ys(Ge,Te,ot,null)).flags|=2,pe.return=ye,Ge.return=ye,pe.sibling=Ge,ye.child=pe,1&ye.mode&&jo(ye,fe.child,null,ot),ye.child.memoizedState=ds(ot),ye.memoizedState=Pi,Ge);if(!(1&ye.mode))return ul(fe,ye,ot,null);if(Hn(Te))return pe=Ji(Te).digest,Ge=Error(a(419)),pe=bu(Ge,pe,void 0),ul(fe,ye,ot,pe);if(ke=(ot&fe.childLanes)!=0,jt||ke){if((pe=tr)!==null){switch(ot&-ot){case 4:Te=2;break;case 16:Te=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Te=32;break;case 536870912:Te=268435456;break;default:Te=0}(Te=Te&(pe.suspendedLanes|ot)?0:Te)!==0&&Te!==Ge.retryLane&&(Ge.retryLane=Te,ni(fe,Te),kr(pe,fe,Te,-1))}return ku(),ul(fe,ye,ot,pe=bu(Error(a(421))))}return Gs(Te)?(ye.flags|=128,ye.child=fe.child,ye=Kh.bind(null,fe),Hs(Te,ye),null):(fe=Ge.treeContext,Je&&(vr=Da(Te),Nt=ye,Pt=!0,jn=null,Ei=!1,fe!==null&&($r[sn++]=vn,$r[sn++]=_n,$r[sn++]=Xr,vn=fe.id,_n=fe.overflow,Xr=ye)),ye=ea(ye,pe.children),ye.flags|=4096,ye)}(l,u,$,E,w,I,g);if(L){L=E.fallback,$=u.mode,w=(I=l.child).sibling;var re={mode:"hidden",children:E.children};return!(1&$)&&u.child!==I?((E=u.child).childLanes=0,E.pendingProps=re,u.deletions=null):(E=Fi(I,re)).subtreeFlags=14680064&I.subtreeFlags,w!==null?L=Fi(w,L):(L=ys(L,$,g,null)).flags|=2,L.return=u,E.return=u,E.sibling=L,u.child=E,E=L,L=u.child,$=($=l.child.memoizedState)===null?ds(g):{baseLanes:$.baseLanes|g,cachePool:null,transitions:$.transitions},L.memoizedState=$,L.childLanes=l.childLanes&~g,u.memoizedState=Pi,E}return l=(L=l.child).sibling,E=Fi(L,{mode:"visible",children:E.children}),!(1&u.mode)&&(E.lanes=g),E.return=u,E.sibling=null,l!==null&&((g=u.deletions)===null?(u.deletions=[l],u.flags|=16):g.push(l)),u.child=E,u.memoizedState=null,E}function ea(l,u){return(u=Du({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function ul(l,u,g,w){return w!==null&&Xa(w),jo(u,l.child,null,g),(l=ea(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function Hh(l,u,g){l.lanes|=u;var w=l.alternate;w!==null&&(w.lanes|=u),_h(l.return,u,g)}function ta(l,u,g,w,E){var I=l.memoizedState;I===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:E}:(I.isBackwards=u,I.rendering=null,I.renderingStartTime=0,I.last=w,I.tail=g,I.tailMode=E)}function zh(l,u,g){var w=u.pendingProps,E=w.revealOrder,I=w.tail;if(Ir(l,u,w.children,g),(2&(w=zt.current))!=0)w=1&w|2,u.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Hh(l,g,u);else if(l.tag===19)Hh(l,g,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}if(Ct(zt,w),(1&u.mode)==0)u.memoizedState=null;else switch(E){case"forwards":for(g=u.child,E=null;g!==null;)(l=g.alternate)!==null&&hu(l)===null&&(E=g),g=g.sibling;(g=E)===null?(E=u.child,u.child=null):(E=g.sibling,g.sibling=null),ta(u,!1,E,g,I);break;case"backwards":for(g=null,E=u.child,u.child=null;E!==null;){if((l=E.alternate)!==null&&hu(l)===null){u.child=E;break}l=E.sibling,E.sibling=g,g=E,E=l}ta(u,!0,g,null,I);break;case"together":ta(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function bn(l,u){!(1&u.mode)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function En(l,u,g){if(l!==null&&(u.dependencies=l.dependencies),ms|=u.lanes,(g&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(a(153));if(u.child!==null){for(g=Fi(l=u.child,l.pendingProps),u.child=g,g.return=u;l.sibling!==null;)l=l.sibling,(g=g.sibling=Fi(l,l.pendingProps)).return=u;g.sibling=null}return u.child}function Sn(l){l.flags|=4}function jh(l,u){if(l!==null&&l.child===u.child)return!0;if(16&u.flags)return!1;for(l=u.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(Be)wt=function(l,u){for(var g=u.child;g!==null;){if(g.tag===5||g.tag===6)G(l,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===u)break;for(;g.sibling===null;){if(g.return===null||g.return===u)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},wn=function(){},lr=function(l,u,g,w,E){if((l=l.memoizedProps)!==w){var I=u.stateNode,L=Wn(on.current);g=ee(I,g,l,w,E,L),(u.updateQueue=g)&&Sn(u)}},_r=function(l,u,g,w){g!==w&&Sn(u)};else if(Ue){wt=function(l,u,g,w){for(var E=u.child;E!==null;){if(E.tag===5){var I=E.stateNode;g&&w&&(I=Us(I,E.type,E.memoizedProps,E)),G(l,I)}else if(E.tag===6)I=E.stateNode,g&&w&&(I=Po(I,E.memoizedProps,E)),G(l,I);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)(I=E.child)!==null&&(I.return=E),wt(l,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===u)break;for(;E.sibling===null;){if(E.return===null||E.return===u)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var Jc=function(l,u,g,w){for(var E=u.child;E!==null;){if(E.tag===5){var I=E.stateNode;g&&w&&(I=Us(I,E.type,E.memoizedProps,E)),Ls(l,I)}else if(E.tag===6)I=E.stateNode,g&&w&&(I=Po(I,E.memoizedProps,E)),Ls(l,I);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)(I=E.child)!==null&&(I.return=E),Jc(l,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===u)break;for(;E.sibling===null;){if(E.return===null||E.return===u)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};wn=function(l,u){var g=u.stateNode;if(!jh(l,u)){l=g.containerInfo;var w=mn(l);Jc(w,u,!1,!1),g.pendingChildren=w,Sn(u),mi(l,w)}},lr=function(l,u,g,w,E){var I=l.stateNode,L=l.memoizedProps;if((l=jh(l,u))&&L===w)u.stateNode=I;else{var $=u.stateNode,re=Wn(on.current),fe=null;L!==w&&(fe=ee($,g,L,w,E,re)),l&&fe===null?u.stateNode=I:(I=Tr(I,fe,g,L,w,u,l,$),X(I,g,w,E,re)&&Sn(u),u.stateNode=I,l?Sn(u):wt(I,u,!1,!1))}},_r=function(l,u,g,w){g!==w?(l=Wn(os.current),g=Wn(on.current),u.stateNode=me(w,l,g,u),Sn(u)):u.stateNode=l.stateNode}}else wn=function(){},lr=function(){},_r=function(){};function Tn(l,u){if(!Pt)switch(l.tailMode){case"hidden":u=l.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function er(l){var u=l.alternate!==null&&l.alternate.child===l.child,g=0,w=0;if(u)for(var E=l.child;E!==null;)g|=E.lanes|E.childLanes,w|=14680064&E.subtreeFlags,w|=14680064&E.flags,E.return=l,E=E.sibling;else for(E=l.child;E!==null;)g|=E.lanes|E.childLanes,w|=E.subtreeFlags,w|=E.flags,E.return=l,E=E.sibling;return l.subtreeFlags|=w,l.childLanes=g,u}function ra(l,u,g){var w=u.pendingProps;switch(ru(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(u),null;case 1:case 17:return Pr(u.type)&&Ws(),er(u),null;case 3:return g=u.stateNode,Zs(),ft(Wr),ft(Cr),an(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),l!==null&&l.child!==null||(su(u)?Sn(u):l===null||l.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,jn!==null&&(_l(jn),jn=null))),wn(l,u),er(u),null;case 5:Th(u),g=Wn(os.current);var E=u.type;if(l!==null&&u.stateNode!=null)lr(l,u,E,w,g),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!w){if(u.stateNode===null)throw Error(a(166));return er(u),null}if(l=Wn(on.current),su(u)){if(!Je)throw Error(a(175));l=ti(u.stateNode,u.type,u.memoizedProps,g,l,u,!Ei),u.updateQueue=l,l!==null&&Sn(u)}else{var I=k(E,w,g,l,u);wt(I,u,!1,!1),u.stateNode=I,X(I,E,w,g,l)&&Sn(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return er(u),null;case 6:if(l&&u.stateNode!=null)_r(l,u,l.memoizedProps,w);else{if(typeof w!="string"&&u.stateNode===null)throw Error(a(166));if(l=Wn(os.current),g=Wn(on.current),su(u)){if(!Je)throw Error(a(176));if(l=u.stateNode,g=u.memoizedProps,(w=ql(l,g,u,!Ei))&&(E=Nt)!==null)switch(E.tag){case 3:Gf(E.stateNode.containerInfo,l,g,(1&E.mode)!=0);break;case 5:Xt(E.type,E.memoizedProps,E.stateNode,l,g,(1&E.mode)!=0)}w&&Sn(u)}else u.stateNode=me(w,l,g,u)}return er(u),null;case 13:if(ft(zt),w=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Pt&&vr!==null&&1&u.mode&&!(128&u.flags))zc(),Bo(),u.flags|=98560,E=!1;else if(E=su(u),w!==null&&w.dehydrated!==null){if(l===null){if(!E)throw Error(a(318));if(!Je)throw Error(a(344));if(!(E=(E=u.memoizedState)!==null?E.dehydrated:null))throw Error(a(317));Io(E,u)}else Bo(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;er(u),E=!1}else jn!==null&&(_l(jn),jn=null),E=!0;if(!E)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=g,u):((g=w!==null)!=(l!==null&&l.memoizedState!==null)&&g&&(u.child.flags|=8192,1&u.mode&&(l===null||1&zt.current?nr===0&&(nr=3):ku())),u.updateQueue!==null&&(u.flags|=4),er(u),null);case 4:return Zs(),wn(l,u),l===null&&qe(u.stateNode.containerInfo),er(u),null;case 10:return qa(u.type._context),er(u),null;case 19:if(ft(zt),(E=u.memoizedState)===null)return er(u),null;if(w=(128&u.flags)!=0,(I=E.rendering)===null)if(w)Tn(E,!1);else{if(nr!==0||l!==null&&128&l.flags)for(l=u.child;l!==null;){if((I=hu(l))!==null){for(u.flags|=128,Tn(E,!1),(l=I.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=g,g=u.child;g!==null;)E=l,(w=g).flags&=14680066,(I=w.alternate)===null?(w.childLanes=0,w.lanes=E,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=I.childLanes,w.lanes=I.lanes,w.child=I.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=I.memoizedProps,w.memoizedState=I.memoizedState,w.updateQueue=I.updateQueue,w.type=I.type,E=I.dependencies,w.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),g=g.sibling;return Ct(zt,1&zt.current|2),u.child}l=l.sibling}E.tail!==null&&Dt()>yl&&(u.flags|=128,w=!0,Tn(E,!1),u.lanes=4194304)}else{if(!w)if((l=hu(I))!==null){if(u.flags|=128,w=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),Tn(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!Pt)return er(u),null}else 2*Dt()-E.renderingStartTime>yl&&g!==1073741824&&(u.flags|=128,w=!0,Tn(E,!1),u.lanes=4194304);E.isBackwards?(I.sibling=u.child,u.child=I):((l=E.last)!==null?l.sibling=I:u.child=I,E.last=I)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=Dt(),u.sibling=null,l=zt.current,Ct(zt,w?1&l|2:1&l),u):(er(u),null);case 22:case 23:return uo(),g=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==g&&(u.flags|=8192),g&&1&u.mode?1073741824&rr&&(er(u),Be&&6&u.subtreeFlags&&(u.flags|=8192)):er(u),null;case 24:case 25:return null}throw Error(a(156,u.tag))}function Tu(l,u){switch(ru(u),u.tag){case 1:return Pr(u.type)&&Ws(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return Zs(),ft(Wr),ft(Cr),an(),65536&(l=u.flags)&&!(128&l)?(u.flags=-65537&l|128,u):null;case 5:return Th(u),null;case 13:if(ft(zt),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(a(340));Bo()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return ft(zt),null;case 4:return Zs(),null;case 10:return qa(u.type._context),null;case 22:case 23:return uo(),null;default:return null}}var to=!1,Tt=!1,An=typeof WeakSet=="function"?WeakSet:Set,De=null;function qr(l,u){var g=l.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){At(l,u,w)}else g.current=null}function oi(l,u,g){try{g()}catch(w){At(l,u,w)}}var fs=!1;function na(l,u,g){var w=u.updateQueue;if((w=w!==null?w.lastEffect:null)!==null){var E=w=w.next;do{if((E.tag&l)===l){var I=E.destroy;E.destroy=void 0,I!==void 0&&oi(u,g,I)}E=E.next}while(E!==w)}}function ia(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var g=u=u.next;do{if((g.tag&l)===l){var w=g.create;g.destroy=w()}g=g.next}while(g!==u)}}function hl(l){var u=l.ref;if(u!==null){var g=l.stateNode;l.tag===5?l=B(g):l=g,typeof u=="function"?u(l):u.current=l}}function Qr(l){var u=l.alternate;u!==null&&(l.alternate=null,Qr(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&or(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Kr(l){return l.tag===5||l.tag===3||l.tag===4}function Ft(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Kr(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function ln(l,u,g){var w=l.tag;if(w===5||w===6)l=l.stateNode,u?Bs(g,l,u):Ao(g,l);else if(w!==4&&(l=l.child)!==null)for(ln(l,u,g),l=l.sibling;l!==null;)ln(l,u,g),l=l.sibling}function Au(l,u,g){var w=l.tag;if(w===5||w===6)l=l.stateNode,u?Co(g,l,u):ei(g,l);else if(w!==4&&(l=l.child)!==null)for(Au(l,u,g),l=l.sibling;l!==null;)Au(l,u,g),l=l.sibling}var Rr=null,Cn=!1;function Pn(l,u,g){for(g=g.child;g!==null;)Cu(l,u,g),g=g.sibling}function Cu(l,u,g){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Wa,g)}catch{}switch(g.tag){case 5:Tt||qr(g,u);case 6:if(Be){var w=Rr,E=Cn;Rr=null,Pn(l,u,g),Cn=E,(Rr=w)!==null&&(Cn?oe(Rr,g.stateNode):ne(Rr,g.stateNode))}else Pn(l,u,g);break;case 18:Be&&Rr!==null&&(Cn?Lc(Rr,g.stateNode):Na(Rr,g.stateNode));break;case 4:Be?(w=Rr,E=Cn,Rr=g.stateNode.containerInfo,Cn=!0,Pn(l,u,g),Rr=w,Cn=E):(Ue&&(w=g.stateNode.containerInfo,E=mn(w),Ar(w,E)),Pn(l,u,g));break;case 0:case 11:case 14:case 15:if(!Tt&&(w=g.updateQueue)!==null&&(w=w.lastEffect)!==null){E=w=w.next;do{var I=E,L=I.destroy;I=I.tag,L!==void 0&&(2&I||4&I)&&oi(g,u,L),E=E.next}while(E!==w)}Pn(l,u,g);break;case 1:if(!Tt&&(qr(g,u),typeof(w=g.stateNode).componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch($){At(g,u,$)}Pn(l,u,g);break;case 21:Pn(l,u,g);break;case 22:1&g.mode?(Tt=(w=Tt)||g.memoizedState!==null,Pn(l,u,g),Tt=w):Pn(l,u,g);break;default:Pn(l,u,g)}}function cl(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var g=l.stateNode;g===null&&(g=l.stateNode=new An),u.forEach(function(w){var E=rd.bind(null,l,w);g.has(w)||(g.add(w),w.then(E,E))})}}function In(l,u){var g=u.deletions;if(g!==null)for(var w=0;w<g.length;w++){var E=g[w];try{var I=l,L=u;if(Be){var $=L;e:for(;$!==null;){switch($.tag){case 5:Rr=$.stateNode,Cn=!1;break e;case 3:case 4:Rr=$.stateNode.containerInfo,Cn=!0;break e}$=$.return}if(Rr===null)throw Error(a(160));Cu(I,L,E),Rr=null,Cn=!1}else Cu(I,L,E);var re=E.alternate;re!==null&&(re.return=null),E.return=null}catch(fe){At(E,u,fe)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)ro(u,l),u=u.sibling}function ro(l,u){var g=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(In(u,l),Rn(l),4&w){try{na(3,l,l.return),ia(3,l)}catch(pe){At(l,l.return,pe)}try{na(5,l,l.return)}catch(pe){At(l,l.return,pe)}}break;case 1:In(u,l),Rn(l),512&w&&g!==null&&qr(g,g.return);break;case 5:if(In(u,l),Rn(l),512&w&&g!==null&&qr(g,g.return),Be){if(32&l.flags){var E=l.stateNode;try{lt(E)}catch(pe){At(l,l.return,pe)}}if(4&w&&(E=l.stateNode)!=null){var I=l.memoizedProps;if(g=g!==null?g.memoizedProps:I,w=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{hh(E,u,w,g,I,l)}catch(pe){At(l,l.return,pe)}}}break;case 6:if(In(u,l),Rn(l),4&w&&Be){if(l.stateNode===null)throw Error(a(162));E=l.stateNode,I=l.memoizedProps,g=g!==null?g.memoizedProps:I;try{Ki(E,g,I)}catch(pe){At(l,l.return,pe)}}break;case 3:if(In(u,l),Rn(l),4&w){if(Be&&Je&&g!==null&&g.memoizedState.isDehydrated)try{zs(u.containerInfo)}catch(pe){At(l,l.return,pe)}if(Ue){E=u.containerInfo,I=u.pendingChildren;try{Ar(E,I)}catch(pe){At(l,l.return,pe)}}}break;case 4:if(In(u,l),Rn(l),4&w&&Ue){E=(I=l.stateNode).containerInfo,I=I.pendingChildren;try{Ar(E,I)}catch(pe){At(l,l.return,pe)}}break;case 13:In(u,l),Rn(l),8192&(E=l.child).flags&&(I=E.memoizedState!==null,E.stateNode.isHidden=I,!I||E.alternate!==null&&E.alternate.memoizedState!==null||(Di=Dt())),4&w&&cl(l);break;case 22:var L=g!==null&&g.memoizedState!==null;if(1&l.mode?(Tt=(g=Tt)||L,In(u,l),Tt=g):In(u,l),Rn(l),8192&w){if(g=l.memoizedState!==null,(l.stateNode.isHidden=g)&&!L&&(1&l.mode)!=0)for(De=l,w=l.child;w!==null;){for(u=De=w;De!==null;){var $=(L=De).child;switch(L.tag){case 0:case 11:case 14:case 15:na(4,L,L.return);break;case 1:qr(L,L.return);var re=L.stateNode;if(typeof re.componentWillUnmount=="function"){var fe=L,ye=L.return;try{var ke=fe;re.props=ke.memoizedProps,re.state=ke.memoizedState,re.componentWillUnmount()}catch(pe){At(fe,ye,pe)}}break;case 5:qr(L,L.return);break;case 22:if(L.memoizedState!==null){Vh(u);continue}}$!==null?($.return=L,De=$):Vh(u)}w=w.sibling}if(Be){e:if(w=null,Be)for(u=l;;){if(u.tag===5){if(w===null){w=u;try{E=u.stateNode,g?xt(E):nt(u.stateNode,u.memoizedProps)}catch(pe){At(l,l.return,pe)}}}else if(u.tag===6){if(w===null)try{I=u.stateNode,g?Et(I):Or(I,u.memoizedProps)}catch(pe){At(l,l.return,pe)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;w===u&&(w=null),u=u.return}w===u&&(w=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:In(u,l),Rn(l),4&w&&cl(l);break;case 21:break;default:In(u,l),Rn(l)}}function Rn(l){var u=l.flags;if(2&u){try{if(Be){e:{for(var g=l.return;g!==null;){if(Kr(g)){var w=g;break e}g=g.return}throw Error(a(160))}switch(w.tag){case 5:var E=w.stateNode;32&w.flags&&(lt(E),w.flags&=-33),Au(l,Ft(l),E);break;case 3:case 4:var I=w.stateNode.containerInfo;ln(l,Ft(l),I);break;default:throw Error(a(161))}}}catch(L){At(l,l.return,L)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function Xf(l,u,g){De=l,sa(l)}function sa(l,u,g){for(var w=(1&l.mode)!=0;De!==null;){var E=De,I=E.child;if(E.tag===22&&w){var L=E.memoizedState!==null||to;if(!L){var $=E.alternate,re=$!==null&&$.memoizedState!==null||Tt;$=to;var fe=Tt;if(to=L,(Tt=re)&&!fe)for(De=E;De!==null;)re=(L=De).child,L.tag===22&&L.memoizedState!==null?Wh(E):re!==null?(re.return=L,De=re):Wh(E);for(;I!==null;)De=I,sa(I),I=I.sibling;De=E,to=$,Tt=fe}dl(l)}else 8772&E.subtreeFlags&&I!==null?(I.return=E,De=I):dl(l)}}function dl(l){for(;De!==null;){var u=De;if(8772&u.flags){var g=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:Tt||ia(5,u);break;case 1:var w=u.stateNode;if(4&u.flags&&!Tt)if(g===null)w.componentDidMount();else{var E=u.elementType===u.type?g.memoizedProps:Vn(u.type,g.memoizedProps);w.componentDidUpdate(E,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var I=u.updateQueue;I!==null&&bh(u,I,w);break;case 3:var L=u.updateQueue;if(L!==null){if(g=null,u.child!==null)switch(u.child.tag){case 5:g=B(u.child.stateNode);break;case 1:g=u.child.stateNode}bh(u,L,g)}break;case 5:var $=u.stateNode;g===null&&4&u.flags&&Os($,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Je&&u.memoizedState===null){var re=u.alternate;if(re!==null){var fe=re.memoizedState;if(fe!==null){var ye=fe.dehydrated;ye!==null&&Ql(ye)}}}break;default:throw Error(a(163))}Tt||512&u.flags&&hl(u)}catch(ke){At(u,u.return,ke)}}if(u===l){De=null;break}if((g=u.sibling)!==null){g.return=u.return,De=g;break}De=u.return}}function Vh(l){for(;De!==null;){var u=De;if(u===l){De=null;break}var g=u.sibling;if(g!==null){g.return=u.return,De=g;break}De=u.return}}function Wh(l){for(;De!==null;){var u=De;try{switch(u.tag){case 0:case 11:case 15:var g=u.return;try{ia(4,u)}catch(re){At(u,g,re)}break;case 1:var w=u.stateNode;if(typeof w.componentDidMount=="function"){var E=u.return;try{w.componentDidMount()}catch(re){At(u,E,re)}}var I=u.return;try{hl(u)}catch(re){At(u,I,re)}break;case 5:var L=u.return;try{hl(u)}catch(re){At(u,L,re)}}}catch(re){At(u,u.return,re)}if(u===l){De=null;break}var $=u.sibling;if($!==null){$.return=u.return,De=$;break}De=u.return}}var Ii=0,fl=1,no=2,io=3,Ri=4;if(typeof Symbol=="function"&&Symbol.for){var so=Symbol.for;Ii=so("selector.component"),fl=so("selector.has_pseudo_class"),no=so("selector.role"),io=so("selector.test_id"),Ri=so("selector.text")}function pl(l){var u=_t(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(a(364));return u}if((l=qi(l))===null)throw Error(a(362));return l.stateNode.current}function ml(l,u){switch(u.$$typeof){case Ii:if(l.type===u.value)return!0;break;case fl:e:{u=u.value,l=[l,0];for(var g=0;g<l.length;){var w=l[g++],E=l[g++],I=u[E];if(w.tag!==5||!Qi(w)){for(;I!=null&&ml(w,I);)I=u[++E];if(E===u.length){u=!0;break e}for(w=w.child;w!==null;)l.push(w,E),w=w.sibling}}u=!1}return u;case no:if(l.tag===5&&Xl(l.stateNode,u.value))return!0;break;case Ri:if((l.tag===5||l.tag===6)&&(l=$l(l))!==null&&0<=l.indexOf(u.value))return!0;break;case io:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(a(365))}return!1}function gl(l){switch(l.$$typeof){case Ii:return"<"+(q(l.value)||"Unknown")+">";case fl:return":has("+(gl(l)||"")+")";case no:return'[role="'+l.value+'"]';case Ri:return'"'+l.value+'"';case io:return'[data-testname="'+l.value+'"]';default:throw Error(a(365))}}function oo(l,u){var g=[];l=[l,0];for(var w=0;w<l.length;){var E=l[w++],I=l[w++],L=u[I];if(E.tag!==5||!Qi(E)){for(;L!=null&&ml(E,L);)L=u[++I];if(I===u.length)g.push(E);else for(E=E.child;E!==null;)l.push(E,I),E=E.sibling}}return g}function Zr(l,u){if(!Gn)throw Error(a(363));l=oo(l=pl(l),u),u=[],l=Array.from(l);for(var g=0;g<l.length;){var w=l[g++];if(w.tag===5)Qi(w)||u.push(w.stateNode);else for(w=w.child;w!==null;)l.push(w),w=w.sibling}return u}var ao=Math.ceil,oa=c.ReactCurrentDispatcher,Pu=c.ReactCurrentOwner,St=c.ReactCurrentBatchConfig,it=0,tr=null,Yt=null,Ot=0,rr=0,ki=zn(0),nr=0,ps=null,ms=0,gs=0,kn=0,Mi=null,xr=null,Di=0,yl=1/0,un=null;function lo(){yl=Dt()+500}var Iu,kt=!1,aa=null,ai=null,la=!1,Xn=null,ua=0,Yn=0,Bt=null,Vt=-1,qt=0;function ur(){return 6&it?Dt():Vt!==-1?Vt:Vt=Dt()}function Mn(l){return 1&l.mode?2&it&&Ot!==0?Ot&-Ot:zf.transition!==null?(qt===0&&(qt=ph()),qt):(l=ht)!==0?l:Qe():1}function kr(l,u,g,w){if(50<Yn)throw Yn=0,Bt=null,Error(a(185));Ro(l,g,w),2&it&&l===tr||(l===tr&&(!(2&it)&&(gs|=g),nr===4&&li(l,Ot)),Jr(l,w),g===1&&it===0&&!(1&u.mode)&&(lo(),ts&&nn()))}function Jr(l,u){var g=l.callbackNode;(function(E,I){for(var L=E.suspendedLanes,$=E.pingedLanes,re=E.expirationTimes,fe=E.pendingLanes;0<fe;){var ye=31-gn(fe),ke=1<<ye,pe=re[ye];pe===-1?ke&L&&!(ke&$)||(re[ye]=Gc(ke,I)):pe<=I&&(E.expiredLanes|=ke),fe&=~ke}})(l,u);var w=Ga(l,l===tr?Ot:0);if(w===0)g!==null&&wi(g),l.callbackNode=null,l.callbackPriority=0;else if(u=w&-w,l.callbackPriority!==u){if(g!=null&&wi(g),u===1)l.tag===0?function(E){ts=!0,Xs(E)}(qn.bind(null,l)):Xs(qn.bind(null,l)),Un?To(function(){!(6&it)&&nn()}):ri(mh,nn),g=null;else{switch(xi(w)){case 1:g=mh;break;case 4:g=Hc;break;case 16:default:g=ko;break;case 536870912:g=Hf}g=Zh(g,wr.bind(null,l))}l.callbackPriority=u,l.callbackNode=g}}function wr(l,u){if(Vt=-1,qt=0,(6&it)!=0)throw Error(a(327));var g=l.callbackNode;if(Qn()&&l.callbackNode!==g)return null;var w=Ga(l,l===tr?Ot:0);if(w===0)return null;if(30&w||w&l.expiredLanes||u)u=xl(l,w);else{u=w;var E=it;it|=2;var I=$h();for(tr===l&&Ot===u||(un=null,lo(),Ni(l,u));;)try{td();break}catch($){Ru(l,$)}vh(),oa.current=I,it=E,Yt!==null?u=0:(tr=null,Ot=0,u=nr)}if(u!==0){if(u===2&&(E=Ha(l))!==0&&(w=E,u=vl(l,E)),u===1)throw g=ps,Ni(l,0),li(l,w),Jr(l,Dt()),g;if(u===6)li(l,w);else{if(E=l.current.alternate,(30&w)==0&&!function($){for(var re=$;;){if(16384&re.flags){var fe=re.updateQueue;if(fe!==null&&(fe=fe.stores)!==null)for(var ye=0;ye<fe.length;ye++){var ke=fe[ye],pe=ke.getSnapshot;ke=ke.value;try{if(!yn(pe(),ke))return!1}catch{return!1}}}if(fe=re.child,16384&re.subtreeFlags&&fe!==null)fe.return=re,re=fe;else{if(re===$)break;for(;re.sibling===null;){if(re.return===null||re.return===$)return!0;re=re.return}re.sibling.return=re.return,re=re.sibling}}return!0}(E)&&((u=xl(l,w))===2&&(I=Ha(l))!==0&&(w=I,u=vl(l,I)),u===1))throw g=ps,Ni(l,0),li(l,w),Jr(l,Dt()),g;switch(l.finishedWork=E,l.finishedLanes=w,u){case 0:case 1:throw Error(a(345));case 2:case 5:ho(l,xr,un);break;case 3:if(li(l,w),(130023424&w)===w&&10<(u=Di+500-Dt())){if(Ga(l,0)!==0)break;if(((E=l.suspendedLanes)&w)!==w){ur(),l.pingedLanes|=l.suspendedLanes&E;break}l.timeoutHandle=le(ho.bind(null,l,xr,un),u);break}ho(l,xr,un);break;case 4:if(li(l,w),(4194240&w)===w)break;for(u=l.eventTimes,E=-1;0<w;){var L=31-gn(w);I=1<<L,(L=u[L])>E&&(E=L),w&=~I}if(w=E,10<(w=(120>(w=Dt()-w)?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*ao(w/1960))-w)){l.timeoutHandle=le(ho.bind(null,l,xr,un),w);break}ho(l,xr,un);break;default:throw Error(a(329))}}}return Jr(l,Dt()),l.callbackNode===g?wr.bind(null,l):null}function vl(l,u){var g=Mi;return l.current.memoizedState.isDehydrated&&(Ni(l,u).flags|=256),(l=xl(l,u))!==2&&(u=xr,xr=g,u!==null&&_l(u)),l}function _l(l){xr===null?xr=l:xr.push.apply(xr,l)}function li(l,u){for(u&=~kn,u&=~gs,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var g=31-gn(u),w=1<<g;l[g]=-1,u&=~w}}function qn(l){if(6&it)throw Error(a(327));Qn();var u=Ga(l,0);if(!(1&u))return Jr(l,Dt()),null;var g=xl(l,u);if(l.tag!==0&&g===2){var w=Ha(l);w!==0&&(u=w,g=vl(l,w))}if(g===1)throw g=ps,Ni(l,0),li(l,u),Jr(l,Dt()),g;if(g===6)throw Error(a(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,ho(l,xr,un),Jr(l,Dt()),null}function hn(l){Xn!==null&&Xn.tag===0&&!(6&it)&&Qn();var u=it;it|=1;var g=St.transition,w=ht;try{if(St.transition=null,ht=1,l)return l()}finally{ht=w,St.transition=g,!(6&(it=u))&&nn()}}function uo(){rr=ki.current,ft(ki)}function Ni(l,u){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;if(g!==Ae&&(l.timeoutHandle=Ae,ge(g)),Yt!==null)for(g=Yt.return;g!==null;){var w=g;switch(ru(w),w.tag){case 1:(w=w.type.childContextTypes)!=null&&Ws();break;case 3:Zs(),ft(Wr),ft(Cr),an();break;case 5:Th(w);break;case 4:Zs();break;case 13:case 19:ft(zt);break;case 10:qa(w.type._context);break;case 22:case 23:uo()}g=g.return}if(tr=l,Yt=l=Fi(l.current,null),Ot=rr=u,nr=0,ps=null,kn=gs=ms=0,xr=Mi=null,ns!==null){for(u=0;u<ns.length;u++)if((w=(g=ns[u]).interleaved)!==null){g.interleaved=null;var E=w.next,I=g.pending;if(I!==null){var L=I.next;I.next=E,w.next=L}g.pending=w}ns=null}return l}function Ru(l,u){for(;;){var g=Yt;try{if(vh(),as.current=Qo,du){for(var w=Lt.memoizedState;w!==null;){var E=w.queue;E!==null&&(E.pending=null),w=w.next}du=!1}if(ls=0,Zt=ar=Lt=null,tl=!1,si=0,Pu.current=null,g===null||g.return===null){nr=1,ps=u,Yt=null;break}e:{var I=l,L=g.return,$=g,re=u;if(u=Ot,$.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var fe=re,ye=$,ke=ye.tag;if(!(1&ye.mode)&&(ke===0||ke===11||ke===15)){var pe=ye.alternate;pe?(ye.updateQueue=pe.updateQueue,ye.memoizedState=pe.memoizedState,ye.lanes=pe.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Te=Js(L);if(Te!==null){Te.flags&=-257,$n(Te,L,$,0,u),1&Te.mode&&Gh(I,fe,u),re=fe;var Ge=(u=Te).updateQueue;if(Ge===null){var ot=new Set;ot.add(re),u.updateQueue=ot}else Ge.add(re);break e}if(!(1&u)){Gh(I,fe,u),ku();break e}re=Error(a(426))}else if(Pt&&1&$.mode){var ve=Js(L);if(ve!==null){!(65536&ve.flags)&&(ve.flags|=256),$n(ve,L,$,0,u),Xa(Ko(re,$));break e}}I=re=Ko(re,$),nr!==4&&(nr=2),Mi===null?Mi=[I]:Mi.push(I),I=L;do{switch(I.tag){case 3:I.flags|=65536,u&=-u,I.lanes|=u,$c(I,Eu(0,re,u));break e;case 1:$=re;var K=I.type,ue=I.stateNode;if(!(128&I.flags)&&(typeof K.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(ai===null||!ai.has(ue)))){I.flags|=65536,u&=-u,I.lanes|=u,$c(I,Ai(I,$,u));break e}}I=I.return}while(I!==null)}Yh(g)}catch(be){u=be,Yt===g&&g!==null&&(Yt=g=g.return);continue}break}}function $h(){var l=oa.current;return oa.current=Qo,l===null?Qo:l}function ku(){nr!==0&&nr!==3&&nr!==2||(nr=4),tr===null||!(268435455&ms)&&!(268435455&gs)||li(tr,Ot)}function xl(l,u){var g=it;it|=2;var w=$h();for(tr===l&&Ot===u||(un=null,Ni(l,u));;)try{ed();break}catch(E){Ru(l,E)}if(vh(),it=g,oa.current=w,Yt!==null)throw Error(a(261));return tr=null,Ot=0,nr}function ed(){for(;Yt!==null;)Xh(Yt)}function td(){for(;Yt!==null&&!ja();)Xh(Yt)}function Xh(l){var u=Iu(l.alternate,l,rr);l.memoizedProps=l.pendingProps,u===null?Yh(l):Yt=u,Pu.current=null}function Yh(l){var u=l;do{var g=u.alternate;if(l=u.return,(32768&u.flags)==0){if((g=ra(g,u,rr))!==null)return void(Yt=g)}else{if((g=Tu(g,u))!==null)return g.flags&=32767,void(Yt=g);if(l===null)return nr=6,void(Yt=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(Yt=u);Yt=u=l}while(u!==null);nr===0&&(nr=5)}function ho(l,u,g){var w=ht,E=St.transition;try{St.transition=null,ht=1,function(I,L,$,re){do Qn();while(Xn!==null);if(6&it)throw Error(a(327));$=I.finishedWork;var fe=I.finishedLanes;if($===null)return null;if(I.finishedWork=null,I.finishedLanes=0,$===I.current)throw Error(a(177));I.callbackNode=null,I.callbackPriority=0;var ye=$.lanes|$.childLanes;if(function(Te,Ge){var ot=Te.pendingLanes&~Ge;Te.pendingLanes=Ge,Te.suspendedLanes=0,Te.pingedLanes=0,Te.expiredLanes&=Ge,Te.mutableReadLanes&=Ge,Te.entangledLanes&=Ge,Ge=Te.entanglements;var ve=Te.eventTimes;for(Te=Te.expirationTimes;0<ot;){var K=31-gn(ot),ue=1<<K;Ge[K]=0,ve[K]=-1,Te[K]=-1,ot&=~ue}}(I,ye),I===tr&&(Yt=tr=null,Ot=0),!(2064&$.subtreeFlags)&&!(2064&$.flags)||la||(la=!0,Zh(ko,function(){return Qn(),null})),ye=(15990&$.flags)!=0,(15990&$.subtreeFlags)!=0||ye){ye=St.transition,St.transition=null;var ke=ht;ht=1;var pe=it;it|=4,Pu.current=null,function(Te,Ge){for(z(Te.containerInfo),De=Ge;De!==null;)if(Ge=(Te=De).child,(1028&Te.subtreeFlags)!=0&&Ge!==null)Ge.return=Te,De=Ge;else for(;De!==null;){Te=De;try{var ot=Te.alternate;if(1024&Te.flags)switch(Te.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(ot!==null){var ve=ot.memoizedProps,K=ot.memoizedState,ue=Te.stateNode,be=ue.getSnapshotBeforeUpdate(Te.elementType===Te.type?ve:Vn(Te.type,ve),K);ue.__reactInternalSnapshotBeforeUpdate=be}break;case 3:Be&&Vr(Te.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(Xe){At(Te,Te.return,Xe)}if((Ge=Te.sibling)!==null){Ge.return=Te.return,De=Ge;break}De=Te.return}ot=fs,fs=!1}(I,$),ro($,I),F(I.containerInfo),I.current=$,Xf($),Va(),it=pe,ht=ke,St.transition=ye}else I.current=$;if(la&&(la=!1,Xn=I,ua=fe),ye=I.pendingLanes,ye===0&&(ai=null),function(Te){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Wa,Te,void 0,(128&Te.current.flags)==128)}catch{}}($.stateNode),Jr(I,Dt()),L!==null)for(re=I.onRecoverableError,$=0;$<L.length;$++)fe=L[$],re(fe.value,{componentStack:fe.stack,digest:fe.digest});if(kt)throw kt=!1,I=aa,aa=null,I;1&ua&&I.tag!==0&&Qn(),ye=I.pendingLanes,1&ye?I===Bt?Yn++:(Yn=0,Bt=I):Yn=0,nn()}(l,u,g,w)}finally{St.transition=E,ht=w}return null}function Qn(){if(Xn!==null){var l=xi(ua),u=St.transition,g=ht;try{if(St.transition=null,ht=16>l?16:l,Xn===null)var w=!1;else{if(l=Xn,Xn=null,ua=0,(6&it)!=0)throw Error(a(331));var E=it;for(it|=4,De=l.current;De!==null;){var I=De,L=I.child;if(16&De.flags){var $=I.deletions;if($!==null){for(var re=0;re<$.length;re++){var fe=$[re];for(De=fe;De!==null;){var ye=De;switch(ye.tag){case 0:case 11:case 15:na(8,ye,I)}var ke=ye.child;if(ke!==null)ke.return=ye,De=ke;else for(;De!==null;){var pe=(ye=De).sibling,Te=ye.return;if(Qr(ye),ye===fe){De=null;break}if(pe!==null){pe.return=Te,De=pe;break}De=Te}}}var Ge=I.alternate;if(Ge!==null){var ot=Ge.child;if(ot!==null){Ge.child=null;do{var ve=ot.sibling;ot.sibling=null,ot=ve}while(ot!==null)}}De=I}}if(2064&I.subtreeFlags&&L!==null)L.return=I,De=L;else e:for(;De!==null;){if(2048&(I=De).flags)switch(I.tag){case 0:case 11:case 15:na(9,I,I.return)}var K=I.sibling;if(K!==null){K.return=I.return,De=K;break e}De=I.return}}var ue=l.current;for(De=ue;De!==null;){var be=(L=De).child;if(2064&L.subtreeFlags&&be!==null)be.return=L,De=be;else e:for(L=ue;De!==null;){if(2048&($=De).flags)try{switch($.tag){case 0:case 11:case 15:ia(9,$)}}catch(gt){At($,$.return,gt)}if($===L){De=null;break e}var Xe=$.sibling;if(Xe!==null){Xe.return=$.return,De=Xe;break e}De=$.return}}if(it=E,nn(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Wa,l)}catch{}w=!0}return w}finally{ht=g,St.transition=u}}return!1}function qh(l,u,g){l=ii(l,u=Eu(0,u=Ko(g,u),1),1),u=ur(),l!==null&&(Ro(l,1,u),Jr(l,u))}function At(l,u,g){if(l.tag===3)qh(l,l,g);else for(;u!==null;){if(u.tag===3){qh(u,l,g);break}if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(ai===null||!ai.has(w))){u=ii(u,l=Ai(u,l=Ko(g,l),1),1),l=ur(),u!==null&&(Ro(u,1,l),Jr(u,l));break}}u=u.return}}function Mu(l,u,g){var w=l.pingCache;w!==null&&w.delete(u),u=ur(),l.pingedLanes|=l.suspendedLanes&g,tr===l&&(Ot&g)===g&&(nr===4||nr===3&&(130023424&Ot)===Ot&&500>Dt()-Di?Ni(l,0):kn|=g),Jr(l,u)}function Qh(l,u){u===0&&(1&l.mode?(u=Ua,!(130023424&(Ua<<=1))&&(Ua=4194304)):u=1);var g=ur();(l=ni(l,u))!==null&&(Ro(l,u,g),Jr(l,g))}function Kh(l){var u=l.memoizedState,g=0;u!==null&&(g=u.retryLane),Qh(l,g)}function rd(l,u){var g=0;switch(l.tag){case 13:var w=l.stateNode,E=l.memoizedState;E!==null&&(g=E.retryLane);break;case 19:w=l.stateNode;break;default:throw Error(a(314))}w!==null&&w.delete(u),Qh(l,g)}function Zh(l,u){return ri(l,u)}function nd(l,u,g,w){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(l,u,g,w){return new nd(l,u,g,w)}function wl(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Fi(l,u){var g=l.alternate;return g===null?((g=cn(l.tag,u,l.key,l.mode)).elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=u,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=14680064&l.flags,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,u=l.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g}function bl(l,u,g,w,E,I){var L=2;if(w=l,typeof l=="function")wl(l)&&(L=1);else if(typeof l=="string")L=5;else e:switch(l){case v:return ys(g.children,E,I,u);case b:L=8,E|=8;break;case d:return(l=cn(12,g,u,2|E)).elementType=d,l.lanes=I,l;case C:return(l=cn(13,g,u,E)).elementType=C,l.lanes=I,l;case A:return(l=cn(19,g,u,E)).elementType=A,l.lanes=I,l;case D:return Du(g,E,I,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case y:L=10;break e;case _:L=9;break e;case T:L=11;break e;case P:L=14;break e;case N:L=16,w=null;break e}throw Error(a(130,l==null?l:typeof l,""))}return(u=cn(L,g,u,E)).elementType=l,u.type=w,u.lanes=I,u}function ys(l,u,g,w){return(l=cn(7,l,w,u)).lanes=g,l}function Du(l,u,g,w){return(l=cn(22,l,w,u)).elementType=D,l.lanes=g,l.stateNode={isHidden:!1},l}function Nu(l,u,g){return(l=cn(6,l,null,u)).lanes=g,l}function Jh(l,u,g){return(u=cn(4,l.children!==null?l.children:[],l.key,u)).lanes=g,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function Yf(l,u,g,w,E){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ae,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tu(0),this.expirationTimes=tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.identifierPrefix=w,this.onRecoverableError=E,Je&&(this.mutableSourceEagerHydrationData=null)}function ec(l,u,g,w,E,I,L,$,re){return l=new Yf(l,u,g,$,re),u===1?(u=1,I===!0&&(u|=8)):u=0,I=cn(3,null,null,u),l.current=I,I.stateNode=l,I.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},wh(I),l}function tc(l){if(!l)return mr;e:{if(J(l=l._reactInternals)!==l||l.tag!==1)throw Error(a(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Pr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(a(171))}if(l.tag===1){var g=l.type;if(Pr(g))return Uc(l,g,u)}return u}function rc(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return(l=Se(u))===null?null:l.stateNode}function El(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<u?g:u}}function Fu(l,u){El(l,u),(l=l.alternate)&&El(l,u)}function qf(l){return(l=Se(l))===null?null:l.stateNode}function Qf(){return null}return Iu=function(l,u,g){if(l!==null)if(l.memoizedProps!==u.pendingProps||Wr.current)jt=!0;else{if(!(l.lanes&g)&&!(128&u.flags))return jt=!1,function(ke,pe,Te){switch(pe.tag){case 3:Ci(pe),Bo();break;case 5:qc(pe);break;case 1:Pr(pe.type)&&Jl(pe);break;case 4:uu(pe,pe.stateNode.containerInfo);break;case 10:jc(0,pe.type._context,pe.memoizedProps.value);break;case 13:var Ge=pe.memoizedState;if(Ge!==null)return Ge.dehydrated!==null?(Ct(zt,1&zt.current),pe.flags|=128,null):Te&pe.child.childLanes?Lr(ke,pe,Te):(Ct(zt,1&zt.current),(ke=En(ke,pe,Te))!==null?ke.sibling:null);Ct(zt,1&zt.current);break;case 19:if(Ge=(Te&pe.childLanes)!=0,(128&ke.flags)!=0){if(Ge)return zh(ke,pe,Te);pe.flags|=128}var ot=pe.memoizedState;if(ot!==null&&(ot.rendering=null,ot.tail=null,ot.lastEffect=null),Ct(zt,zt.current),Ge)break;return null;case 22:case 23:return pe.lanes=0,Zo(ke,pe,Te)}return En(ke,pe,Te)}(l,u,g);jt=(131072&l.flags)!=0}else jt=!1,Pt&&1048576&u.flags&&$a(u,Ys,u.index);switch(u.lanes=0,u.tag){case 2:var w=u.type;bn(l,u),l=u.pendingProps;var E=_i(u,Cr.current);Uo(u,g),E=fu(null,u,w,l,E,g);var I=Vo();return u.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Pr(w)?(I=!0,Jl(u)):I=!1,u.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,wh(u),E.updater=Ka,u.stateNode=E,E._reactInternals=u,Sh(u,w,l,g),u=cs(null,u,w,!0,I,g)):(u.tag=0,Pt&&I&&Fo(u),Ir(null,u,E,g),u=u.child),u;case 16:w=u.elementType;e:{switch(bn(l,u),l=u.pendingProps,w=(E=w._init)(w._payload),u.type=w,E=u.tag=function(ke){if(typeof ke=="function")return wl(ke)?1:0;if(ke!=null){if((ke=ke.$$typeof)===T)return 11;if(ke===P)return 14}return 2}(w),l=Vn(w,l),E){case 0:u=Jo(null,u,w,l,g);break e;case 1:u=Su(null,u,w,l,g);break e;case 11:u=Kc(null,u,w,l,g);break e;case 14:u=Zc(null,u,w,Vn(w.type,l),g);break e}throw Error(a(306,w,""))}return u;case 0:return w=u.type,E=u.pendingProps,Jo(l,u,w,E=u.elementType===w?E:Vn(w,E),g);case 1:return w=u.type,E=u.pendingProps,Su(l,u,w,E=u.elementType===w?E:Vn(w,E),g);case 3:e:{if(Ci(u),l===null)throw Error(a(387));w=u.pendingProps,E=(I=u.memoizedState).element,Wc(l,u),Qa(u,w,null,g);var L=u.memoizedState;if(w=L.element,Je&&I.isDehydrated){if(I={element:w,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},u.updateQueue.baseState=I,u.memoizedState=I,256&u.flags){u=Rt(l,u,w,g,E=Ko(Error(a(423)),u));break e}if(w!==E){u=Rt(l,u,w,g,E=Ko(Error(a(424)),u));break e}for(Je&&(vr=Yl(u.stateNode.containerInfo),Nt=u,Pt=!0,jn=null,Ei=!1),g=Ja(u,null,w,g),u.child=g;g;)g.flags=-3&g.flags|4096,g=g.sibling}else{if(Bo(),w===E){u=En(l,u,g);break e}Ir(l,u,w,g)}u=u.child}return u;case 5:return qc(u),l===null&&Oo(u),w=u.type,E=u.pendingProps,I=l!==null?l.memoizedProps:null,L=E.children,ce(w,E)?L=null:I!==null&&ce(w,I)&&(u.flags|=32),eo(l,u),Ir(l,u,L,g),u.child;case 6:return l===null&&Oo(u),null;case 13:return Lr(l,u,g);case 4:return uu(u,u.stateNode.containerInfo),w=u.pendingProps,l===null?u.child=jo(u,null,w,g):Ir(l,u,w,g),u.child;case 11:return w=u.type,E=u.pendingProps,Kc(l,u,w,E=u.elementType===w?E:Vn(w,E),g);case 7:return Ir(l,u,u.pendingProps,g),u.child;case 8:case 12:return Ir(l,u,u.pendingProps.children,g),u.child;case 10:e:{if(w=u.type._context,E=u.pendingProps,I=u.memoizedProps,jc(0,w,L=E.value),I!==null)if(yn(I.value,L)){if(I.children===E.children&&!Wr.current){u=En(l,u,g);break e}}else for((I=u.child)!==null&&(I.return=u);I!==null;){var $=I.dependencies;if($!==null){L=I.child;for(var re=$.firstContext;re!==null;){if(re.context===w){if(I.tag===1){(re=Si(-1,g&-g)).tag=2;var fe=I.updateQueue;if(fe!==null){var ye=(fe=fe.shared).pending;ye===null?re.next=re:(re.next=ye.next,ye.next=re),fe.pending=re}}I.lanes|=g,(re=I.alternate)!==null&&(re.lanes|=g),_h(I.return,g,u),$.lanes|=g;break}re=re.next}}else if(I.tag===10)L=I.type===u.type?null:I.child;else if(I.tag===18){if((L=I.return)===null)throw Error(a(341));L.lanes|=g,($=L.alternate)!==null&&($.lanes|=g),_h(L,g,u),L=I.sibling}else L=I.child;if(L!==null)L.return=I;else for(L=I;L!==null;){if(L===u){L=null;break}if((I=L.sibling)!==null){I.return=L.return,L=I;break}L=L.return}I=L}Ir(l,u,E.children,g),u=u.child}return u;case 9:return E=u.type,w=u.pendingProps.children,Uo(u,g),w=w(E=xn(E)),u.flags|=1,Ir(l,u,w,g),u.child;case 14:return E=Vn(w=u.type,u.pendingProps),Zc(l,u,w,E=Vn(w.type,E),g);case 15:return hs(l,u,u.type,u.pendingProps,g);case 17:return w=u.type,E=u.pendingProps,E=u.elementType===w?E:Vn(w,E),bn(l,u),u.tag=1,Pr(w)?(l=!0,Jl(u)):l=!1,Uo(u,g),Xc(u,w,E),Sh(u,w,E,g),cs(null,u,w,!0,l,g);case 19:return zh(l,u,g);case 22:return Zo(l,u,g)}throw Error(a(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=ni(l,134217728);u!==null&&kr(u,l,134217728,ur()),Fu(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=ni(l,1);u!==null&&kr(u,l,1,ur()),Fu(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=Mn(l),g=ni(l,u);g!==null&&kr(g,l,u,ur()),Fu(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var g=pt(u.pendingLanes);g!==0&&(za(u,1|g),Jr(u,Dt()),!(6&it)&&(lo(),nn()))}break;case 13:hn(function(){var w=ni(l,1);if(w!==null){var E=ur();kr(w,l,1,E)}}),Fu(l,1)}},e.batchedUpdates=function(l,u){var g=it;it|=1;try{return l(u)}finally{(it=g)===0&&(lo(),ts&&nn())}},e.createComponentSelector=function(l){return{$$typeof:Ii,value:l}},e.createContainer=function(l,u,g,w,E,I,L){return ec(l,u,!1,null,0,w,0,I,L)},e.createHasPseudoClassSelector=function(l){return{$$typeof:fl,value:l}},e.createHydrationContainer=function(l,u,g,w,E,I,L,$,re){return(l=ec(g,w,!0,l,0,I,0,$,re)).context=tc(null),g=l.current,(I=Si(w=ur(),E=Mn(g))).callback=u??null,ii(g,I,E),l.current.lanes=E,Ro(l,E,w),Jr(l,w),l},e.createPortal=function(l,u,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:w==null?null:""+w,children:l,containerInfo:u,implementation:g}},e.createRoleSelector=function(l){return{$$typeof:no,value:l}},e.createTestNameSelector=function(l){return{$$typeof:io,value:l}},e.createTextSelector=function(l){return{$$typeof:Ri,value:l}},e.deferredUpdates=function(l){var u=ht,g=St.transition;try{return St.transition=null,ht=16,l()}finally{ht=u,St.transition=g}},e.discreteUpdates=function(l,u,g,w,E){var I=ht,L=St.transition;try{return St.transition=null,ht=1,l(u,g,w,E)}finally{ht=I,St.transition=L,it===0&&lo()}},e.findAllNodes=Zr,e.findBoundingRects=function(l,u){if(!Gn)throw Error(a(363));u=Zr(l,u),l=[];for(var g=0;g<u.length;g++)l.push(Ia(u[g]));for(u=l.length-1;0<u;u--)for(var w=(g=l[u]).x,E=w+g.width,I=g.y,L=I+g.height,$=u-1;0<=$;$--)if(u!==$){var re=l[$],fe=re.x,ye=fe+re.width,ke=re.y,pe=ke+re.height;if(w>=fe&&I>=ke&&E<=ye&&L<=pe){l.splice(u,1);break}if(!(w!==fe||g.width!==re.width||pe<I||ke>L)){ke>I&&(re.height+=ke-I,re.y=I),pe<L&&(re.height=L-ke),l.splice(u,1);break}if(!(I!==ke||g.height!==re.height||ye<w||fe>E)){fe>w&&(re.width+=fe-w,re.x=w),ye<E&&(re.width=E-fe),l.splice(u,1);break}}return l},e.findHostInstance=rc,e.findHostInstanceWithNoPortals=function(l){return(l=(l=de(l))!==null?Z(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return rc(l)},e.flushControlled=function(l){var u=it;it|=1;var g=St.transition,w=ht;try{St.transition=null,ht=1,l()}finally{ht=w,St.transition=g,(it=u)===0&&(lo(),nn())}},e.flushPassiveEffects=Qn,e.flushSync=hn,e.focusWithin=function(l,u){if(!Gn)throw Error(a(363));for(u=oo(l=pl(l),u),u=Array.from(u),l=0;l<u.length;){var g=u[l++];if(!Qi(g)){if(g.tag===5&&Ra(g.stateNode))return!0;for(g=g.child;g!==null;)u.push(g),g=g.sibling}}return!1},e.getCurrentUpdatePriority=function(){return ht},e.getFindAllNodesFailureDescription=function(l,u){if(!Gn)throw Error(a(363));var g=0,w=[];l=[pl(l),0];for(var E=0;E<l.length;){var I=l[E++],L=l[E++],$=u[L];if((I.tag!==5||!Qi(I))&&(ml(I,$)&&(w.push(gl($)),++L>g&&(g=L)),L<u.length))for(I=I.child;I!==null;)l.push(I,L),I=I.sibling}if(g<u.length){for(l=[];g<u.length;g++)l.push(gl(u[g]));return`findAllNodes was able to match part of the selector:
  `+w.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?B(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:qf,findFiberByHostInstance:l.findFiberByHostInstance||Qf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{Wa=u.inject(l),rn=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,g,w){if(!Gn)throw Error(a(363));l=Zr(l,u);var E=ka(l,g,w).disconnect;return{disconnect:function(){E()}}},e.registerMutableSourceForHydration=function(l,u){var g=u._getVersion;g=g(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,g]:l.mutableSourceEagerHydrationData.push(u,g)},e.runWithPriority=function(l,u){var g=ht;try{return ht=l,u()}finally{ht=g}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,g,w){var E=u.current,I=ur(),L=Mn(E);return g=tc(g),u.context===null?u.context=g:u.pendingContext=g,(u=Si(I,L)).payload={element:l},(w=w===void 0?null:w)!==null&&(u.callback=w),(l=ii(E,u,L))!==null&&(kr(l,E,L,I),ss(l,E,L)),L},e}),Nv}({get exports(){return Tg},set exports(n){Tg=n}}).exports=eT();var tT=CS(Tg),b1={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Cg={},jd={get exports(){return Cg},set exports(n){Cg=n}};(function(){var n,e,t,r,s,a;typeof performance<"u"&&performance!==null&&performance.now?jd.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(jd.exports=function(){return(n()-s)/1e6},e=process.hrtime,r=(n=function(){var c;return 1e9*(c=e())[0]+c[1]})(),a=1e9*process.uptime(),s=r-a):Date.now?(jd.exports=function(){return Date.now()-t},t=Date.now()):(jd.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(AS);var Bv,Ku={},Ml={};({get exports(){return Ku},set exports(n){Ku=n}}).exports=(Bv||(Bv=1,Ml.ConcurrentRoot=1,Ml.ContinuousEventPriority=4,Ml.DefaultEventPriority=16,Ml.DiscreteEventPriority=1,Ml.IdleEventPriority=536870912,Ml.LegacyRoot=0),Ml);var rT={};function Hm(n,e){n.addChild&&(n.addChild(e),typeof e.didMount=="function"&&e.didMount(e,n))}function E1(n,e){var t,r,s;(t=n.willUnmount)===null||t===void 0||t.call(n,n,e),((r=n.config)===null||r===void 0?void 0:r.destroyChildren)!==!1&&(s=n.children)!==null&&s!==void 0&&s.length&&So(n.children).forEach(function(a){E1(a,n)})}function Lv(n,e){var t;E1(e,n),n.removeChild(e);var r=(t=e.config)!==null&&t!==void 0?t:{},s=r.destroy,a=s===void 0||s,c=r.destroyChildren,f=c===void 0||c,m=r.destroyTexture,v=m!==void 0&&m,b=r.destroyBaseTexture,d=b!==void 0&&b;a&&e.destroy({children:f,texture:v,baseTexture:d})}function Uv(n,e,t){var r,s;sr(e!==t,"Cannot insert node before itself"),n.children.indexOf(e)!==-1&&n.removeChild(e);var a=n.getChildIndex(t);n.addChildAt(e,a),(r=n.__reactpixi)===null||r===void 0||(s=r.root)===null||s===void 0||s.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var Gv=null,Wi=tT({getRootHostContext:function(){return rT},getChildHostContext:function(n){return n},getChildHostContextForEventComponent:function(n){return n},getPublicInstance:function(n){return n},getCurrentEventPriority:function(){return function(){var n,e;if(typeof window>"u")return Ku.DefaultEventPriority;switch((n=window)===null||n===void 0||(e=n.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ku.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ku.ContinuousEventPriority;default:return Ku.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(n){var e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=QS[n];if(typeof a=="function"&&(e=a(s,r)),!e){var c=w1[n];c&&((e=c.create(r,{root:s})).didMount=c.didMount?c.didMount.bind(e):void 0,e.willUnmount=c.willUnmount?c.willUnmount.bind(e):void 0,e.applyProps=c.applyProps?c.applyProps.bind(e):void 0,e.config=c.config)}return e&&(e.__reactpixi={root:s},(typeof((t=e)===null||t===void 0?void 0:t.applyProps)=="function"?e.applyProps:Ds)(e,{},r)),e},hideInstance:function(n){n.visible=!1},unhideInstance:function(n,e){var t=e==null||!e.hasOwnProperty("visible")||e.visible;n.visible=t},finalizeInitialChildren:function(n,e,t){return!1},prepareUpdate:function(n,e,t,r,s,a){return Gv=function(c,f,m,v){var b=null;for(var d in m)!v.hasOwnProperty(d)&&m.hasOwnProperty(d)&&m[d]!==null&&(d===Eg||(b||(b=[]),b.push(d,null)));for(var y in v){var _=v[y],T=m!==null?m[y]:void 0;!v.hasOwnProperty(y)||_===T||_===null&&T===null||y===Eg||(b||(b=[]),b.push(y,_))}return b}(0,0,t,r)},shouldSetTextContent:function(n,e){return!1},shouldDeprioritizeSubtree:function(n,e){var t=e.alpha===void 0||e.alpha>0,r=e.renderable===void 0||e.renderable===!0,s=e.visible===void 0||e.visible===!0;return!(t&&r&&s)},createTextInstance:function(n,e,t){sr(!1,'Error trying to add text node "'.concat(n,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(n,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Cg,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=Hm.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),a},appendChild:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=Hm.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),a},appendChildToContainer:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=Hm.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),a},removeChild:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=Lv.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),a},removeChildFromContainer:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=Lv.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),a},insertBefore:Uv,insertInContainerBefore:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=Uv.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),a},commitUpdate:function(n,e,t,r,s){var a,c,f=n&&n.applyProps;typeof f!="function"&&(f=Ds),(f(n,r,s)||Gv)&&((a=n.__reactpixi)===null||a===void 0||(c=a.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(n,e,t,r,s){},commitTextUpdate:function(n,e,t){},resetTextContent:function(n){},clearContainer:function(n){},getFundamentalComponentInstance:function(n){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(n){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(n){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(n){throw new Error("Not yet implemented.")},getInstanceFromNode:function(n){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(n){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(n){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(n){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(n){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(n){}}),nT=b1.dependencies["react-dom"].replace(/[^0-9.]/g,""),iT=b1.name;Wi.injectIntoDevTools({bundleType:0,version:nT,rendererPackageName:iT,findHostInstanceByFiber:Wi.findHostInstance});var Sa=new Map;function S1(n){if(sr(pn.prototype.isPrototypeOf(n),"Invalid argument `container`, expected instance of `Container`."),Sa.has(n)){var e=Sa.get(n).pixiFiberContainer;Wi.updateContainer(null,e,void 0,function(){Sa.delete(n)})}}function T1(n){sr(pn.prototype.isPrototypeOf(n),"Invalid argument `container`, expected instance of `Container`.");var e=Sa.get(n);if(sr(!e,"createRoot should only be called once"),!e){var t=Wi.createContainer(n);e={pixiFiberContainer:t,reactRoot:{render:function(r){return Wi.updateContainer(r,t,void 0),Wi.getPublicRootInstance(t)},unmount:function(){S1(n),Sa.delete(n)}}},Sa.set(n,e)}return e.reactRoot}function sT(n,e,t){var r;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),t!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Sa.has(e)?r=Sa.get(e).reactRoot:r=T1(e),r.render(n)}function oT(n){S1(n)}function kc(){return kc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kc.apply(this,arguments)}function aT(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lT(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,v1(r.key),r)}}function go(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function xf(n,e){return xf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},xf(n,e)}function uT(n,e){if(e&&(Jn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return go(n)}function wf(n){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wf(n)}var Lf=xo.createContext(null),A1=Lf.Provider,C1=Lf.Consumer,hT=function(n){var e=xo.forwardRef(function(t,r){return xo.createElement(C1,null,function(s){return xo.createElement(n,kc({},t,{ref:r,app:s}))})});return e.displayName="withPIXIApp(".concat(n.displayName||n.name,")"),e};function cT(n){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=wf(n);if(e){var s=wf(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return uT(this,t)}}function Hv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Vd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hv(Object(t),!0).forEach(function(r){dr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Hv(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var zv=function(){},P1={width:Gt.number,height:Gt.number,onMount:Gt.func,onUnmount:Gt.func,raf:Gt.bool,renderOnComponentChange:Gt.bool,children:Gt.node,options:Gt.shape({autoStart:Gt.bool,width:Gt.number,height:Gt.number,useContextAlpha:Gt.bool,backgroundAlpha:Gt.number,autoDensity:Gt.bool,antialias:Gt.bool,preserveDrawingBuffer:Gt.bool,resolution:Gt.number,forceCanvas:Gt.bool,backgroundColor:Gt.number,clearBeforeRender:Gt.bool,powerPreference:Gt.string,sharedTicker:Gt.bool,sharedLoader:Gt.bool,resizeTo:function(n,e){var t=n[e];t&&sr(t===window||t instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Jn(t),", expect `window` or an `HTMLElement`."))},view:function(n,e,t){var r=n[e];r&&sr(r instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Jn(r),", supplied to ").concat(t,", expected `<canvas> Element`"))}})},dT={width:800,height:600,onMount:zv,onUnmount:zv,raf:!0,renderOnComponentChange:!0},Pg=function(n){(function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),c&&xf(a,c)})(s,xo.Component);var e,t,r=cT(s);function s(){var a;aT(this,s);for(var c=arguments.length,f=new Array(c),m=0;m<c;m++)f[m]=arguments[m];return dr(go(a=r.call.apply(r,[this].concat(f))),"_canvas",null),dr(go(a),"_mediaQuery",null),dr(go(a),"_ticker",null),dr(go(a),"_needsUpdate",!0),dr(go(a),"app",null),dr(go(a),"updateSize",function(){var v=a.props,b=v.width,d=v.height,y=v.options;y!=null&&y.resolution||(a.app.renderer.resolution=window.devicePixelRatio,a.resetInteractionManager()),a.app.renderer.resize(b,d)}),dr(go(a),"needsRenderUpdate",function(){a._needsUpdate=!0}),dr(go(a),"renderStage",function(){var v=a.props,b=v.renderOnComponentChange;!v.raf&&b&&a._needsUpdate&&(a._needsUpdate=!1,a.app.renderer.render(a.app.stage))}),a}return e=s,(t=[{key:"componentDidMount",value:function(){var a=this.props,c=a.onMount,f=a.width,m=a.height,v=a.options,b=a.raf,d=a.renderOnComponentChange;this.app=new Bf(Vd(Vd({width:f,height:m,view:this._canvas},v),{},{autoDensity:(v==null?void 0:v.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[b?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Wi.createContainer(this.app.stage),Wi.updateContainer(this.getChildren(),this.mountNode,this),c(this.app),v!=null&&v.autoDensity&&window.matchMedia&&(v==null?void 0:v.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),d&&!b&&(this._ticker=new Sr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(a,c,f){var m,v=this.props,b=v.width,d=v.height,y=v.raf,_=v.renderOnComponentChange,T=v.options;(T==null?void 0:T.resolution)!==void 0&&(a==null?void 0:a.options.resolution)!==(T==null?void 0:T.resolution)&&(this.app.renderer.resolution=T.resolution,this.resetInteractionManager()),a.height===d&&a.width===b&&((m=a.options)===null||m===void 0?void 0:m.resolution)===(T==null?void 0:T.resolution)||this.updateSize(),a.raf!==y&&this.app.ticker[y?"start":"stop"](),Wi.updateContainer(this.getChildren(),this.mountNode,this),a.width===b&&a.height===d&&a.raf===y&&a.renderOnComponentChange===_&&a.options===T||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var a=this.app.renderer.plugins.interaction;a!=null&&a.resolution&&(a.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var a=this.props.children;return xo.createElement(A1,{value:this.app},a)}},{key:"componentDidCatch",value:function(a,c){console.error("Error occurred in `Stage`."),console.error(a),console.error(c)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Wi.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var a,c,f=this,m=this.props.options;return m&&m.view?(sr(m.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):xo.createElement("canvas",kc({},(a=this.props,c=[].concat(So(Object.keys(P1)),So(Object.keys(Sg))),Object.keys(a).filter(function(v){return!c.includes(v)}).reduce(function(v,b){return Vd(Vd({},v),{},dr({},b,a[b]))},{})),{ref:function(v){return f._canvas=v}}))}}])&&lT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),s}();Pg.propTypes=P1,Pg.defaultProps=dT;var fT=Pg;function I1(){var n=jr.useContext(Lf);return sr(n instanceof Bf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),n}function pT(n){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=I1();sr(typeof n=="function","`useTick` needs a callback function."),sr(t instanceof Bf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var r=jr.useRef(null);jr.useEffect(function(){r.current=n},[n]),jr.useEffect(function(){if(e){var s=function(a){return r.current.apply(t.ticker,[a,t.ticker])};return t.ticker.add(s),function(){t.ticker&&t.ticker.remove(s)}}},[e])}function mT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ig(n,e,t){return Ig=mT()?Reflect.construct.bind():function(r,s,a){var c=[null];c.push.apply(c,s);var f=new(Function.bind.apply(r,c));return a&&xf(f,a.prototype),f},Ig.apply(null,arguments)}var gT=["children","apply"];function jv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Wd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jv(Object(t),!0).forEach(function(r){dr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jv(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var yT=function(n,e){sr(Jn(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var t=Object.keys(e),r=function(s){var a=s.children,c=s.apply,f=Pa(s,gT),m=jr.useRef(jr.useMemo(function(){return t.map(function(d){var y,_=(f==null||(y=f[d])===null||y===void 0?void 0:y.construct)||[];return Ig(e[d],So(_))})},[t])),v=jr.useMemo(function(){return t.reduce(function(d,y,_){return Wd(Wd({},d),{},dr({},y,m.current[_]))},{})},[t]),b=jr.useMemo(function(){return Object.keys(f).filter(x1(_1(t))).reduce(function(d,y){return Wd(Wd({},d),{},dr({},y,f[y]))},{})},[f,t]);return t.forEach(function(d,y){return Object.assign(m.current[y],f[d])}),c&&function(){for(var d=arguments.length,y=new Array(d),_=0;_<d;_++)y[_]=arguments[_];return y.every(function(T){return typeof T=="function"})}(c)&&c.call(n,v),xo.createElement(n,kc({},b,{filters:m.current}),a)};return r.displayName="FilterWrapper",r.propTypes={children:Gt.node,apply:Gt.func},r},vT=Ln.BitmapText,_T=Ln.Container,xT=Ln.Graphics,wT=Ln.NineSlicePlane,bT=Ln.ParticleContainer,ET=Ln.Sprite,ST=Ln.AnimatedSprite,TT=Ln.Text,AT=Ln.TilingSprite,CT=Ln.SimpleMesh,PT=Ln.SimpleRope;const IT=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:ST,AppConsumer:C1,AppContext:Lf,AppProvider:A1,BitmapText:vT,Container:_T,Graphics:xT,NineSlicePlane:wT,ParticleContainer:bT,PixiComponent:KS,PixiFiber:Wi,SimpleMesh:CT,SimpleRope:PT,Sprite:ET,Stage:fT,TYPES:Ln,Text:TT,TilingSprite:AT,applyDefaultProps:Ds,createRoot:T1,eventHandlers:_f,render:sT,unmountComponentAtNode:oT,useApp:I1,useTick:pT,withFilters:yT,withPixiApp:hT},Symbol.toStringTag,{value:"Module"})),RT=r_(IT);var Vv;function kT(){return Vv||(Vv=1,Sc.exports=RT),Sc.exports}var Gl=kT();const R1=new Ht;$t.prototype._cacheAsBitmap=!1;$t.prototype._cacheData=null;$t.prototype._cacheAsBitmapResolution=null;$t.prototype._cacheAsBitmapMultisample=null;class MT{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties($t.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(n){if(this._cacheAsBitmap===n)return;this._cacheAsBitmap=n;let e;n?(this._cacheData||(this._cacheData=new MT),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});$t.prototype._renderCached=function(n){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(n),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(n))};$t.prototype._initCachedDisplayObject=function(n){var y,_;if((y=this._cacheData)!=null&&y.sprite)return;const e=this.alpha;this.alpha=1,n.batch.flush();const t=this.getLocalBounds(new at,!0);if((_=this.filters)!=null&&_.length){const T=this.filters[0].padding;t.pad(T)}const r=this.cacheAsBitmapResolution||n.resolution;t.ceil(r),t.width=Math.max(t.width,1/r),t.height=Math.max(t.height,1/r);const s=n.renderTexture.current,a=n.renderTexture.sourceFrame.clone(),c=n.renderTexture.destinationFrame.clone(),f=n.projection.transform,m=Wl.create({width:t.width,height:t.height,resolution:r,multisample:this.cacheAsBitmapMultisample??n.multisample}),v=`cacheAsBitmap_${jl()}`;this._cacheData.textureCacheId=v,st.addToCache(m.baseTexture,v),Re.addToCache(m,v);const b=this.transform.localTransform.copyTo(R1).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,n.render(this,{renderTexture:m,clear:!0,transform:b,skipUpdateTransform:!1}),n.framebuffer.blit(),n.projection.transform=f,n.renderTexture.bind(s,a,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const d=new Fs(m);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(t.x/t.width),d.anchor.y=-(t.y/t.height),d.alpha=e,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)};$t.prototype._renderCachedCanvas=function(n){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(n),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(n))};$t.prototype._initCachedDisplayObjectCanvas=function(n){var b;if((b=this._cacheData)!=null&&b.sprite)return;const e=this.getLocalBounds(new at,!0),t=this.alpha;this.alpha=1;const r=n.canvasContext.activeContext,s=n._projTransform,a=this.cacheAsBitmapResolution||n.resolution;e.ceil(a),e.width=Math.max(e.width,1/a),e.height=Math.max(e.height,1/a);const c=Wl.create({width:e.width,height:e.height,resolution:a}),f=`cacheAsBitmap_${jl()}`;this._cacheData.textureCacheId=f,st.addToCache(c.baseTexture,f),Re.addToCache(c,f);const m=R1;this.transform.localTransform.copyTo(m),m.invert(),m.tx-=e.x,m.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,n.render(this,{renderTexture:c,clear:!0,transform:m,skipUpdateTransform:!1}),n.canvasContext.activeContext=r,n._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const v=new Fs(c);v.transform.worldTransform=this.transform.worldTransform,v.anchor.x=-(e.x/e.width),v.anchor.y=-(e.y/e.height),v.alpha=t,v._bounds=this._bounds,this._cacheData.sprite=v,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=n._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=v.containsPoint.bind(v)};$t.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};$t.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};$t.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,st.removeFromCache(this._cacheData.textureCacheId),Re.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};$t.prototype._cacheAsBitmapDestroy=function(n){this.cacheAsBitmap=!1,this.destroy(n)};$t.prototype.name=null;pn.prototype.getChildByName=function(n,e){for(let t=0,r=this.children.length;t<r;t++)if(this.children[t].name===n)return this.children[t];if(e)for(let t=0,r=this.children.length;t<r;t++){const s=this.children[t];if(!s.getChildByName)continue;const a=s.getChildByName(n,!0);if(a)return a}return null};$t.prototype.getGlobalPosition=function(n=new dt,e=!1){return this.parent?this.parent.toGlobal(this.position,n,e):(n.x=this.position.x,n.y=this.position.y),n};var DT=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class NT extends fn{constructor(e=1){super(Wb,DT,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const FT={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},OT=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function BT(n){const e=FT[n],t=e.length;let r=OT,s="";const a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let c;for(let f=0;f<n;f++){let m=a.replace("%index%",f.toString());c=f,f>=t&&(c=n-f-1),m=m.replace("%value%",e[c].toString()),s+=m,s+=`
`}return r=r.replace("%blur%",s),r=r.replace("%size%",n.toString()),r}const LT=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function UT(n,e){const t=Math.ceil(n/2);let r=LT,s="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let c=0;c<n;c++){let f=a.replace("%index%",c.toString());f=f.replace("%sampleIndex%",`${c-(t-1)}.0`),s+=f,s+=`
`}return r=r.replace("%blur%",s),r=r.replace("%size%",n.toString()),r}class Rg extends fn{constructor(e,t=8,r=4,s=fn.defaultResolution,a=5){const c=UT(a,e),f=BT(a);super(c,f),this.horizontal=e,this.resolution=s,this._quality=0,this.quality=r,this.blur=t}apply(e,t,r,s){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,r,s);else{const a=e.getFilterTexture(),c=e.renderer;let f=t,m=a;this.state.blend=!1,e.applyFilter(this,f,m,Ts.CLEAR);for(let v=1;v<this.passes-1;v++){e.bindAndClear(f,Ts.BLIT),this.uniforms.uSampler=m;const b=m;m=f,f=b,c.shader.bind(this),c.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,m,r,s),e.returnFilterTexture(a)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class GT extends fn{constructor(e=8,t=4,r=fn.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Rg(!0,e,t,r,s),this.blurYFilter=new Rg(!1,e,t,r,s),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,r,s){const a=Math.abs(this.blurXFilter.strength),c=Math.abs(this.blurYFilter.strength);if(a&&c){const f=e.getFilterTexture();this.blurXFilter.apply(e,t,f,Ts.CLEAR),this.blurYFilter.apply(e,f,r,s),e.returnFilterTexture(f)}else c?this.blurYFilter.apply(e,t,r,s):this.blurXFilter.apply(e,t,r,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var HT=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class kg extends fn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(X_,HT,e),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}tint(e,t){const[r,s,a]=Ut.shared.setValue(e).toArray(),c=[r,0,0,0,0,0,s,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(c,t)}greyscale(e,t){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const r=Math.cos(e),s=Math.sin(e),a=Math.sqrt,c=1/3,f=a(c),m=r+(1-r)*c,v=c*(1-r)-f*s,b=c*(1-r)+f*s,d=c*(1-r)+f*s,y=r+c*(1-r),_=c*(1-r)-f*s,T=c*(1-r)-f*s,C=c*(1-r)+f*s,A=r+c*(1-r),P=[m,v,b,0,0,d,y,_,0,0,T,C,A,0,0,0,0,0,1,0];this._loadMatrix(P,t)}contrast(e,t){const r=(e||0)+1,s=-.5*(r-1),a=[r,0,0,0,s,0,r,0,0,s,0,0,r,0,s,0,0,0,1,0];this._loadMatrix(a,t)}saturate(e=0,t){const r=e*2/3+1,s=(r-1)*-.5,a=[r,s,s,0,0,s,r,s,0,0,s,s,r,0,0,0,0,0,1,0];this._loadMatrix(a,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,r,s,a){e=e||.2,t=t||.15,r=r||16770432,s=s||3375104;const c=Ut.shared,[f,m,v]=c.setValue(r).toArray(),[b,d,y]=c.setValue(s).toArray(),_=[.3,.59,.11,0,0,f,m,v,e,0,b,d,y,t,0,f-b,m-d,v-y,0,0];this._loadMatrix(_,a)}night(e,t){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}kg.prototype.grayscale=kg.prototype.greyscale;var zT=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,jT=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class VT extends fn{constructor(e,t){const r=new Ht;e.renderable=!1,super(jT,zT,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,t==null&&(t=20),this.scale=new dt(t,t)}apply(e,t,r,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const a=this.maskSprite.worldTransform,c=Math.sqrt(a.a*a.a+a.b*a.b),f=Math.sqrt(a.c*a.c+a.d*a.d);c!==0&&f!==0&&(this.uniforms.rotation[0]=a.a/c,this.uniforms.rotation[1]=a.b/c,this.uniforms.rotation[2]=a.c/f,this.uniforms.rotation[3]=a.d/f),e.applyFilter(this,t,r,s)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var WT=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,$T=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class XT extends fn{constructor(){super($T,WT)}}var YT=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class qT extends fn{constructor(e=.5,t=Math.random()){super(X_,YT,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const Wv={AlphaFilter:NT,BlurFilter:GT,BlurFilterPass:Rg,ColorMatrixFilter:kg,DisplacementFilter:VT,FXAAFilter:XT,NoiseFilter:qT};Object.entries(Wv).forEach(([n,e])=>{Object.defineProperty(Wv,n,{get(){return ct("7.1.0",`filters.${n} has moved to ${n}`),e}})});class QT{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Sr.system.add(this.tickerUpdate,this,Aa.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Sr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const wa=new QT;class Oc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Oc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new dt,this.page=new dt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,s,a){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class bf extends Oc{constructor(){super(...arguments),this.client=new dt,this.movement=new dt,this.offset=new dt,this.global=new dt,this.screen=new dt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,s,a,c,f,m,v,b,d,y,_,T,C){throw new Error("Method not implemented.")}}class zi extends bf{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class oh extends bf{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}oh.DOM_DELTA_PIXEL=0,oh.DOM_DELTA_LINE=1,oh.DOM_DELTA_PAGE=2;const KT=2048,ZT=new dt,zm=new dt;class JT{constructor(e){this.dispatch=new Mc,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((r,s)=>r.priority-s.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let r=0,s=t.length;r<s;r++)t[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){wa.pauseUpdate=!0;const r=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[r](this.rootTarget,this.rootTarget.eventMode,ZT.set(e,t),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,t){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let s=0,a=r.length-1;s<a;s++)if(e.currentTarget=r[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let s=r.length-2;s>=0;s--)if(e.currentTarget=r[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,r=this._allInteractiveElements){if(r.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const s=Array.isArray(t)?t:[t];for(let a=r.length-1;a>=0;a--)s.forEach(c=>{e.currentTarget=r[a],this.notifyTarget(e,c)})}propagationPath(e){const t=[e];for(let r=0;r<KT&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,r,s,a,c=!1){let f=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(wa.pauseUpdate=!1),e.interactiveChildren&&e.children){const b=e.children;for(let d=b.length-1;d>=0;d--){const y=b[d],_=this.hitTestMoveRecursive(y,this._isInteractive(t)?t:y.eventMode,r,s,a,c||a(e,r));if(_){if(_.length>0&&!_[_.length-1].parent)continue;const T=e.isInteractive();(_.length>0||T)&&(T&&this._allInteractiveElements.push(e),_.push(e)),this._hitElements.length===0&&(this._hitElements=_),f=!0}}}const m=this._isInteractive(t),v=e.isInteractive();return m&&v&&this._allInteractiveElements.push(e),c||this._hitElements.length>0?null:f?this._hitElements:m&&!a(e,r)&&s(e,r)?v?[e]:[]:null}hitTestRecursive(e,t,r,s,a){if(this._interactivePrune(e)||a(e,r))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(wa.pauseUpdate=!1),e.interactiveChildren&&e.children){const m=e.children;for(let v=m.length-1;v>=0;v--){const b=m[v],d=this.hitTestRecursive(b,this._isInteractive(t)?t:b.eventMode,r,s,a);if(d){if(d.length>0&&!d[d.length-1].parent)continue;const y=e.isInteractive();return(d.length>0||y)&&d.push(e),d}}}const c=this._isInteractive(t),f=e.isInteractive();return c&&s(e,r)?f?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){var r;if(e.hitArea&&(e.worldTransform.applyInverse(t,zm),!e.hitArea.contains(zm.x,zm.y)))return!0;if(e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;if(s&&!((r=s.containsPoint)!=null&&r.call(s,t)))return!0}return!1}hitTestFn(e,t){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){var a,c;t=t??e.type;const r=`on${t}`;(c=(a=e.currentTarget)[r])==null||c.call(a,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof zi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const s=t.button===2;this.dispatchEvent(t,s?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var m,v;if(!(e instanceof zi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const r=t.pointerType==="mouse"||t.pointerType==="pen",s=this.trackingData(e.pointerId),a=this.findMountedTarget(s.overTargets);if(((m=s.overTargets)==null?void 0:m.length)>0&&a!==t.target){const b=e.type==="mousemove"?"mouseout":"pointerout",d=this.createPointerEvent(e,b,a);if(this.dispatchEvent(d,"pointerout"),r&&this.dispatchEvent(d,"mouseout"),!t.composedPath().includes(a)){const y=this.createPointerEvent(e,"pointerleave",a);for(y.eventPhase=y.AT_TARGET;y.target&&!t.composedPath().includes(y.target);)y.currentTarget=y.target,this.notifyTarget(y),r&&this.notifyTarget(y,"mouseleave"),y.target=y.target.parent;this.freeEvent(y)}this.freeEvent(d)}if(a!==t.target){const b=e.type==="mousemove"?"mouseover":"pointerover",d=this.clonePointerEvent(t,b);this.dispatchEvent(d,"pointerover"),r&&this.dispatchEvent(d,"mouseover");let y=a==null?void 0:a.parent;for(;y&&y!==this.rootTarget.parent&&y!==t.target;)y=y.parent;if(!y||y===this.rootTarget.parent){const _=this.clonePointerEvent(t,"pointerenter");for(_.eventPhase=_.AT_TARGET;_.target&&_.target!==a&&_.target!==this.rootTarget.parent;)_.currentTarget=_.target,this.notifyTarget(_),r&&this.notifyTarget(_,"mouseenter"),_.target=_.target.parent;this.freeEvent(_)}this.freeEvent(d)}const c=[],f=this.enableGlobalMoveEvents??!0;this.moveOnAll?c.push("pointermove"):this.dispatchEvent(t,"pointermove"),f&&c.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?c.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),f&&c.push("globaltouchmove")),r&&(this.moveOnAll?c.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),f&&c.push("globalmousemove"),this.cursor=(v=t.target)==null?void 0:v.cursor),c.length>0&&this.all(t,c),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var c;if(!(e instanceof zi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.createPointerEvent(e),s=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),s&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(c=r.target)==null?void 0:c.cursor);const a=this.clonePointerEvent(r,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),s&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;t.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(a)}mapPointerOut(e){if(!(e instanceof zi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",s=this.findMountedTarget(t.overTargets),a=this.createPointerEvent(e,"pointerout",s);this.dispatchEvent(a),r&&this.dispatchEvent(a,"mouseout");const c=this.createPointerEvent(e,"pointerleave",s);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==this.rootTarget.parent;)c.currentTarget=c.target,this.notifyTarget(c),r&&this.notifyTarget(c,"mouseleave"),c.target=c.target.parent;t.overTargets=null,this.freeEvent(a),this.freeEvent(c)}this.cursor=null}mapPointerUp(e){if(!(e instanceof zi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const f=r.button===2;this.dispatchEvent(r,f?"rightup":"mouseup")}const s=this.trackingData(e.pointerId),a=this.findMountedTarget(s.pressTargetsByButton[e.button]);let c=a;if(a&&!r.composedPath().includes(a)){let f=a;for(;f&&!r.composedPath().includes(f);){if(r.currentTarget=f,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const m=r.button===2;this.notifyTarget(r,m?"rightupoutside":"mouseupoutside")}f=f.parent}delete s.pressTargetsByButton[e.button],c=f}if(c){const f=this.clonePointerEvent(r,"click");f.target=c,f.path=null,s.clicksByButton[e.button]||(s.clicksByButton[e.button]={clickCount:0,target:f.target,timeStamp:t});const m=s.clicksByButton[e.button];if(m.target===f.target&&t-m.timeStamp<200?++m.clickCount:m.clickCount=1,m.target=f.target,m.timeStamp=t,f.detail=m.clickCount,f.pointerType==="mouse"){const v=f.button===2;this.dispatchEvent(f,v?"rightclick":"click")}else f.pointerType==="touch"&&this.dispatchEvent(f,"tap");this.dispatchEvent(f,"pointertap"),this.freeEvent(f)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof zi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),s=this.createPointerEvent(e);if(r){let a=r;for(;a;)s.currentTarget=a,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),a=a.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(s)}mapWheel(e){if(!(e instanceof oh)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){const s=this.allocateEvent(zi);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=r??this.hitTest(s.global.x,s.global.y)??this._hitElements[0],typeof t=="string"&&(s.type=t),s}createWheelEvent(e){const t=this.allocateEvent(oh);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const r=this.allocateEvent(zi);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof zi&&t instanceof zi&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof bf&&t instanceof bf&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const r=e.currentTarget._events[t];if(r&&e.currentTarget.isInteractive())if("fn"in r)r.once&&e.currentTarget.removeListener(t,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let s=0,a=r.length;s<a&&!e.propagationImmediatelyStopped;s++)r[s].once&&e.currentTarget.removeListener(t,r[s].fn,void 0,!0),r[s].fn.call(r[s].context,e)}}const eA=1,tA={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Mg=class Dg{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new JT(null),wa.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new zi(null),this.rootWheelEvent=new oh(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Dg.defaultEventFeatures},{set:(t,r,s)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),t[r]=s,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:r}=this.renderer;this.setTargetElement(t),this.resolution=r,Dg._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,s=t.length;r<s;r++){const a=t[r],c=this.bootstrapEvent(this.rootPointerEvent,a);this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,wa.pointerMoved();const t=this.normalizeToPointerData(e);for(let r=0,s=t.length;r<s;r++){const a=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const r=t!==this.domElement?"outside":"",s=this.normalizeToPointerData(e);for(let a=0,c=s.length;a<c;a++){const f=this.bootstrapEvent(this.rootPointerEvent,s[a]);f.type+=r,this.rootBoundary.mapEvent(f)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let r=0,s=t.length;r<s;r++){const a=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,wa.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;wa.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;wa.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},a=1/this.resolution;e.x=(t-s.left)*(this.domElement.width/s.width)*a,e.y=(r-s.top)*(this.domElement.height/s.height)*a}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,s=e.changedTouches.length;r<s;r++){const a=e.changedTouches[r];typeof a.button>"u"&&(a.button=0),typeof a.buttons>"u"&&(a.buttons=1),typeof a.isPrimary>"u"&&(a.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,a.type=e.type,t.push(a)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=eA),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=tA[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};Mg.extension={name:"events",type:[Me.RendererSystem,Me.CanvasRendererSystem]},Mg.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Ng=Mg;Ve.add(Ng);function $v(n){return n==="dynamic"||n==="static"}const rA={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??$v(Ng.defaultEventMode)},set interactive(n){ct("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=n,this.eventMode=n?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Ng.defaultEventMode},set eventMode(n){this._internalInteractive=$v(n),this._internalEventMode=n},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(n,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,s=typeof t=="object"?t.signal:void 0,a=typeof t=="object"?t.once===!0:!1,c=typeof e=="function"?void 0:e;n=r?`${n}capture`:n;const f=typeof e=="function"?e:e.handleEvent,m=this;s&&s.addEventListener("abort",()=>{m.off(n,f,c)}),a?m.once(n,f,c):m.on(n,f,c)},removeEventListener(n,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,s=typeof e=="function"?void 0:e;n=r?`${n}capture`:n,e=typeof e=="function"?e:e.handleEvent,this.off(n,e,s)},dispatchEvent(n){if(!(n instanceof Oc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return n.defaultPrevented=!1,n.path=null,n.target=this,n.manager.dispatchEvent(n),!n.defaultPrevented}};$t.mixin(rA);const nA={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};$t.mixin(nA);const iA=9,$d=100,sA=0,oA=0,Xv=2,Yv=1,aA=-1e3,lA=-1e3,uA=2;class k1{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(vo.tablet||vo.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${$d}px`,t.style.height=`${$d}px`,t.style.position="absolute",t.style.top=`${sA}px`,t.style.left=`${oA}px`,t.style.zIndex=Xv.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${Yv}px`,e.style.height=`${Yv}px`,e.style.position="absolute",e.style.top=`${aA}px`,e.style.left=`${lA}px`,e.style.zIndex=uA.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}update(){const e=performance.now();if(vo.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:r,width:s,height:a}=this.renderer.view.getBoundingClientRect(),{width:c,height:f,resolution:m}=this.renderer,v=s/c*m,b=a/f*m;let d=this.div;d.style.left=`${t}px`,d.style.top=`${r}px`,d.style.width=`${c}px`,d.style.height=`${f}px`;for(let y=0;y<this.children.length;y++){const _=this.children[y];if(_.renderId!==this.renderId)_._accessibleActive=!1,rh(this.children,y,1),this.div.removeChild(_._accessibleDiv),this.pool.push(_._accessibleDiv),_._accessibleDiv=null,y--;else{d=_._accessibleDiv;let T=_.hitArea;const C=_.worldTransform;_.hitArea?(d.style.left=`${(C.tx+T.x*C.a)*v}px`,d.style.top=`${(C.ty+T.y*C.d)*b}px`,d.style.width=`${T.width*C.a*v}px`,d.style.height=`${T.height*C.d*b}px`):(T=_.getBounds(),this.capHitArea(T),d.style.left=`${T.x*v}px`,d.style.top=`${T.y*b}px`,d.style.width=`${T.width*v}px`,d.style.height=`${T.height*b}px`,d.title!==_.accessibleTitle&&_.accessibleTitle!==null&&(d.title=_.accessibleTitle),d.getAttribute("aria-label")!==_.accessibleHint&&_.accessibleHint!==null&&d.setAttribute("aria-label",_.accessibleHint)),(_.accessibleTitle!==d.title||_.tabIndex!==d.tabIndex)&&(d.title=_.accessibleTitle,d.tabIndex=_.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${$d}px`,t.style.height=`${$d}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=Xv.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:r}=e.target,s=this.renderer.events.rootBoundary,a=Object.assign(new Oc(s),{target:r});s.rootTarget=this.renderer.lastObjectRendered,t.forEach(c=>s.dispatchEvent(a,c))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===iA&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}k1.extension={name:"accessibility",type:[Me.RendererPlugin,Me.CanvasRendererPlugin]};Ve.add(k1);var Hr=(n=>(n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",n[n.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",n[n.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",n[n.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",n[n.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",n))(Hr||{});const Ef={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let Ss,Xu;function qv(){Xu={bptc:Ss.getExtension("EXT_texture_compression_bptc"),astc:Ss.getExtension("WEBGL_compressed_texture_astc"),etc:Ss.getExtension("WEBGL_compressed_texture_etc"),s3tc:Ss.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Ss.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:Ss.getExtension("WEBGL_compressed_texture_pvrtc")||Ss.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:Ss.getExtension("WEBGL_compressed_texture_etc1"),atc:Ss.getExtension("WEBGL_compressed_texture_atc")}}const hA={extension:{type:Me.DetectionParser,priority:2},test:async()=>{const n=Oe.ADAPTER.createCanvas().getContext("webgl");return n?(Ss=n,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async n=>{Xu||qv();const e=[];for(const t in Xu)Xu[t]&&e.push(t);return[...e,...n]},remove:async n=>(Xu||qv(),n.filter(e=>!(e in Xu)))};Ve.add(hA);class cA extends Cf{constructor(e,t={width:1,height:1,autoLoad:!0}){let r,s;typeof e=="string"?(r=e,s=new Uint8Array):(r=null,s=e),super(s,t),this.origin=r,this.buffer=s?new Jm(s):null,this._load=null,this.loaded=!1,this.origin!==null&&t.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Jm(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class zl extends cA{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=zl._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||zl._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,r){const s=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let a=0,c=this.levels;a<c;a++){const{levelID:f,levelWidth:m,levelHeight:v,levelBuffer:b}=this._levelBuffers[a];s.compressedTexImage2D(s.TEXTURE_2D,f,this.format,m,v,0,b)}return!0}onBlobLoaded(){this._levelBuffers=zl._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,r,s,a,c,f){const m=new Array(r);let v=e.byteOffset,b=c,d=f,y=b+s-1&~(s-1),_=d+a-1&~(a-1),T=y*_*Ef[t];for(let C=0;C<r;C++)m[C]={levelID:C,levelWidth:r>1?b:y,levelHeight:r>1?d:_,levelBuffer:new Uint8Array(e.buffer,v,T)},v+=T,b=b>>1||1,d=d>>1||1,y=b+s-1&~(s-1),_=d+a-1&~(a-1),T=y*_*Ef[t];return m}}const jm=4,Xd=124,dA=32,Qv=20,fA=542327876,Yd={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},pA={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},qd={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},mA=1,gA=2,yA=4,vA=64,_A=512,xA=131072,wA=827611204,bA=861165636,EA=894720068,SA=808540228,TA=4,AA={[wA]:Hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[bA]:Hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[EA]:Hr.COMPRESSED_RGBA_S3TC_DXT5_EXT},CA={70:Hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Hr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Hr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Hr.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Hr.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Hr.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Hr.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function PA(n){const e=new Uint32Array(n);if(e[0]!==fA)throw new Error("Invalid DDS file magic word");const t=new Uint32Array(n,0,Xd/Uint32Array.BYTES_PER_ELEMENT),r=t[Yd.HEIGHT],s=t[Yd.WIDTH],a=t[Yd.MIPMAP_COUNT],c=new Uint32Array(n,Yd.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,dA/Uint32Array.BYTES_PER_ELEMENT),f=c[mA];if(f&yA){const m=c[pA.FOURCC];if(m!==SA){const N=AA[m],D=jm+Xd,j=new Uint8Array(n,D);return[new zl(j,{format:N,width:s,height:r,levels:a})]}const v=jm+Xd,b=new Uint32Array(e.buffer,v,Qv/Uint32Array.BYTES_PER_ELEMENT),d=b[qd.DXGI_FORMAT],y=b[qd.RESOURCE_DIMENSION],_=b[qd.MISC_FLAG],T=b[qd.ARRAY_SIZE],C=CA[d];if(C===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(_===TA)throw new Error("DDSParser does not support cubemap textures");if(y===6)throw new Error("DDSParser does not supported 3D texture data");const A=new Array,P=jm+Xd+Qv;if(T===1)A.push(new Uint8Array(n,P));else{const N=Ef[C];let D=0,j=s,O=r;for(let U=0;U<a;U++){const J=Math.max(1,j+3&-4),se=Math.max(1,O+3&-4),de=J*se*N;D+=de,j=j>>>1,O=O>>>1}let q=P;for(let U=0;U<T;U++)A.push(new Uint8Array(n,q,D)),q+=D}return A.map(N=>new zl(N,{format:C,width:s,height:r,levels:a}))}throw f&vA?new Error("DDSParser does not support uncompressed texture data."):f&_A?new Error("DDSParser does not supported YUV uncompressed texture data."):f&xA?new Error("DDSParser does not support single-channel (lumninance) texture data!"):f&gA?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const Kv=[171,75,84,88,32,49,49,187,13,10,26,10],IA=67305985,Gi={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Fg=64,Zv={[Ye.UNSIGNED_BYTE]:1,[Ye.UNSIGNED_SHORT]:2,[Ye.INT]:4,[Ye.UNSIGNED_INT]:4,[Ye.FLOAT]:4,[Ye.HALF_FLOAT]:8},RA={[Pe.RGBA]:4,[Pe.RGB]:3,[Pe.RG]:2,[Pe.RED]:1,[Pe.LUMINANCE]:1,[Pe.LUMINANCE_ALPHA]:2,[Pe.ALPHA]:1},kA={[Ye.UNSIGNED_SHORT_4_4_4_4]:2,[Ye.UNSIGNED_SHORT_5_5_5_1]:2,[Ye.UNSIGNED_SHORT_5_6_5]:2};function MA(n,e,t=!1){const r=new DataView(e);if(!DA(n,r))return null;const s=r.getUint32(Gi.ENDIANNESS,!0)===IA,a=r.getUint32(Gi.GL_TYPE,s),c=r.getUint32(Gi.GL_FORMAT,s),f=r.getUint32(Gi.GL_INTERNAL_FORMAT,s),m=r.getUint32(Gi.PIXEL_WIDTH,s),v=r.getUint32(Gi.PIXEL_HEIGHT,s)||1,b=r.getUint32(Gi.PIXEL_DEPTH,s)||1,d=r.getUint32(Gi.NUMBER_OF_ARRAY_ELEMENTS,s)||1,y=r.getUint32(Gi.NUMBER_OF_FACES,s),_=r.getUint32(Gi.NUMBER_OF_MIPMAP_LEVELS,s),T=r.getUint32(Gi.BYTES_OF_KEY_VALUE_DATA,s);if(v===0||b!==1)throw new Error("Only 2D textures are supported");if(y!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(d!==1)throw new Error("WebGL does not support array textures");const C=4,A=4,P=m+3&-4,N=v+3&-4,D=new Array(d);let j=m*v;a===0&&(j=P*N);let O;if(a!==0?Zv[a]?O=Zv[a]*RA[c]:O=kA[a]:O=Ef[f],O===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const q=t?FA(r,T,s):null;let U=j*O,J=m,se=v,de=P,Se=N,Q=Fg+T;for(let Z=0;Z<_;Z++){const he=r.getUint32(Q,s);let _e=Q+4;for(let B=0;B<d;B++){let H=D[B];H||(H=D[B]=new Array(_)),H[Z]={levelID:Z,levelWidth:_>1||a!==0?J:de,levelHeight:_>1||a!==0?se:Se,levelBuffer:new Uint8Array(e,_e,U)},_e+=U}Q+=he+4,Q=Q%4!==0?Q+4-Q%4:Q,J=J>>1||1,se=se>>1||1,de=J+C-1&~(C-1),Se=se+A-1&~(A-1),U=de*Se*O}return a!==0?{uncompressed:D.map(Z=>{let he=Z[0].levelBuffer,_e=!1;return a===Ye.FLOAT?he=new Float32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4):a===Ye.UNSIGNED_INT?(_e=!0,he=new Uint32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4)):a===Ye.INT&&(_e=!0,he=new Int32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4)),{resource:new Cf(he,{width:Z[0].levelWidth,height:Z[0].levelHeight}),type:a,format:_e?NA(c):c}}),kvData:q}:{compressed:D.map(Z=>new zl(null,{format:f,width:m,height:v,levels:_,levelBuffers:Z})),kvData:q}}function DA(n,e){for(let t=0;t<Kv.length;t++)if(e.getUint8(t)!==Kv[t])return console.error(`${n} is not a valid *.ktx file!`),!1;return!0}function NA(n){switch(n){case Pe.RGBA:return Pe.RGBA_INTEGER;case Pe.RGB:return Pe.RGB_INTEGER;case Pe.RG:return Pe.RG_INTEGER;case Pe.RED:return Pe.RED_INTEGER;default:return n}}function FA(n,e,t){const r=new Map;let s=0;for(;s<e;){const a=n.getUint32(Fg+s,t),c=Fg+s+4,f=3-(a+3)%4;if(a===0||a>e-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let m=0;for(;m<a&&n.getUint8(c+m)!==0;m++);if(m===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const v=new TextDecoder().decode(new Uint8Array(n.buffer,c,m)),b=new DataView(n.buffer,c+m+1,a-m-1);r.set(v,b),s+=4+a+f}return r}const OA={extension:{type:Me.LoadParser,priority:Yi.High},name:"loadDDS",test(n){return Ca(n,".dds")},async load(n,e,t){const r=await(await Oe.ADAPTER.fetch(n)).arrayBuffer(),s=PA(r).map(a=>{const c=new st(a,{mipmap:Rs.OFF,alphaMode:Bn.NO_PREMULTIPLIED_ALPHA,resolution:bo(n),...e.data});return Fc(c,t,n)});return s.length===1?s[0]:s},unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};Ve.add(OA);const BA={extension:{type:Me.LoadParser,priority:Yi.High},name:"loadKTX",test(n){return Ca(n,".ktx")},async load(n,e,t){const r=await(await Oe.ADAPTER.fetch(n)).arrayBuffer(),{compressed:s,uncompressed:a,kvData:c}=MA(n,r),f=s??a,m={mipmap:Rs.OFF,alphaMode:Bn.NO_PREMULTIPLIED_ALPHA,resolution:bo(n),...e.data},v=f.map(b=>{f===a&&Object.assign(m,{type:b.type,format:b.format});const d=b.resource??b,y=new st(d,m);return y.ktxKeyValueData=c,Fc(y,t,n)});return v.length===1?v[0]:v},unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};Ve.add(BA);const LA=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],UA={extension:Me.ResolveParser,test:n=>{const e=Fr.extname(n).slice(1);return["basis","ktx","dds"].includes(e)},parse:n=>{var r,s;const e=n.split("."),t=e.pop();if(["ktx","dds"].includes(t)){const a=e.pop();if(LA.includes(a))return{resolution:parseFloat(((r=Oe.RETINA_PREFIX.exec(n))==null?void 0:r[1])??"1"),format:a,src:n}}return{resolution:parseFloat(((s=Oe.RETINA_PREFIX.exec(n))==null?void 0:s[1])??"1"),format:t,src:n}}};Ve.add(UA);const Qd=new at,GA=4,M1=class bc{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,r,s){const a=new Image;return a.src=await this.base64(e,t,r,s),a}async base64(e,t,r,s){const a=this.canvas(e,s);if(a.toBlob!==void 0)return new Promise((c,f)=>{a.toBlob(m=>{if(!m){f(new Error("ICanvas.toBlob failed!"));return}const v=new FileReader;v.onload=()=>c(v.result),v.onerror=f,v.readAsDataURL(m)},t,r)});if(a.toDataURL!==void 0)return a.toDataURL(t,r);if(a.convertToBlob!==void 0){const c=await a.convertToBlob({type:t,quality:r});return new Promise((f,m)=>{const v=new FileReader;v.onload=()=>f(v.result),v.onerror=m,v.readAsDataURL(c)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:r,width:s,height:a,flipY:c,premultipliedAlpha:f}=this._rawPixels(e,t);c&&bc._flipY(r,s,a),f&&bc._unpremultiplyAlpha(r);const m=new Rw(s,a,1),v=new ImageData(new Uint8ClampedArray(r.buffer),s,a);return m.context.putImageData(v,0,0),m.canvas}pixels(e,t){const{pixels:r,width:s,height:a,flipY:c,premultipliedAlpha:f}=this._rawPixels(e,t);return c&&bc._flipY(r,s,a),f&&bc._unpremultiplyAlpha(r),r}_rawPixels(e,t){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let s,a=!1,c=!1,f,m=!1;e&&(e instanceof Wl?f=e:(f=r.generateTexture(e,{region:t,resolution:r.resolution,multisample:r.multisample}),m=!0,t&&(Qd.width=t.width,Qd.height=t.height,t=Qd)));const v=r.gl;if(f){if(s=f.baseTexture.resolution,t=t??f.frame,a=!1,c=f.baseTexture.alphaMode>0&&f.baseTexture.format===Pe.RGBA,!m){r.renderTexture.bind(f);const _=f.framebuffer.glFramebuffers[r.CONTEXT_UID];_.blitFramebuffer&&r.framebuffer.bind(_.blitFramebuffer)}}else s=r.resolution,t||(t=Qd,t.width=r.width/s,t.height=r.height/s),a=!0,c=this._rendererPremultipliedAlpha,r.renderTexture.bind();const b=Math.max(Math.round(t.width*s),1),d=Math.max(Math.round(t.height*s),1),y=new Uint8Array(GA*b*d);return v.readPixels(Math.round(t.x*s),Math.round(t.y*s),b,d,v.RGBA,v.UNSIGNED_BYTE,y),m&&(f==null||f.destroy(!0)),{pixels:y,width:b,height:d,flipY:a,premultipliedAlpha:c}}destroy(){this.renderer=null}static _flipY(e,t,r){const s=t<<2,a=r>>1,c=new Uint8Array(s);for(let f=0;f<a;f++){const m=f*s,v=(r-f-1)*s;c.set(e.subarray(m,m+s)),e.copyWithin(m,v,v+s),e.set(c,v)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let r=0;r<t;r+=4){const s=e[r+3];if(s!==0){const a=255.001/s;e[r]=e[r]*a+.5,e[r+1]=e[r+1]*a+.5,e[r+2]=e[r+2]*a+.5}}}};M1.extension={name:"extract",type:Me.RendererSystem};let HA=M1;Ve.add(HA);class zA{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function jA(n,e){var r;let t=!1;if((r=n==null?void 0:n._textures)!=null&&r.length){for(let s=0;s<n._textures.length;s++)if(n._textures[s]instanceof Re){const a=n._textures[s].baseTexture;e.includes(a)||(e.push(a),t=!0)}}return t}function VA(n,e){if(n.baseTexture instanceof st){const t=n.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function WA(n,e){if(n._texture&&n._texture instanceof Re){const t=n._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function $A(n,e){return e instanceof Wg?(e.updateText(!0),!0):!1}function XA(n,e){if(e instanceof ks){const t=e.toFontString();return xa.measureFont(t),!0}return!1}function YA(n,e){if(n instanceof Wg){e.includes(n.style)||e.push(n.style),e.includes(n)||e.push(n);const t=n._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function qA(n,e){return n instanceof ks?(e.includes(n)||e.push(n),!0):!1}const D1=class N1{constructor(e){this.limiter=new zA(N1.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(YA),this.registerFindHook(qA),this.registerFindHook(jA),this.registerFindHook(VA),this.registerFindHook(WA),this.registerUploadHook($A),this.registerUploadHook(XA)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,Sr.system.addOnce(this.tick,this,Aa.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed){for(let r=0,s=this.uploadHooks.length;r<s;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)Sr.system.addOnce(this.tick,this,Aa.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,r=e.length;t<r;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof pn)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&Sr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};D1.uploadsPerFrame=4;let Og=D1;Object.defineProperties(Oe,{UPLOADS_PER_FRAME:{get(){return Og.uploadsPerFrame},set(n){ct("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Og.uploadsPerFrame=n}}});function F1(n,e){return e instanceof st?(e._glTextures[n.CONTEXT_UID]||n.texture.bind(e),!0):!1}function QA(n,e){if(!(e instanceof Ac))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:r}=t;for(let s=0;s<r.length;s++){const{texture:a}=r[s].style;a&&F1(n,a.baseTexture)}return t.batchable||n.geometry.bind(t,e._resolveDirectShader(n)),!0}function KA(n,e){return n instanceof Ac?(e.push(n),!0):!1}class O1 extends Og{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(KA),this.registerUploadHook(F1),this.registerUploadHook(QA)}}O1.extension={name:"prepare",type:Me.RendererSystem};Ve.add(O1);const B1=class Ec{constructor(e,t,r){this.linkedSheets=[],(e instanceof st||e instanceof Re)&&(e={texture:e,data:t,resolutionFilename:r});const{texture:s,data:a,resolutionFilename:c=null,cachePrefix:f=""}=e;this.cachePrefix=f,this._texture=s instanceof Re?s:null,this.baseTexture=s instanceof st?s:this._texture.baseTexture,this.textures={},this.animations={},this.data=a;const m=this.baseTexture.resource;this.resolution=this._updateResolution(c||(m?m.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let r=bo(e,null);return r===null&&(r=typeof t=="number"?t:parseFloat(t??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Ec.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const r=Ec.BATCH_SIZE;for(;t-e<r&&t<this._frameKeys.length;){const s=this._frameKeys[t],a=this._frames[s],c=a.frame;if(c){let f=null,m=null;const v=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,b=new at(0,0,Math.floor(v.w)/this.resolution,Math.floor(v.h)/this.resolution);a.rotated?f=new at(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):f=new at(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(m=new at(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[s]=new Re(this.baseTexture,f,b,m,a.rotated?2:0,a.anchor,a.borders),Re.addToCache(this.textures[s],this.cachePrefix+s.toString())}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){const s=e[t][r];this.animations[t].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ec.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ec.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)==null||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};B1.BATCH_SIZE=1e3;let Jv=B1;const ZA=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function L1(n,e,t){const r={};if(n.forEach(s=>{r[s]=e}),Object.keys(e.textures).forEach(s=>{r[`${e.cachePrefix}${s}`]=e.textures[s]}),!t){const s=Fr.dirname(n[0]);e.linkedSheets.forEach((a,c)=>{Object.assign(r,L1([`${s}/${e.data.meta.related_multi_packs[c]}`],a,!0))})}return r}const JA={extension:Me.Asset,cache:{test:n=>n instanceof Jv,getCacheableAssets:(n,e)=>L1(n,e,!1)},resolver:{test:n=>{const e=n.split("?")[0].split("."),t=e.pop(),r=e.pop();return t==="json"&&ZA.includes(r)},parse:n=>{var t;const e=n.split(".");return{resolution:parseFloat(((t=Oe.RETINA_PREFIX.exec(n))==null?void 0:t[1])??"1"),format:e[e.length-2],src:n}}},loader:{name:"spritesheetLoader",extension:{type:Me.LoadParser,priority:Yi.Normal},async testParse(n,e){return Fr.extname(e.src).toLowerCase()===".json"&&!!n.frames},async parse(n,e,t){var b,d;const{texture:r,imageFilename:s,cachePrefix:a}=(e==null?void 0:e.data)??{};let c=Fr.dirname(e.src);c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");let f;if(r&&r.baseTexture)f=r;else{const y=_g(c+(s??n.meta.image),e.src);f=(await t.load([y]))[y]}const m=new Jv({texture:f.baseTexture,data:n,resolutionFilename:e.src,cachePrefix:a});await m.parse();const v=(b=n==null?void 0:n.meta)==null?void 0:b.related_multi_packs;if(Array.isArray(v)){const y=[];for(const T of v){if(typeof T!="string")continue;let C=c+T;(d=e.data)!=null&&d.ignoreMultiPack||(C=_g(C,e.src),y.push(t.load({src:C,data:{ignoreMultiPack:!0}})))}const _=await Promise.all(y);m.linkedSheets=_,_.forEach(T=>{T.linkedSheets=[m].concat(m.linkedSheets.filter(C=>C!==T))})}return m},unload(n){n.destroy(!0)}}};Ve.add(JA);const Bg=class Yu extends ks{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Yu(Object.keys(Yu.defaultOptions).reduce((t,r)=>({...t,[r]:e[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Yu.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:r}=Yu;if(r[e]){const s=r[e];return this._fonts.push(s),s.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Oe.ADAPTER.fetch(e).then(s=>s.blob()).then(async s=>new Promise((a,c)=>{const f=URL.createObjectURL(s),m=new FileReader;m.onload=()=>a([f,m.result]),m.onerror=c,m.readAsDataURL(s)})).then(async([s,a])=>{const c=Object.assign({family:Fr.basename(e,Fr.extname(e)),weight:"normal",style:"normal",display:"auto",src:s,dataSrc:a,refs:1,originalUrl:e,fontFace:null},t);r[e]=c,this._fonts.push(c),this.styleID++;const f=new FontFace(c.family,`url(${c.src})`,{weight:c.weight,style:c.style,display:c.display});c.fontFace=f,await f.load(),document.fonts.add(f),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(r=>!this._overrides.includes(r));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(r=>this._overrides.includes(r));t.length>0&&(this._overrides=this._overrides.filter(r=>!t.includes(r)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Aw(e)),typeof e=="number"?Tw(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(t*255|0).toString(16).padStart(2,"0"));const a=`${r}px ${s}px`;return this.dropShadowBlur>0?`text-shadow: ${a} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${a} ${e}`}reset(){Object.assign(this,Yu.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Oe.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};Bg.availableFonts={},Bg.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Vm=Bg;const Kd=class qu extends Fs{constructor(e="",t={}){super(Re.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const r=new Image,s=Re.from(r,{scaleMode:Oe.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new at,s.trim=new at,this.texture=s;const a="http://www.w3.org/2000/svg",c="http://www.w3.org/1999/xhtml",f=document.createElementNS(a,"svg"),m=document.createElementNS(a,"foreignObject"),v=document.createElementNS(c,"div"),b=document.createElementNS(c,"style");m.setAttribute("width","10000"),m.setAttribute("height","10000"),m.style.overflow="hidden",f.appendChild(m),this.maxWidth=qu.defaultMaxWidth,this.maxHeight=qu.defaultMaxHeight,this._domElement=v,this._styleElement=b,this._svgRoot=f,this._foreignObject=m,this._foreignObject.appendChild(b),this._foreignObject.appendChild(v),this._image=r,this._loadImage=new Image,this._autoResolution=qu.defaultAutoResolution,this._resolution=qu.defaultResolution??Oe.RESOLUTION,this.text=e,this.style=t}measureText(e){var b,d;const{text:t,style:r,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:r.toCSS(s)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const a=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:c,height:f}=a;(c>this.maxWidth||f>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const m=Math.min(this.maxWidth,Math.ceil(c)),v=Math.min(this.maxHeight,Math.ceil(f));return this._svgRoot.setAttribute("width",m.toString()),this._svgRoot.setAttribute("height",v.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(b=this._style)==null?void 0:b.toCSS(s)}),this._styleElement.textContent=(d=this._style)==null?void 0:d.toGlobalCSS()),{width:m+r.padding*2,height:v+r.padding*2}}async updateText(e=!0){const{style:t,_image:r,_loadImage:s}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:a,height:c}=this.measureText();r.width=s.width=Math.ceil(Math.max(1,a)),r.height=s.height=Math.ceil(Math.max(1,c)),this._updateID++;const f=this._updateID;await new Promise(m=>{s.onload=async()=>{if(f<this._updateID){m();return}await t.onBeforeDraw(),r.src=s.src,s.onload=null,s.src="",this.updateTexture(),m()};const v=new XMLSerializer().serializeToString(this._svgRoot);s.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(v)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:r,resolution:s}=this,{padding:a}=e,{baseTexture:c}=t;t.trim.width=t._frame.width=r.width/s,t.trim.height=t._frame.height=r.height/s,t.trim.x=-a,t.trim.y=-a,t.orig.width=t._frame.width-a*2,t.orig.height=t._frame.height-a*2,this._onTextureUpdate(),c.setRealSize(r.width,r.height,s),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var r,s,a,c,f;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},qu.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=t,(s=this._svgRoot)==null||s.remove(),this._svgRoot=t,(a=this._domElement)==null||a.remove(),this._domElement=t,(c=this._foreignObject)==null||c.remove(),this._foreignObject=t,(f=this._styleElement)==null||f.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=ba(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=ba(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Vm?(this.ownsStyle=!1,this._style=e):e instanceof ks?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Vm.from(e)):(this.ownsStyle=!0,this._style=new Vm(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Kd.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Kd.defaultMaxWidth=2024,Kd.defaultMaxHeight=2024,Kd.defaultAutoResolution=!0;class U1{constructor(e,t,r,s){Mt(this,"x");Mt(this,"y");Mt(this,"length");Mt(this,"height");this.x=e,this.y=t,this.length=r,this.height=s}bottom_right(){return[this.x+this.length,this.y+this.height]}center(){return[this.x+this.length/2,this.y+this.height/2]}rescale(e){const[t,r]=this.center();return eC(t,r,this.length*e,this.height*e)}intersects(e,t){return this.x<=e&&e<=this.x+this.length&&this.y<=t&&t<=this.y+this.height}}function eC(n,e,t,r){return new U1(n-t/2,e-r/2,t,r)}class tC{constructor(e,t,r,s,a){Mt(this,"healthGetter");Mt(this,"maxHealthGetter");Mt(this,"karmaGetter");Mt(this,"width",100);Mt(this,"height",25);Mt(this,"x");Mt(this,"y");Mt(this,"displayHP",!1);Mt(this,"displayKR",!1);this.healthGetter=e,this.maxHealthGetter=t,this.karmaGetter=r,this.x=s,this.y=a}DrawSprite(e){return rt.jsx(Gl.Graphics,{draw:t=>{t.clear(),t.beginFill(16772608);const r=this.width*(this.healthGetter()-this.karmaGetter())/this.maxHealthGetter();t.drawRect(this.x-this.width/2,this.y-this.width/2,r,this.height),t.endFill(),t.beginFill(16711935);const s=this.width*(this.karmaGetter()/this.maxHealthGetter());t.drawRect(this.x-this.width/2+r,this.y-this.width/2,s,this.height),t.endFill(),t.beginFill(11141120),t.drawRect(this.x-this.width/2+r+s,this.y-this.width/2,this.width*((this.maxHealthGetter()-this.healthGetter())/this.maxHealthGetter()),this.height)}})}}class Kg{constructor(e,t,r,s){Mt(this,"texture");Mt(this,"tag");Mt(this,"anchor_x",.5);Mt(this,"anchor_y",.5);Mt(this,"width",64);Mt(this,"aspect_ratio",1);Mt(this,"alpha",1);Mt(this,"x");Mt(this,"y");this.texture=e,this.tag=t,this.x=r,this.y=s}clamp_position(e,t){const r=0+this.width*this.anchor_x,s=e-this.width*(1-this.anchor_x),a=0+this.getHeight()*this.anchor_y,c=t-this.getHeight()*(1-this.anchor_y);this.x=Math.min(s,Math.max(r,this.x)),this.y=Math.min(c,Math.max(a,this.y))}update(e,t,r){}DrawSprite(e=void 0){return rt.jsx(Gl.Sprite,{texture:this.texture,x:this.x,y:this.y,width:this.width,height:this.getHeight(),anchor:[this.anchor_x,this.anchor_y],alpha:this.alpha},e)}getHeight(){let e=this.texture.baseTexture.height/this.texture.baseTexture.width;isNaN(e)&&(e=1);const t=1/this.aspect_ratio;return this.width*e*t}getBBox(){const e=this.getHeight(),t=this.x-this.width*this.anchor_x,r=this.y-e*this.anchor_y;return new U1(t,r,this.width,e)}}class rC extends Kg{constructor(t,r,s,a,c){super(t,r,s,a);Mt(this,"control_vel");this.control_vel=c}update_on_vel(t,r,s,a){this.updatePositionOnVec(t,r,1,Math.min(s,4),a)}update(t,r,s){const a=Math.min(t,4),c=[{key:"w",vec:[0,-1]},{key:"s",vec:[0,1]},{key:"a",vec:[-1,0]},{key:"d",vec:[1,0]},{key:"ArrowUp",vec:[0,-1]},{key:"ArrowDown",vec:[0,1]},{key:"ArrowLeft",vec:[-1,0]},{key:"ArrowRight",vec:[1,0]}],f=[];for(const d of c)r[d.key]===!0&&f.push(d.vec);let m=0,v=0;for(const d of f)m+=d[0],v+=d[1];const b=r.x===!0||r["/"]===!0?.5:1;this.updatePositionOnVec(m,v,b,a,s)}updatePositionOnVec(t,r,s,a,c){if(Math.abs(t)+Math.abs(r)>.001){const f=Math.sqrt(Math.pow(t,2)+Math.pow(r,2));if(f>.001){const m=s*this.control_vel*a*t/f,v=s*this.control_vel*a*r/f;this.x+=m,this.y+=v,this.clamp_position(c.scr_w,c.scr_h)}}}}class Zu extends Kg{constructor(t,r,s,a){const[c,f]=a(0,s);super(t,r,c,f);Mt(this,"frame",0);Mt(this,"func");this.func=a}update(t,r,s){this.frame+=t;const[a,c]=this.func(this.frame,s);this.x=a,this.y=c}}class G1 extends Kg{constructor(t,r,s,a,c,f){super(t,r,s,a);Mt(this,"dx");Mt(this,"dy");this.dx=c,this.dy=f}update(t,r,s){const a=Math.min(t,4),c=this.getBBox(),[f,m]=c.bottom_right();c.x+this.dx<=0&&(this.dx=Math.abs(this.dx)),f+this.dx>=s.scr_w&&(this.dx=-Math.abs(this.dx)),c.y+this.dy<=0&&(this.dy=Math.abs(this.dy)),m+this.dy>=s.scr_h&&(this.dy=-Math.abs(this.dy)),this.x+=this.dx*a,this.y+=this.dy*a}}class On extends G1{update(e,t,r){const s=Math.min(e,4);this.x+=this.dx*s,this.y+=this.dy*s;const a=this.getBBox(),[c,f]=a.bottom_right();c<-100?this.x=r.scr_w+this.anchor_x*this.width+20:this.x>r.scr_w+100&&(this.x=(this.anchor_x-1)*this.width-20);const m=this.getHeight();f<-100?this.y=r.scr_h+this.anchor_y*m+20:this.y>r.scr_h+100&&(this.y=(this.anchor_y-1)*m-20)}}const H1=Bc(Re.from("/YOSHI_WANTED.png")),nC=Bc(Re.from("/MARIO_WANTED.png")),iC=Bc(Re.from("/WARIO_WANTED.png")),sC=Bc(Re.from("/LUIGI_WANTED.png"));function Bc(n){return n.baseTexture.scaleMode=As.NEAREST,n}const oC={y:H1,m:nC,w:iC,l:sC};function fr(n){return oC[n]??H1}function uh(n){for(let e=n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[n[e],n[t]]=[n[t],n[e]]}return n}function Wt(n,e,t=1){const r=[];for(let s=n;s<e;s+=t)r.push(s);return r}function Sf(n){if(n.length===0)return;const e=n.length,t=Math.random()*e;return n[Math.floor(t)]}function z1(n,e,t){let r=t+(Math.random()-.5)*(t*.25),s=t+(Math.random()-.5)*(t*.25);return new G1(fr(n),e,Math.random()*800,Math.random()*600,Sf([-r,r])??10,Sf([-s,s])??10)}function Ju(n,e,t){return new On(fr(n),e,Math.random()*800,Math.random()*600,Sf([-t,t])??10,Sf([-t,t])??10)}function Wm(n,e,t,r){return Wt(0,r).map(s=>Ju(n,e,t))}function $m(n,e,t,r){return Wt(0,r).map(s=>z1(n,e,t))}function aC(n,e,t,r){const s=[];return Math.random()>=.25?(s.push(...$m("y","y",r,n)),s.push(...$m("m","m",r,e)),s.push(...$m("w","w",r,t))):(s.push(...Wm("y","y",r,n)),s.push(...Wm("m","m",r,e)),s.push(...Wm("w","w",r,t))),s}function lC(n){return z1("l","l",n)}function j1(n){const e=(s,a,c,f)=>[s,a,c,f],t=[e(4,4,4,2),e(5,5,5,2),e(6,6,6,2),e(7,7,7,2),e(7,7,7,3),e(8,8,8,3),e(3,3,3,5),e(33,0,0,2),e(40,40,40,0),e(1,1,1,9),e(9,9,9,4),e(2,0,46,2),e(10,10,10,3),e(3,3,3,10),e(0,100,0,1),e(10,10,11,3),e(70,70,70,1),e(12,12,12,5),e(13,13,13,5)],r=1+Math.floor(Math.random()*Math.sqrt(n/2));return t[n]??[5+Math.floor(Math.random()*n/2),5+Math.floor(Math.random()*n/2),5+Math.floor(Math.random()*n/2),r]}const eh={scr_w:800,scr_h:600},uC=uh([...Wt(0,20).map(n=>new On(fr("w"),"w",n*50+50,100,2,0)),...Wt(0,20).map(n=>new On(fr("y"),"y",n*50+200,300,-2,0)),...Wt(0,5).map(n=>new On(fr("m"),"m",300,n*50+-25,2,0)),...Wt(0,5).map(n=>new On(fr("m"),"m",300,n*40+325,2,0)),...Wt(0,5).map(n=>new On(fr("m"),"m",0,n*50+0,2,0)),...Wt(0,5).map(n=>new On(fr("m"),"m",0,n*40+525,2,0)),...Wt(0,5).map(n=>new On(fr("m"),"m",300,n*50+-25,2,0)),...Wt(0,5).map(n=>new On(fr("m"),"m",300,n*40+325,2,0)),...Wt(0,1).map(n=>new On(fr("l"),"l",500,500,1,-1))]),hC=uh([...Wt(0,15).map(n=>new On(fr("w"),"w",Math.random()*200+300,Math.random()*200+300,2,2)),...Wt(0,15).map(n=>new On(fr("m"),"m",Math.random()*200+300,Math.random()*200+300,2,2)),...Wt(0,15).map(n=>new On(fr("y"),"y",Math.random()*200+300,Math.random()*200+300,2,2)),...Wt(0,1).map(n=>new On(fr("l"),"l",300,300,2,2))]),cC=uh([...Wt(0,10).map(n=>new Zu(fr("w"),"w",eh,(e,t)=>[t.scr_w/2+200*Math.cos(e/60+n/2),t.scr_h/2+200*Math.sin(e/60+n/2)])),...Wt(0,15).map(n=>new Zu(fr("y"),"y",eh,(e,t)=>[t.scr_w/2+300*Math.cos(2+e/60+n/2),t.scr_h/2+300*Math.sin(2+e/60+n/2)])),...Wt(0,5).map(n=>new Zu(fr("m"),"m",eh,(e,t)=>[t.scr_w/2+100*Math.cos(2+e/60+n/2),t.scr_h/2+100*Math.sin(2+e/60+n/2)])),new Zu(fr("l"),"l",eh,(n,e)=>[e.scr_w/2+250*Math.cos(2+n/60),e.scr_h/2+250*Math.sin(2+n/60)])]),dC=uh([...Wt(0,10).map(n=>new Zu(fr("y"),"y",eh,(e,t)=>[400+300*Math.sin(n+Math.PI*e/300),100*n])),...Wt(0,10).map(n=>new Zu(fr("w"),"w",eh,(e,t)=>[100*n,400+300*Math.sin(n+Math.PI*e/300)])),Ju("l","l",2)]),fC=uh([...Wt(0,10).map(n=>Ju("y","y",2)),...Wt(0,10).map(n=>Ju("m","m",2)),...Wt(0,10).map(n=>Ju("w","w",2)),Ju("l","l",2)]),pC=[_s(0),hC,_s(2),_s(3),cC,_s(4),fC,dC,_s(5),_s(6),uC,_s(7),_s(8),_s(9),...Wt(10,18).map(n=>_s(n))];function _s(n){const e=j1(n);return Zg(e[0],e[1],e[2],e[3])}function mC(n){const e=j1(n);return pC[n]??Zg(e[0],e[1],e[2],e[3])}function Zg(n,e,t,r){let s;return s=aC(Math.min(1e3,n),Math.min(1e3,e),Math.min(1e3,t),Math.min(1e3,r)),s.push(lC(r)),uh(s),s}var Xm={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var e_;function gC(){return e_||(e_=1,function(n){(function(){var e=function(){this.init()};e.prototype={init:function(){var d=this||t;return d._counter=1e3,d._html5AudioPool=[],d.html5PoolSize=10,d._codecs={},d._howls=[],d._muted=!1,d._volume=1,d._canPlayEvent="canplaythrough",d._navigator=typeof window<"u"&&window.navigator?window.navigator:null,d.masterGain=null,d.noAudio=!1,d.usingWebAudio=!0,d.autoSuspend=!0,d.ctx=null,d.autoUnlock=!0,d._setup(),d},volume:function(d){var y=this||t;if(d=parseFloat(d),y.ctx||b(),typeof d<"u"&&d>=0&&d<=1){if(y._volume=d,y._muted)return y;y.usingWebAudio&&y.masterGain.gain.setValueAtTime(d,t.ctx.currentTime);for(var _=0;_<y._howls.length;_++)if(!y._howls[_]._webAudio)for(var T=y._howls[_]._getSoundIds(),C=0;C<T.length;C++){var A=y._howls[_]._soundById(T[C]);A&&A._node&&(A._node.volume=A._volume*d)}return y}return y._volume},mute:function(d){var y=this||t;y.ctx||b(),y._muted=d,y.usingWebAudio&&y.masterGain.gain.setValueAtTime(d?0:y._volume,t.ctx.currentTime);for(var _=0;_<y._howls.length;_++)if(!y._howls[_]._webAudio)for(var T=y._howls[_]._getSoundIds(),C=0;C<T.length;C++){var A=y._howls[_]._soundById(T[C]);A&&A._node&&(A._node.muted=d?!0:A._muted)}return y},stop:function(){for(var d=this||t,y=0;y<d._howls.length;y++)d._howls[y].stop();return d},unload:function(){for(var d=this||t,y=d._howls.length-1;y>=0;y--)d._howls[y].unload();return d.usingWebAudio&&d.ctx&&typeof d.ctx.close<"u"&&(d.ctx.close(),d.ctx=null,b()),d},codecs:function(d){return(this||t)._codecs[d.replace(/^x-/,"")]},_setup:function(){var d=this||t;if(d.state=d.ctx&&d.ctx.state||"suspended",d._autoSuspend(),!d.usingWebAudio)if(typeof Audio<"u")try{var y=new Audio;typeof y.oncanplaythrough>"u"&&(d._canPlayEvent="canplay")}catch{d.noAudio=!0}else d.noAudio=!0;try{var y=new Audio;y.muted&&(d.noAudio=!0)}catch{}return d.noAudio||d._setupCodecs(),d},_setupCodecs:function(){var d=this||t,y=null;try{y=typeof Audio<"u"?new Audio:null}catch{return d}if(!y||typeof y.canPlayType!="function")return d;var _=y.canPlayType("audio/mpeg;").replace(/^no$/,""),T=d._navigator?d._navigator.userAgent:"",C=T.match(/OPR\/(\d+)/g),A=C&&parseInt(C[0].split("/")[1],10)<33,P=T.indexOf("Safari")!==-1&&T.indexOf("Chrome")===-1,N=T.match(/Version\/(.*?) /),D=P&&N&&parseInt(N[1],10)<15;return d._codecs={mp3:!!(!A&&(_||y.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!_,opus:!!y.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!y.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!y.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(y.canPlayType('audio/wav; codecs="1"')||y.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!y.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!y.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(y.canPlayType("audio/x-m4a;")||y.canPlayType("audio/m4a;")||y.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(y.canPlayType("audio/x-m4b;")||y.canPlayType("audio/m4b;")||y.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(y.canPlayType("audio/x-mp4;")||y.canPlayType("audio/mp4;")||y.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!D&&y.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!D&&y.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!y.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(y.canPlayType("audio/x-flac;")||y.canPlayType("audio/flac;")).replace(/^no$/,"")},d},_unlockAudio:function(){var d=this||t;if(!(d._audioUnlocked||!d.ctx)){d._audioUnlocked=!1,d.autoUnlock=!1,!d._mobileUnloaded&&d.ctx.sampleRate!==44100&&(d._mobileUnloaded=!0,d.unload()),d._scratchBuffer=d.ctx.createBuffer(1,1,22050);var y=function(_){for(;d._html5AudioPool.length<d.html5PoolSize;)try{var T=new Audio;T._unlocked=!0,d._releaseHtml5Audio(T)}catch{d.noAudio=!0;break}for(var C=0;C<d._howls.length;C++)if(!d._howls[C]._webAudio)for(var A=d._howls[C]._getSoundIds(),P=0;P<A.length;P++){var N=d._howls[C]._soundById(A[P]);N&&N._node&&!N._node._unlocked&&(N._node._unlocked=!0,N._node.load())}d._autoResume();var D=d.ctx.createBufferSource();D.buffer=d._scratchBuffer,D.connect(d.ctx.destination),typeof D.start>"u"?D.noteOn(0):D.start(0),typeof d.ctx.resume=="function"&&d.ctx.resume(),D.onended=function(){D.disconnect(0),d._audioUnlocked=!0,document.removeEventListener("touchstart",y,!0),document.removeEventListener("touchend",y,!0),document.removeEventListener("click",y,!0),document.removeEventListener("keydown",y,!0);for(var j=0;j<d._howls.length;j++)d._howls[j]._emit("unlock")}};return document.addEventListener("touchstart",y,!0),document.addEventListener("touchend",y,!0),document.addEventListener("click",y,!0),document.addEventListener("keydown",y,!0),d}},_obtainHtml5Audio:function(){var d=this||t;if(d._html5AudioPool.length)return d._html5AudioPool.pop();var y=new Audio().play();return y&&typeof Promise<"u"&&(y instanceof Promise||typeof y.then=="function")&&y.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(d){var y=this||t;return d._unlocked&&y._html5AudioPool.push(d),y},_autoSuspend:function(){var d=this;if(!(!d.autoSuspend||!d.ctx||typeof d.ctx.suspend>"u"||!t.usingWebAudio)){for(var y=0;y<d._howls.length;y++)if(d._howls[y]._webAudio){for(var _=0;_<d._howls[y]._sounds.length;_++)if(!d._howls[y]._sounds[_]._paused)return d}return d._suspendTimer&&clearTimeout(d._suspendTimer),d._suspendTimer=setTimeout(function(){if(d.autoSuspend){d._suspendTimer=null,d.state="suspending";var T=function(){d.state="suspended",d._resumeAfterSuspend&&(delete d._resumeAfterSuspend,d._autoResume())};d.ctx.suspend().then(T,T)}},3e4),d}},_autoResume:function(){var d=this;if(!(!d.ctx||typeof d.ctx.resume>"u"||!t.usingWebAudio))return d.state==="running"&&d.ctx.state!=="interrupted"&&d._suspendTimer?(clearTimeout(d._suspendTimer),d._suspendTimer=null):d.state==="suspended"||d.state==="running"&&d.ctx.state==="interrupted"?(d.ctx.resume().then(function(){d.state="running";for(var y=0;y<d._howls.length;y++)d._howls[y]._emit("resume")}),d._suspendTimer&&(clearTimeout(d._suspendTimer),d._suspendTimer=null)):d.state==="suspending"&&(d._resumeAfterSuspend=!0),d}};var t=new e,r=function(d){var y=this;if(!d.src||d.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}y.init(d)};r.prototype={init:function(d){var y=this;return t.ctx||b(),y._autoplay=d.autoplay||!1,y._format=typeof d.format!="string"?d.format:[d.format],y._html5=d.html5||!1,y._muted=d.mute||!1,y._loop=d.loop||!1,y._pool=d.pool||5,y._preload=typeof d.preload=="boolean"||d.preload==="metadata"?d.preload:!0,y._rate=d.rate||1,y._sprite=d.sprite||{},y._src=typeof d.src!="string"?d.src:[d.src],y._volume=d.volume!==void 0?d.volume:1,y._xhr={method:d.xhr&&d.xhr.method?d.xhr.method:"GET",headers:d.xhr&&d.xhr.headers?d.xhr.headers:null,withCredentials:d.xhr&&d.xhr.withCredentials?d.xhr.withCredentials:!1},y._duration=0,y._state="unloaded",y._sounds=[],y._endTimers={},y._queue=[],y._playLock=!1,y._onend=d.onend?[{fn:d.onend}]:[],y._onfade=d.onfade?[{fn:d.onfade}]:[],y._onload=d.onload?[{fn:d.onload}]:[],y._onloaderror=d.onloaderror?[{fn:d.onloaderror}]:[],y._onplayerror=d.onplayerror?[{fn:d.onplayerror}]:[],y._onpause=d.onpause?[{fn:d.onpause}]:[],y._onplay=d.onplay?[{fn:d.onplay}]:[],y._onstop=d.onstop?[{fn:d.onstop}]:[],y._onmute=d.onmute?[{fn:d.onmute}]:[],y._onvolume=d.onvolume?[{fn:d.onvolume}]:[],y._onrate=d.onrate?[{fn:d.onrate}]:[],y._onseek=d.onseek?[{fn:d.onseek}]:[],y._onunlock=d.onunlock?[{fn:d.onunlock}]:[],y._onresume=[],y._webAudio=t.usingWebAudio&&!y._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(y),y._autoplay&&y._queue.push({event:"play",action:function(){y.play()}}),y._preload&&y._preload!=="none"&&y.load(),y},load:function(){var d=this,y=null;if(t.noAudio){d._emit("loaderror",null,"No audio support.");return}typeof d._src=="string"&&(d._src=[d._src]);for(var _=0;_<d._src.length;_++){var T,C;if(d._format&&d._format[_])T=d._format[_];else{if(C=d._src[_],typeof C!="string"){d._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}T=/^data:audio\/([^;,]+);/i.exec(C),T||(T=/\.([^.]+)$/.exec(C.split("?",1)[0])),T&&(T=T[1].toLowerCase())}if(T||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),T&&t.codecs(T)){y=d._src[_];break}}if(!y){d._emit("loaderror",null,"No codec support for selected audio sources.");return}return d._src=y,d._state="loading",window.location.protocol==="https:"&&y.slice(0,5)==="http:"&&(d._html5=!0,d._webAudio=!1),new s(d),d._webAudio&&c(d),d},play:function(d,y){var _=this,T=null;if(typeof d=="number")T=d,d=null;else{if(typeof d=="string"&&_._state==="loaded"&&!_._sprite[d])return null;if(typeof d>"u"&&(d="__default",!_._playLock)){for(var C=0,A=0;A<_._sounds.length;A++)_._sounds[A]._paused&&!_._sounds[A]._ended&&(C++,T=_._sounds[A]._id);C===1?d=null:T=null}}var P=T?_._soundById(T):_._inactiveSound();if(!P)return null;if(T&&!d&&(d=P._sprite||"__default"),_._state!=="loaded"){P._sprite=d,P._ended=!1;var N=P._id;return _._queue.push({event:"play",action:function(){_.play(N)}}),N}if(T&&!P._paused)return y||_._loadQueue("play"),P._id;_._webAudio&&t._autoResume();var D=Math.max(0,P._seek>0?P._seek:_._sprite[d][0]/1e3),j=Math.max(0,(_._sprite[d][0]+_._sprite[d][1])/1e3-D),O=j*1e3/Math.abs(P._rate),q=_._sprite[d][0]/1e3,U=(_._sprite[d][0]+_._sprite[d][1])/1e3;P._sprite=d,P._ended=!1;var J=function(){P._paused=!1,P._seek=D,P._start=q,P._stop=U,P._loop=!!(P._loop||_._sprite[d][2])};if(D>=U){_._ended(P);return}var se=P._node;if(_._webAudio){var de=function(){_._playLock=!1,J(),_._refreshBuffer(P);var he=P._muted||_._muted?0:P._volume;se.gain.setValueAtTime(he,t.ctx.currentTime),P._playStart=t.ctx.currentTime,typeof se.bufferSource.start>"u"?P._loop?se.bufferSource.noteGrainOn(0,D,86400):se.bufferSource.noteGrainOn(0,D,j):P._loop?se.bufferSource.start(0,D,86400):se.bufferSource.start(0,D,j),O!==1/0&&(_._endTimers[P._id]=setTimeout(_._ended.bind(_,P),O)),y||setTimeout(function(){_._emit("play",P._id),_._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?de():(_._playLock=!0,_.once("resume",de),_._clearTimer(P._id))}else{var Se=function(){se.currentTime=D,se.muted=P._muted||_._muted||t._muted||se.muted,se.volume=P._volume*t.volume(),se.playbackRate=P._rate;try{var he=se.play();if(he&&typeof Promise<"u"&&(he instanceof Promise||typeof he.then=="function")?(_._playLock=!0,J(),he.then(function(){_._playLock=!1,se._unlocked=!0,y?_._loadQueue():_._emit("play",P._id)}).catch(function(){_._playLock=!1,_._emit("playerror",P._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),P._ended=!0,P._paused=!0})):y||(_._playLock=!1,J(),_._emit("play",P._id)),se.playbackRate=P._rate,se.paused){_._emit("playerror",P._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}d!=="__default"||P._loop?_._endTimers[P._id]=setTimeout(_._ended.bind(_,P),O):(_._endTimers[P._id]=function(){_._ended(P),se.removeEventListener("ended",_._endTimers[P._id],!1)},se.addEventListener("ended",_._endTimers[P._id],!1))}catch(_e){_._emit("playerror",P._id,_e)}};se.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(se.src=_._src,se.load());var Q=window&&window.ejecta||!se.readyState&&t._navigator.isCocoonJS;if(se.readyState>=3||Q)Se();else{_._playLock=!0,_._state="loading";var Z=function(){_._state="loaded",Se(),se.removeEventListener(t._canPlayEvent,Z,!1)};se.addEventListener(t._canPlayEvent,Z,!1),_._clearTimer(P._id)}}return P._id},pause:function(d){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"pause",action:function(){y.pause(d)}}),y;for(var _=y._getSoundIds(d),T=0;T<_.length;T++){y._clearTimer(_[T]);var C=y._soundById(_[T]);if(C&&!C._paused&&(C._seek=y.seek(_[T]),C._rateSeek=0,C._paused=!0,y._stopFade(_[T]),C._node))if(y._webAudio){if(!C._node.bufferSource)continue;typeof C._node.bufferSource.stop>"u"?C._node.bufferSource.noteOff(0):C._node.bufferSource.stop(0),y._cleanBuffer(C._node)}else(!isNaN(C._node.duration)||C._node.duration===1/0)&&C._node.pause();arguments[1]||y._emit("pause",C?C._id:null)}return y},stop:function(d,y){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"stop",action:function(){_.stop(d)}}),_;for(var T=_._getSoundIds(d),C=0;C<T.length;C++){_._clearTimer(T[C]);var A=_._soundById(T[C]);A&&(A._seek=A._start||0,A._rateSeek=0,A._paused=!0,A._ended=!0,_._stopFade(T[C]),A._node&&(_._webAudio?A._node.bufferSource&&(typeof A._node.bufferSource.stop>"u"?A._node.bufferSource.noteOff(0):A._node.bufferSource.stop(0),_._cleanBuffer(A._node)):(!isNaN(A._node.duration)||A._node.duration===1/0)&&(A._node.currentTime=A._start||0,A._node.pause(),A._node.duration===1/0&&_._clearSound(A._node))),y||_._emit("stop",A._id))}return _},mute:function(d,y){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"mute",action:function(){_.mute(d,y)}}),_;if(typeof y>"u")if(typeof d=="boolean")_._muted=d;else return _._muted;for(var T=_._getSoundIds(y),C=0;C<T.length;C++){var A=_._soundById(T[C]);A&&(A._muted=d,A._interval&&_._stopFade(A._id),_._webAudio&&A._node?A._node.gain.setValueAtTime(d?0:A._volume,t.ctx.currentTime):A._node&&(A._node.muted=t._muted?!0:d),_._emit("mute",A._id))}return _},volume:function(){var d=this,y=arguments,_,T;if(y.length===0)return d._volume;if(y.length===1||y.length===2&&typeof y[1]>"u"){var C=d._getSoundIds(),A=C.indexOf(y[0]);A>=0?T=parseInt(y[0],10):_=parseFloat(y[0])}else y.length>=2&&(_=parseFloat(y[0]),T=parseInt(y[1],10));var P;if(typeof _<"u"&&_>=0&&_<=1){if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"volume",action:function(){d.volume.apply(d,y)}}),d;typeof T>"u"&&(d._volume=_),T=d._getSoundIds(T);for(var N=0;N<T.length;N++)P=d._soundById(T[N]),P&&(P._volume=_,y[2]||d._stopFade(T[N]),d._webAudio&&P._node&&!P._muted?P._node.gain.setValueAtTime(_,t.ctx.currentTime):P._node&&!P._muted&&(P._node.volume=_*t.volume()),d._emit("volume",P._id))}else return P=T?d._soundById(T):d._sounds[0],P?P._volume:0;return d},fade:function(d,y,_,T){var C=this;if(C._state!=="loaded"||C._playLock)return C._queue.push({event:"fade",action:function(){C.fade(d,y,_,T)}}),C;d=Math.min(Math.max(0,parseFloat(d)),1),y=Math.min(Math.max(0,parseFloat(y)),1),_=parseFloat(_),C.volume(d,T);for(var A=C._getSoundIds(T),P=0;P<A.length;P++){var N=C._soundById(A[P]);if(N){if(T||C._stopFade(A[P]),C._webAudio&&!N._muted){var D=t.ctx.currentTime,j=D+_/1e3;N._volume=d,N._node.gain.setValueAtTime(d,D),N._node.gain.linearRampToValueAtTime(y,j)}C._startFadeInterval(N,d,y,_,A[P],typeof T>"u")}}return C},_startFadeInterval:function(d,y,_,T,C,A){var P=this,N=y,D=_-y,j=Math.abs(D/.01),O=Math.max(4,j>0?T/j:T),q=Date.now();d._fadeTo=_,d._interval=setInterval(function(){var U=(Date.now()-q)/T;q=Date.now(),N+=D*U,N=Math.round(N*100)/100,D<0?N=Math.max(_,N):N=Math.min(_,N),P._webAudio?d._volume=N:P.volume(N,d._id,!0),A&&(P._volume=N),(_<y&&N<=_||_>y&&N>=_)&&(clearInterval(d._interval),d._interval=null,d._fadeTo=null,P.volume(_,d._id),P._emit("fade",d._id))},O)},_stopFade:function(d){var y=this,_=y._soundById(d);return _&&_._interval&&(y._webAudio&&_._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(_._interval),_._interval=null,y.volume(_._fadeTo,d),_._fadeTo=null,y._emit("fade",d)),y},loop:function(){var d=this,y=arguments,_,T,C;if(y.length===0)return d._loop;if(y.length===1)if(typeof y[0]=="boolean")_=y[0],d._loop=_;else return C=d._soundById(parseInt(y[0],10)),C?C._loop:!1;else y.length===2&&(_=y[0],T=parseInt(y[1],10));for(var A=d._getSoundIds(T),P=0;P<A.length;P++)C=d._soundById(A[P]),C&&(C._loop=_,d._webAudio&&C._node&&C._node.bufferSource&&(C._node.bufferSource.loop=_,_&&(C._node.bufferSource.loopStart=C._start||0,C._node.bufferSource.loopEnd=C._stop,d.playing(A[P])&&(d.pause(A[P],!0),d.play(A[P],!0)))));return d},rate:function(){var d=this,y=arguments,_,T;if(y.length===0)T=d._sounds[0]._id;else if(y.length===1){var C=d._getSoundIds(),A=C.indexOf(y[0]);A>=0?T=parseInt(y[0],10):_=parseFloat(y[0])}else y.length===2&&(_=parseFloat(y[0]),T=parseInt(y[1],10));var P;if(typeof _=="number"){if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"rate",action:function(){d.rate.apply(d,y)}}),d;typeof T>"u"&&(d._rate=_),T=d._getSoundIds(T);for(var N=0;N<T.length;N++)if(P=d._soundById(T[N]),P){d.playing(T[N])&&(P._rateSeek=d.seek(T[N]),P._playStart=d._webAudio?t.ctx.currentTime:P._playStart),P._rate=_,d._webAudio&&P._node&&P._node.bufferSource?P._node.bufferSource.playbackRate.setValueAtTime(_,t.ctx.currentTime):P._node&&(P._node.playbackRate=_);var D=d.seek(T[N]),j=(d._sprite[P._sprite][0]+d._sprite[P._sprite][1])/1e3-D,O=j*1e3/Math.abs(P._rate);(d._endTimers[T[N]]||!P._paused)&&(d._clearTimer(T[N]),d._endTimers[T[N]]=setTimeout(d._ended.bind(d,P),O)),d._emit("rate",P._id)}}else return P=d._soundById(T),P?P._rate:d._rate;return d},seek:function(){var d=this,y=arguments,_,T;if(y.length===0)d._sounds.length&&(T=d._sounds[0]._id);else if(y.length===1){var C=d._getSoundIds(),A=C.indexOf(y[0]);A>=0?T=parseInt(y[0],10):d._sounds.length&&(T=d._sounds[0]._id,_=parseFloat(y[0]))}else y.length===2&&(_=parseFloat(y[0]),T=parseInt(y[1],10));if(typeof T>"u")return 0;if(typeof _=="number"&&(d._state!=="loaded"||d._playLock))return d._queue.push({event:"seek",action:function(){d.seek.apply(d,y)}}),d;var P=d._soundById(T);if(P)if(typeof _=="number"&&_>=0){var N=d.playing(T);N&&d.pause(T,!0),P._seek=_,P._ended=!1,d._clearTimer(T),!d._webAudio&&P._node&&!isNaN(P._node.duration)&&(P._node.currentTime=_);var D=function(){N&&d.play(T,!0),d._emit("seek",T)};if(N&&!d._webAudio){var j=function(){d._playLock?setTimeout(j,0):D()};setTimeout(j,0)}else D()}else if(d._webAudio){var O=d.playing(T)?t.ctx.currentTime-P._playStart:0,q=P._rateSeek?P._rateSeek-P._seek:0;return P._seek+(q+O*Math.abs(P._rate))}else return P._node.currentTime;return d},playing:function(d){var y=this;if(typeof d=="number"){var _=y._soundById(d);return _?!_._paused:!1}for(var T=0;T<y._sounds.length;T++)if(!y._sounds[T]._paused)return!0;return!1},duration:function(d){var y=this,_=y._duration,T=y._soundById(d);return T&&(_=y._sprite[T._sprite][1]/1e3),_},state:function(){return this._state},unload:function(){for(var d=this,y=d._sounds,_=0;_<y.length;_++)y[_]._paused||d.stop(y[_]._id),d._webAudio||(d._clearSound(y[_]._node),y[_]._node.removeEventListener("error",y[_]._errorFn,!1),y[_]._node.removeEventListener(t._canPlayEvent,y[_]._loadFn,!1),y[_]._node.removeEventListener("ended",y[_]._endFn,!1),t._releaseHtml5Audio(y[_]._node)),delete y[_]._node,d._clearTimer(y[_]._id);var T=t._howls.indexOf(d);T>=0&&t._howls.splice(T,1);var C=!0;for(_=0;_<t._howls.length;_++)if(t._howls[_]._src===d._src||d._src.indexOf(t._howls[_]._src)>=0){C=!1;break}return a&&C&&delete a[d._src],t.noAudio=!1,d._state="unloaded",d._sounds=[],d=null,null},on:function(d,y,_,T){var C=this,A=C["_on"+d];return typeof y=="function"&&A.push(T?{id:_,fn:y,once:T}:{id:_,fn:y}),C},off:function(d,y,_){var T=this,C=T["_on"+d],A=0;if(typeof y=="number"&&(_=y,y=null),y||_)for(A=0;A<C.length;A++){var P=_===C[A].id;if(y===C[A].fn&&P||!y&&P){C.splice(A,1);break}}else if(d)T["_on"+d]=[];else{var N=Object.keys(T);for(A=0;A<N.length;A++)N[A].indexOf("_on")===0&&Array.isArray(T[N[A]])&&(T[N[A]]=[])}return T},once:function(d,y,_){var T=this;return T.on(d,y,_,1),T},_emit:function(d,y,_){for(var T=this,C=T["_on"+d],A=C.length-1;A>=0;A--)(!C[A].id||C[A].id===y||d==="load")&&(setTimeout((function(P){P.call(this,y,_)}).bind(T,C[A].fn),0),C[A].once&&T.off(d,C[A].fn,C[A].id));return T._loadQueue(d),T},_loadQueue:function(d){var y=this;if(y._queue.length>0){var _=y._queue[0];_.event===d&&(y._queue.shift(),y._loadQueue()),d||_.action()}return y},_ended:function(d){var y=this,_=d._sprite;if(!y._webAudio&&d._node&&!d._node.paused&&!d._node.ended&&d._node.currentTime<d._stop)return setTimeout(y._ended.bind(y,d),100),y;var T=!!(d._loop||y._sprite[_][2]);if(y._emit("end",d._id),!y._webAudio&&T&&y.stop(d._id,!0).play(d._id),y._webAudio&&T){y._emit("play",d._id),d._seek=d._start||0,d._rateSeek=0,d._playStart=t.ctx.currentTime;var C=(d._stop-d._start)*1e3/Math.abs(d._rate);y._endTimers[d._id]=setTimeout(y._ended.bind(y,d),C)}return y._webAudio&&!T&&(d._paused=!0,d._ended=!0,d._seek=d._start||0,d._rateSeek=0,y._clearTimer(d._id),y._cleanBuffer(d._node),t._autoSuspend()),!y._webAudio&&!T&&y.stop(d._id,!0),y},_clearTimer:function(d){var y=this;if(y._endTimers[d]){if(typeof y._endTimers[d]!="function")clearTimeout(y._endTimers[d]);else{var _=y._soundById(d);_&&_._node&&_._node.removeEventListener("ended",y._endTimers[d],!1)}delete y._endTimers[d]}return y},_soundById:function(d){for(var y=this,_=0;_<y._sounds.length;_++)if(d===y._sounds[_]._id)return y._sounds[_];return null},_inactiveSound:function(){var d=this;d._drain();for(var y=0;y<d._sounds.length;y++)if(d._sounds[y]._ended)return d._sounds[y].reset();return new s(d)},_drain:function(){var d=this,y=d._pool,_=0,T=0;if(!(d._sounds.length<y)){for(T=0;T<d._sounds.length;T++)d._sounds[T]._ended&&_++;for(T=d._sounds.length-1;T>=0;T--){if(_<=y)return;d._sounds[T]._ended&&(d._webAudio&&d._sounds[T]._node&&d._sounds[T]._node.disconnect(0),d._sounds.splice(T,1),_--)}}},_getSoundIds:function(d){var y=this;if(typeof d>"u"){for(var _=[],T=0;T<y._sounds.length;T++)_.push(y._sounds[T]._id);return _}else return[d]},_refreshBuffer:function(d){var y=this;return d._node.bufferSource=t.ctx.createBufferSource(),d._node.bufferSource.buffer=a[y._src],d._panner?d._node.bufferSource.connect(d._panner):d._node.bufferSource.connect(d._node),d._node.bufferSource.loop=d._loop,d._loop&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop||0),d._node.bufferSource.playbackRate.setValueAtTime(d._rate,t.ctx.currentTime),y},_cleanBuffer:function(d){var y=this,_=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!d.bufferSource)return y;if(t._scratchBuffer&&d.bufferSource&&(d.bufferSource.onended=null,d.bufferSource.disconnect(0),_))try{d.bufferSource.buffer=t._scratchBuffer}catch{}return d.bufferSource=null,y},_clearSound:function(d){var y=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);y||(d.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(d){this._parent=d,this.init()};s.prototype={init:function(){var d=this,y=d._parent;return d._muted=y._muted,d._loop=y._loop,d._volume=y._volume,d._rate=y._rate,d._seek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++t._counter,y._sounds.push(d),d.create(),d},create:function(){var d=this,y=d._parent,_=t._muted||d._muted||d._parent._muted?0:d._volume;return y._webAudio?(d._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),d._node.gain.setValueAtTime(_,t.ctx.currentTime),d._node.paused=!0,d._node.connect(t.masterGain)):t.noAudio||(d._node=t._obtainHtml5Audio(),d._errorFn=d._errorListener.bind(d),d._node.addEventListener("error",d._errorFn,!1),d._loadFn=d._loadListener.bind(d),d._node.addEventListener(t._canPlayEvent,d._loadFn,!1),d._endFn=d._endListener.bind(d),d._node.addEventListener("ended",d._endFn,!1),d._node.src=y._src,d._node.preload=y._preload===!0?"auto":y._preload,d._node.volume=_*t.volume(),d._node.load()),d},reset:function(){var d=this,y=d._parent;return d._muted=y._muted,d._loop=y._loop,d._volume=y._volume,d._rate=y._rate,d._seek=0,d._rateSeek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++t._counter,d},_errorListener:function(){var d=this;d._parent._emit("loaderror",d._id,d._node.error?d._node.error.code:0),d._node.removeEventListener("error",d._errorFn,!1)},_loadListener:function(){var d=this,y=d._parent;y._duration=Math.ceil(d._node.duration*10)/10,Object.keys(y._sprite).length===0&&(y._sprite={__default:[0,y._duration*1e3]}),y._state!=="loaded"&&(y._state="loaded",y._emit("load"),y._loadQueue()),d._node.removeEventListener(t._canPlayEvent,d._loadFn,!1)},_endListener:function(){var d=this,y=d._parent;y._duration===1/0&&(y._duration=Math.ceil(d._node.duration*10)/10,y._sprite.__default[1]===1/0&&(y._sprite.__default[1]=y._duration*1e3),y._ended(d)),d._node.removeEventListener("ended",d._endFn,!1)}};var a={},c=function(d){var y=d._src;if(a[y]){d._duration=a[y].duration,v(d);return}if(/^data:[^;]+;base64,/.test(y)){for(var _=atob(y.split(",")[1]),T=new Uint8Array(_.length),C=0;C<_.length;++C)T[C]=_.charCodeAt(C);m(T.buffer,d)}else{var A=new XMLHttpRequest;A.open(d._xhr.method,y,!0),A.withCredentials=d._xhr.withCredentials,A.responseType="arraybuffer",d._xhr.headers&&Object.keys(d._xhr.headers).forEach(function(P){A.setRequestHeader(P,d._xhr.headers[P])}),A.onload=function(){var P=(A.status+"")[0];if(P!=="0"&&P!=="2"&&P!=="3"){d._emit("loaderror",null,"Failed loading audio file with status: "+A.status+".");return}m(A.response,d)},A.onerror=function(){d._webAudio&&(d._html5=!0,d._webAudio=!1,d._sounds=[],delete a[y],d.load())},f(A)}},f=function(d){try{d.send()}catch{d.onerror()}},m=function(d,y){var _=function(){y._emit("loaderror",null,"Decoding audio data failed.")},T=function(C){C&&y._sounds.length>0?(a[y._src]=C,v(y,C)):_()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(d).then(T).catch(_):t.ctx.decodeAudioData(d,T,_)},v=function(d,y){y&&!d._duration&&(d._duration=y.duration),Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue())},b=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var d=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),y=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),_=y?parseInt(y[1],10):null;if(d&&_&&_<9){var T=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!T&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};n.Howler=t,n.Howl=r,typeof yo<"u"?(yo.HowlerGlobal=e,yo.Howler=t,yo.Howl=r,yo.Sound=s):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=r,window.Sound=s)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var s=r._howls.length-1;s>=0;s--)r._howls[s].stereo(t);return r},HowlerGlobal.prototype.pos=function(t,r,s){var a=this;if(!a.ctx||!a.ctx.listener)return a;if(r=typeof r!="number"?a._pos[1]:r,s=typeof s!="number"?a._pos[2]:s,typeof t=="number")a._pos=[t,r,s],typeof a.ctx.listener.positionX<"u"?(a.ctx.listener.positionX.setTargetAtTime(a._pos[0],Howler.ctx.currentTime,.1),a.ctx.listener.positionY.setTargetAtTime(a._pos[1],Howler.ctx.currentTime,.1),a.ctx.listener.positionZ.setTargetAtTime(a._pos[2],Howler.ctx.currentTime,.1)):a.ctx.listener.setPosition(a._pos[0],a._pos[1],a._pos[2]);else return a._pos;return a},HowlerGlobal.prototype.orientation=function(t,r,s,a,c,f){var m=this;if(!m.ctx||!m.ctx.listener)return m;var v=m._orientation;if(r=typeof r!="number"?v[1]:r,s=typeof s!="number"?v[2]:s,a=typeof a!="number"?v[3]:a,c=typeof c!="number"?v[4]:c,f=typeof f!="number"?v[5]:f,typeof t=="number")m._orientation=[t,r,s,a,c,f],typeof m.ctx.listener.forwardX<"u"?(m.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),m.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),m.ctx.listener.forwardZ.setTargetAtTime(s,Howler.ctx.currentTime,.1),m.ctx.listener.upX.setTargetAtTime(a,Howler.ctx.currentTime,.1),m.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),m.ctx.listener.upZ.setTargetAtTime(f,Howler.ctx.currentTime,.1)):m.ctx.listener.setOrientation(t,r,s,a,c,f);else return v;return m},Howl.prototype.init=function(t){return function(r){var s=this;return s._orientation=r.orientation||[1,0,0],s._stereo=r.stereo||null,s._pos=r.pos||null,s._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},s._onstereo=r.onstereo?[{fn:r.onstereo}]:[],s._onpos=r.onpos?[{fn:r.onpos}]:[],s._onorientation=r.onorientation?[{fn:r.onorientation}]:[],t.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,r){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"stereo",action:function(){s.stereo(t,r)}}),s;var a=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof t=="number")s._stereo=t,s._pos=[t,0,0];else return s._stereo;for(var c=s._getSoundIds(r),f=0;f<c.length;f++){var m=s._soundById(c[f]);if(m)if(typeof t=="number")m._stereo=t,m._pos=[t,0,0],m._node&&(m._pannerAttr.panningModel="equalpower",(!m._panner||!m._panner.pan)&&e(m,a),a==="spatial"?typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):m._panner.setPosition(t,0,0):m._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),s._emit("stereo",m._id);else return m._stereo}return s},Howl.prototype.pos=function(t,r,s,a){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(t,r,s,a)}}),c;if(r=typeof r!="number"?0:r,s=typeof s!="number"?-.5:s,typeof a>"u")if(typeof t=="number")c._pos=[t,r,s];else return c._pos;for(var f=c._getSoundIds(a),m=0;m<f.length;m++){var v=c._soundById(f[m]);if(v)if(typeof t=="number")v._pos=[t,r,s],v._node&&((!v._panner||v._panner.pan)&&e(v,"spatial"),typeof v._panner.positionX<"u"?(v._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):v._panner.setPosition(t,r,s)),c._emit("pos",v._id);else return v._pos}return c},Howl.prototype.orientation=function(t,r,s,a){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(t,r,s,a)}}),c;if(r=typeof r!="number"?c._orientation[1]:r,s=typeof s!="number"?c._orientation[2]:s,typeof a>"u")if(typeof t=="number")c._orientation=[t,r,s];else return c._orientation;for(var f=c._getSoundIds(a),m=0;m<f.length;m++){var v=c._soundById(f[m]);if(v)if(typeof t=="number")v._orientation=[t,r,s],v._node&&(v._panner||(v._pos||(v._pos=c._pos||[0,0,-.5]),e(v,"spatial")),typeof v._panner.orientationX<"u"?(v._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),v._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),v._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):v._panner.setOrientation(t,r,s)),c._emit("orientation",v._id);else return v._orientation}return c},Howl.prototype.pannerAttr=function(){var t=this,r=arguments,s,a,c;if(!t._webAudio)return t;if(r.length===0)return t._pannerAttr;if(r.length===1)if(typeof r[0]=="object")s=r[0],typeof a>"u"&&(s.pannerAttr||(s.pannerAttr={coneInnerAngle:s.coneInnerAngle,coneOuterAngle:s.coneOuterAngle,coneOuterGain:s.coneOuterGain,distanceModel:s.distanceModel,maxDistance:s.maxDistance,refDistance:s.refDistance,rolloffFactor:s.rolloffFactor,panningModel:s.panningModel}),t._pannerAttr={coneInnerAngle:typeof s.pannerAttr.coneInnerAngle<"u"?s.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof s.pannerAttr.coneOuterAngle<"u"?s.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof s.pannerAttr.coneOuterGain<"u"?s.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof s.pannerAttr.distanceModel<"u"?s.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof s.pannerAttr.maxDistance<"u"?s.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof s.pannerAttr.refDistance<"u"?s.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof s.pannerAttr.rolloffFactor<"u"?s.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof s.pannerAttr.panningModel<"u"?s.pannerAttr.panningModel:t._panningModel});else return c=t._soundById(parseInt(r[0],10)),c?c._pannerAttr:t._pannerAttr;else r.length===2&&(s=r[0],a=parseInt(r[1],10));for(var f=t._getSoundIds(a),m=0;m<f.length;m++)if(c=t._soundById(f[m]),c){var v=c._pannerAttr;v={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:v.coneInnerAngle,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:v.coneOuterAngle,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:v.coneOuterGain,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:v.distanceModel,maxDistance:typeof s.maxDistance<"u"?s.maxDistance:v.maxDistance,refDistance:typeof s.refDistance<"u"?s.refDistance:v.refDistance,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:v.rolloffFactor,panningModel:typeof s.panningModel<"u"?s.panningModel:v.panningModel};var b=c._panner;b||(c._pos||(c._pos=t._pos||[0,0,-.5]),e(c,"spatial"),b=c._panner),b.coneInnerAngle=v.coneInnerAngle,b.coneOuterAngle=v.coneOuterAngle,b.coneOuterGain=v.coneOuterGain,b.distanceModel=v.distanceModel,b.maxDistance=v.maxDistance,b.refDistance=v.refDistance,b.rolloffFactor=v.rolloffFactor,b.panningModel=v.panningModel}return t},Sound.prototype.init=function(t){return function(){var r=this,s=r._parent;r._orientation=s._orientation,r._stereo=s._stereo,r._pos=s._pos,r._pannerAttr=s._pannerAttr,t.call(this),r._stereo?s.stereo(r._stereo):r._pos&&s.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var r=this,s=r._parent;return r._orientation=s._orientation,r._stereo=s._stereo,r._pos=s._pos,r._pannerAttr=s._pannerAttr,r._stereo?s.stereo(r._stereo):r._pos?s.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,s._refreshBuffer(r)),t.call(this)}}(Sound.prototype.reset);var e=function(t,r){r=r||"spatial",r==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()}(Xm)),Xm}var V1=gC();const yC=new V1.Howl({src:["https://files.catbox.moe/dpyz24.wav"],volume:.3}),t_=()=>{yC.play()},vC=new V1.Howl({src:["https://files.catbox.moe/k16ypk.wav"],volume:.3}),_C=()=>{vC.play()};function Qt(n){const[e,t]=jr.useState(n),r=jr.useRef(e),s=jr.useCallback(c=>{const f=typeof c=="function"?c(r.current):c;r.current=f,t(f)},[]);return{get:jr.useCallback(()=>r.current,[]),set:s}}const xC=({top:n,left:e,width:t,height:r,color:s,alpha:a})=>jr.useMemo(()=>rt.jsx(Gl.Graphics,{draw:f=>{f.beginFill(s,a),f.drawRect(e,n,t,r),f.endFill()}}),[n,e,t,r,s,a]),wC=()=>{const n={},e=jr.useRef(null),t=Qt(0),r=65,s=Qt(0),a=Qt(45),c=45,f=Qt(0),m=Qt(0),v=Qt(0),b=Qt(0),d=Qt(0),y=Qt(!1),_=Qt(!1),T=Qt(0),C=Qt(0),A=Qt(!1),P=Qt(0),N=Qt(1),D=Qt(0),j=Qt(0),O=le=>{Se.get()||(B.set(_e),Se.set(!0),R.set(0),de.get()!==0&&(de.set(0),z(de.get())));const{x:ge,y:Ae}=le.data.global;T.set(ge),C.set(Ae),P.set(ge),N.set(Ae),A.set(!0),J()},q=le=>{const{x:ge,y:Ae}=le.data.global;T.set(ge),C.set(Ae),A.set(!1),J()},U=le=>{const{x:ge,y:Ae}=le.data.global;T.set(ge),C.set(Ae),J()};function J(){A.get()?(D.set(T.get()-P.get()),j.set(C.get()-N.get())):(D.get()!==0&&D.set(0),j.get()!==0&&j.set(0))}function se(){const le=Zg(m.get(),v.get(),b.get(),d.get());Q.set(le)}const de=Qt(0),Se=Qt(!1),Q=Qt([]),Z={scr_w:800,scr_h:600},he=8,_e=100,B=Qt(_e),H=.25,R=Qt(0);function z(le){const ge=mC(le);ge.push(),Q.set(ge),f.set(c)}const F=[[s,()=>{}],[f,()=>{}],[a,()=>{a.set(45),R.get()>0&&B.set(Math.max(1,B.get()-1)),R.set(Math.max(0,R.get()-1))}]],k=Qt((()=>{const le=new rC(Bc(Re.from("/UT_SOUL.png")),"player",300,200,5);return le.width=32,le})()),G=le=>{n[le.key]=!1},X=le=>{["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(le.key)&&le.preventDefault(),n[le.key]=!0},ee=()=>{_C(),B.set(Math.min(_e,B.get()+20)),de.set(le=>le+1),z(de.get())},ce=le=>{if(!Se.get()){n.Enter&&(B.set(_e),Se.set(!0),R.set(0),de.get()!==0&&(de.set(0),z(de.get())));return}t.set(Ue=>Ue+1);for(const Ue of F){const Je=Ue[0].get();Je>.1&&Je<1.5&&Ue[1](),Je>.1&&Ue[0].set(_t=>Math.max(0,_t-1))}k.get().update(le,n,Z),k.get().update_on_vel(D.get(),j.get(),le,Z),Math.floor(s.get()/10)%2===0?k.get().alpha=1:k.get().alpha=0;const ge=k.get().getBBox().center();if(Math.max(s.get(),f.get())===0&&Q.get().some(Ue=>Ue.tag==="l"&&Ue.getBBox().rescale(1.2).intersects(ge[0],ge[1]))){ee();return}Q.get().forEach(Ue=>Ue.update(le,n,Z));const Ce=k.get().x,Be=k.get().y;Q.get().some(Ue=>Ue.getBBox().intersects(Ce,Be))&&f.get()<1&&s.get()<1&&(y.get()||s.set(r),_.get()||(y.get()?(B.set(Math.max(0,B.get()-.25)),B.get()%3===0&&t_(),R.set(Math.min(B.get(),R.get()+H))):(B.set(Math.max(0,B.get()-he)),t_())),B.get()<=0&&(Q.set(Q.get().filter(Ue=>Ue.tag==="l")),Se.set(!1)))},me=new tC(()=>B.get(),()=>_e,()=>R.get(),Z.scr_w/2,Z.scr_h*.9);return jr.useEffect(()=>{e.current,window.addEventListener("keydown",X),window.addEventListener("keyup",G);const le=new Sr;return z(de.get()),le.add(ce),le.start(),()=>{le.stop(),window.removeEventListener("keydown",X),window.removeEventListener("keyup",G)}},[]),rt.jsxs(rt.Fragment,{children:[rt.jsx("div",{style:{userSelect:"none",width:"90%"},children:rt.jsx(Gl.Stage,{width:800,height:600,options:{background:0},children:rt.jsxs(Gl.Container,{interactive:!0,onpointerdown:O,onpointermove:U,onpointerup:q,children:[rt.jsx(xC,{color:0,top:0,left:0,width:800,height:600,alpha:1}),k.get().DrawSprite(42904),Q.get().map((le,ge)=>le.DrawSprite(ge)),me.DrawSprite(42096),rt.jsx(Gl.Text,{text:`${de.get()}`,anchor:1,x:Z.scr_w-20,y:Z.scr_h-20,style:new ks({fill:["#ffffff"],fontSize:50})}),Se.get()?rt.jsx(rt.Fragment,{}):rt.jsx(Gl.Text,{text:"Press ENTER to start",anchor:.5,x:Z.scr_w/2,y:Z.scr_h*.5,style:new ks({fill:["#ffffff"],fontSize:50})})]})})}),rt.jsxs("div",{children:[rt.jsxs("div",{className:"overrides",children:[rt.jsxs("div",{className:"overrides-item",children:[rt.jsx("div",{children:" Yoshis "}),rt.jsx("input",{type:"number",value:m.get(),onChange:le=>{m.set(parseInt(le.target.value)||0)}})]}),rt.jsxs("div",{className:"overrides-item",children:[rt.jsx("div",{children:" Marios "}),rt.jsx("input",{type:"number",value:v.get(),onChange:le=>{v.set(parseInt(le.target.value)||0)}})]}),rt.jsxs("div",{className:"overrides-item",children:[rt.jsx("div",{children:" Warios "}),rt.jsx("input",{type:"number",value:b.get(),onChange:le=>{b.set(parseInt(le.target.value)||0)}})]}),rt.jsxs("div",{className:"overrides-item",children:[rt.jsx("div",{children:" Speed "}),rt.jsx("input",{type:"number",value:d.get(),onChange:le=>{d.set(parseInt(le.target.value)||0)}})]}),rt.jsx("div",{className:"overrides-item",children:rt.jsx("button",{onClick:se,children:"Apply changes"})}),rt.jsxs("div",{className:"overrides-item",children:[rt.jsx("div",{children:" Invunerable? "}),rt.jsx("input",{type:"checkbox",checked:_.get(),onChange:le=>{_.set(le.target.checked)}})]}),rt.jsxs("div",{className:"overrides-item",children:[rt.jsx("div",{children:" Sans mode "}),rt.jsx("input",{type:"checkbox",checked:y.get(),onChange:le=>{y.set(le.target.checked)}})]}),rt.jsxs("div",{className:"overrides-item",children:[rt.jsx("div",{children:"Site by"}),rt.jsx("div",{children:rt.jsx("a",{href:"https://i-win.carrd.co/",children:"i-win"})})]})]}),"Update 12:00 ET Dec 7: sprite speed now varies ",rt.jsx("br",{}),"Update 13:11 ET Dec 7: touchscreen now works! Touch the game"]})]})};function bC(){return rt.jsx(rt.Fragment,{children:rt.jsx("div",{className:"card",children:rt.jsx(wC,{})})})}Ax.createRoot(document.getElementById("root")).render(rt.jsx(jr.StrictMode,{children:rt.jsx(bC,{})}))});export default EC();
